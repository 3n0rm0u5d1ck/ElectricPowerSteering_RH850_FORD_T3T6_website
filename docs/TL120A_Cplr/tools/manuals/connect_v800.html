---
layout: default
title: connect_v800
nav_order: 44
parent: Cplr (TL120A)
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p><b>MULTI: Configuring Connections for</b></p>
<p><b>V850 and RH850 Targets</b></p>
<p><b>Green Hills Software</b></p>
<p><b>30 West Sola Street</b></p>
<p><b>Santa Barbara, California 93101</b></p>
<p><b>USA</b></p>
<p><b>Tel: 805-965-6044</b></p>
<p><b>Fax: 805-965-6343</b></p>
<p><b>www.ghs.com</b></p>
<h1 style="page-break-before:always; "></h1>
<p><b>LEGAL NOTICES AND DISCLAIMERS</b></p>
<p>GREEN HILLS SOFTWARE MAKES NO REPRESENTATIONS OR WARRANTIES WITH RESPECT TO THE</p>
<p>CONTENTS HEREOF AND SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTIES OF MERCHANTABILITY</p>
<p>OR FITNESS FOR ANY PARTICULAR PURPOSE. Further, Green Hills Software reserves the right to revise this</p>
<p>publication and to make changes from time to time in the content hereof without obligation of Green Hills Software to</p>
<p>notify any person of such revision or changes.</p>
<p>Copyright © 1983-2015 by Green Hills Software. All rights reserved. No part of this publication may be reproduced, stored</p>
<p>in a retrieval system, or transmitted, in any form or by any means, electronic, mechanical, photocopying, recording, or</p>
<p>otherwise, without prior written permission from Green Hills Software.</p>
<p>Green Hills, the Green Hills logo, CodeBalance, GMART, GSTART, INTEGRITY, MULTI, and Slingshot are registered</p>
<p>trademarks of Green Hills Software. AdaMULTI, Built with INTEGRITY, EventAnalyzer, G-Cover, GHnet, GHnetLite,</p>
<p>Green Hills Probe, Integrate, ISIM, u-velOSity, PathAnalyzer, Quick Start, ResourceAnalyzer, Safety Critical Products,</p>
<p>SuperTrace Probe, TimeMachine, TotalDeveloper, DoubleCheck, and velOSity are trademarks of Green Hills Software.</p>
<p>All other company, product, or service names mentioned in this book may be trademarks or service marks of their respective</p>
<p>owners.</p>
<p>For a partial listing of Green Hills Software and periodically updated patent marking information, please visit</p>
<p>http://www.ghs.com/copyright_patent.html.</p>
<p>PubID: connect_v800-544152</p>
<p>Branch: http://toolsvc/branches/release-branch-70-bto</p>
<p>Date: October 21, 2015</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p><b>Preface</b></p>
<p><b>vii</b></p>
<p>About</p>
<p>This Book . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>viii</p>
<p>Supported Target Connections for V850 and RH850 . . . . . . . . . . . .</p>
<p>viii</p>
<p>The MULTI Document Set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>ix</p>
<p>Conventions Used in the MULTI Document Set . . . . . . . . . . . . . . . . . . . . . .</p>
<p>x</p>
<p><b>1. Using the Connection Editor</b></p>
<p><b>1</b></p>
<p>General Information Settings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>3</p>
<p>Target-Specific Tabs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>4</p>
<p>The Command Line Viewer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>5</p>
<p>Action Buttons . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>6</p>
<p><b>2. Green Hills Monitor (monserv) Connections</b></p>
<p><b>7</b></p>
<p>Supported Features for Green Hills Monitor (monserv) Connections . . . .</p>
<p>8</p>
<p>Connecting to Your Target with a Green Hills Monitor . . . . . . . . . . . . . . . .</p>
<p>8</p>
<p>Creating a Standard Green Hills Monitor (monserv) Connection</p>
<p>Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>9</p>
<p>Using the Green Hills Monitor (monserv) Connection Editor . . . . . . .</p>
<p>9</p>
<p>Using Custom Green Hills Monitor (monserv) Connection</p>
<p>Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>13</p>
<p><b>3. Renesas V850/V850E ICE (850eserv2)</b></p>
<p><b>Connections</b></p>
<p><b>19</b></p>
<p>Target System Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Installing Your Renesas V850/V850E ICE . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Additional Windows Setup and Configuration . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Required Definition File for Network V850/V850E Interfaces . . . . .</p>
<p>21</p>
<p>Using the Green Hills SuperTrace Probe to Collect Real-time Trace</p>
<p>Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>22</p>
<p><i>iii</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Connecting to Your Target with an Renesas V850/V850E ICE . . . . . . . . .</p>
<p>23</p>
<p>Creating a Standard Renesas V850/V850E ICE (850eserv2)</p>
<p>Connection Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>24</p>
<p>Using the Renesas V850/V850E ICE (850eserv2) Connection</p>
<p>Editor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>24</p>
<p>Using Custom Renesas V850/V850E ICE (850eserv2) Connection</p>
<p>Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>29</p>
<p>Connecting Through a Remote Server (850eserv2_server) . . . . . . . . . . . .</p>
<p>33</p>
<p>Hardware Breakpoints . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>Troubleshooting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>General Troubleshooting Checklist . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>Error Messages . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>35</p>
<p>Target Commands for Renesas V850/V850E ICE (850eserv2)</p>
<p>Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>36</p>
<p>Data and Register Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>36</p>
<p>Execution Command . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>37</p>
<p>Event, Trigger, and Trace Setting Commands . . . . . . . . . . . . . . . . . . .</p>
<p>37</p>
<p>Trace Display Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>37</p>
<p>Emulator Configuration Commands . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>38</p>
<p>Other Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>38</p>
<p>Target Command Descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>39</p>
<p><b>4. RTE (rteserv2) Connections</b></p>
<p><b>67</b></p>
<p>Supported Targets for RTE (rteserv2) Connections . . . . . . . . . . . . . . . . . . .</p>
<p>68</p>
<p>Installing Your RTE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>68</p>
<p>Checking Your RTE Connection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>68</p>
<p>Using the Green Hills SuperTrace Probe to Collect Real-time Trace</p>
<p>Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>69</p>
<p>Connecting the SuperTrace Probe to a Midas RTE Cube . . . . . . . . . .</p>
<p>70</p>
<p>Collecting Trace Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>70</p>
<p>Connecting to a RTE Target . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>70</p>
<p>Creating a Standard RTE (rteserv2) Connection Method . . . . . . . . . .</p>
<p>71</p>
<p>Using the RTE (rteserv2) Connection Editor . . . . . . . . . . . . . . . . . . . .</p>
<p>71</p>
<p>Commands for RTE (rteserv2) Connections . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<p>General rteserv2 Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<p>Commands for Specific RTEs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>74</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>iv</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>5. Multi-core Simulator for V850 and RH850 (simrh850)</b></p>
<p><b>Connections</b></p>
<p><b>77</b></p>
<p>Installing the Multi-core Simulator for V850 and RH850 (simrh850) . . .</p>
<p>78</p>
<p>Connecting to the Multi-Core Simulator for V850 and RH850</p>
<p>(simrh850) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>78</p>
<p>Creating a Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>Connection Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>78</p>
<p>Using the Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>Connection Editor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>79</p>
<p>Using Custom Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>Connection Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>82</p>
<p>Additional Commands for Multi-core Simulator for V850 and RH850</p>
<p>(simrh850) Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>84</p>
<p>Profiling with simrh850 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>Simulation Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>OS Simulation Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>ROM Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>87</p>
<p>Unsupported Features . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>87</p>
<p>Connecting to the Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>as a Stand-alone Debug Server . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>88</p>
<p><b>A. Green Hills Debug Server Command and Scripting</b></p>
<p><b>Reference</b></p>
<p><b>89</b></p>
<p>Green Hills Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>90</p>
<p>Generic Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>90</p>
<p>Additional Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>96</p>
<p>The Green Hills Debug Server Scripting Language . . . . . . . . . . . . . . . . . .</p>
<p>96</p>
<p>General Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>96</p>
<p>Scripting Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>97</p>
<p>Example Scripts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>101</p>
<p><b>B. Target-Specific Trace Options and Triggers</b></p>
<p><b>105</b></p>
<p>Renesas V850E IECUBE Target-Specific Options . . . . . . . . . . . . . . . . . .</p>
<p>106</p>
<p><i>v</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Renesas V850E2RV3 IECUBE2 Target-Specific Options . . . . . . . . . . . .</p>
<p>108</p>
<p>Renesas RH850 Target-Specific Options . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>111</p>
<p>V850E/V850E2R RTE Target-Specific Options . . . . . . . . . . . . . . . . . . . .</p>
<p>113</p>
<p>V850 Target-Specific Trace Triggers . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>116</p>
<p><b>Index</b></p>
<p><b>119</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>vi</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Preface</b></p>
<p><b>Contents</b></p>
<p>About</p>
<p>This Book . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>viii</p>
<p>The MULTI Document Set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>ix</p>
<p>Conventions Used in the MULTI Document Set . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>x</p>
<h1 style="page-break-before:always; "></h1>
<p>This preface discusses the purpose of the manual, the MULTI documentation set,</p>
<p>and typographical conventions used.</p>
<p><b>About This Book</b></p>
<p>The MULTI Debugger can be used to debug applications that reside on native,</p>
<p>embedded, or simulated<i> targets</i>. To debug these applications, MULTI must first</p>
<p>connect to the target through a<i> debug server</i> that runs on the host. Each distribution</p>
<p>of the MULTI Integrated Development Environment (IDE) includes multiple debug</p>
<p>servers, each of which supports connections to a specific set of probes, in-circuit</p>
<p>emulators, monitors, and/or target simulators. This book describes how to configure</p>
<p>connections to your target using the appropriate debug server. Specifically:</p>
<p>•</p>
<p>The chapters in this book provide connecting instructions, features, commands,</p>
<p>and options specific to each debug server. This information supplements the</p>
<p>general connection instructions described in the documentation about connecting</p>
<p>to your target in the<i> MULTI: Debugging</i> book.</p>
<p>•</p>
<p>Appendix A, “Green Hills Debug Server Command and Scripting Reference”,</p>
<p>documents the commands that are supported by some Green Hills debug servers</p>
<p>and describes the scripting language and conventions used for writing target</p>
<p>setup scripts in previous versions of MULTI. The scripting language described</p>
<p>in this appendix has been deprecated beginning with MULTI 5.0. The new</p>
<p>scripting conventions are described in the documentation about MULTI scripts</p>
<p>in the<i> MULTI: Scripting</i> book.</p>
<p><b>Note</b></p>
<p>New or updated information may have become available while this book</p>
<p>was in production. For additional material that was not available at press</p>
<p>time, or for revisions that may have become necessary since this book</p>
<p>was printed, please check your installation directory for release notes,</p>
<p><b>README</b> files, and other supplementary documentation.</p>
<p><b>Supported Target Connections for V850 and RH850</b></p>
<p>The following table lists the target connections supported for V850 and RH850.</p>
<p>For detailed information about each type of target connection, see the appropriate</p>
<p>chapter, as identified in the table.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>viii</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Debug server chapter</b></p>
<p><b>Green Hills</b></p>
<p><b>debug server</b></p>
<p><b>Debugging interface</b></p>
<p>Chapter 2, “Green Hills Monitor (monserv)</p>
<p>Connections” on page 7</p>
<p><b>monserv</b></p>
<p>Green Hills Monitor</p>
<p>Chapter 3, “Renesas V850/V850E ICE</p>
<p>(850eserv2) Connections” on page 19</p>
<p><b>850eserv2</b></p>
<p>Renesas V850/V850E ICE</p>
<p>Chapter 4, “RTE (rteserv2) Connections”</p>
<p>on page 67</p>
<p><b>rteserv2</b></p>
<p>RTE Server</p>
<p>Chapter 5, “Multi-core Simulator for V850</p>
<p>and RH850 (simrh850) Connections”</p>
<p>on page 77</p>
<p><b>simrh850</b></p>
<p>Simulator for V850 and</p>
<p>RH850</p>
<p><b>Note</b></p>
<p>If you are using MULTI with the Green Hills INTEGRITY RTOS, see</p>
<p>the INTEGRITY document set you received with your INTEGRITY</p>
<p>distribution. If you are using another supported OS target, see the</p>
<p>appropriate book from the list below.</p>
<p>•</p>
<p><i>MULTI: Developing for Linux and GNU</i></p>
<p>•</p>
<p><i>MULTI: Developing for OSE</i></p>
<p>•</p>
<p><i>MULTI: Developing for ThreadX</i></p>
<p>This list may not be comprehensive. Contact Green Hills Technical</p>
<p>Support if your particular debugging interface, monitor, simulator, or OS</p>
<p>does not appear in the list.</p>
<p><b>The MULTI Document Set</b></p>
<p>The primary documentation for using MULTI is provided in the following books:</p>
<p>•</p>
<p><i>MULTI: Getting Started</i> — Provides an introduction to the MULTI Integrated</p>
<p>Development Environment and leads you through a simple tutorial.</p>
<p>•</p>
<p><i>MULTI: Licensing</i> — Describes how to obtain, install, and administer MULTI</p>
<p>licenses.</p>
<p>•</p>
<p><i>MULTI: Managing Projects and Configuring the IDE</i> — Describes how to</p>
<p>create and manage projects and how to configure the MULTI IDE.</p>
<p><i>ix</i></p>
<p><i>Green Hills Software</i></p>
<p><i>The MULTI Document Set</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><i>MULTI: Building Applications</i> — Describes how to use the compiler driver</p>
<p>and the tools that compile, assemble, and link your code. Also describes the</p>
<p>Green Hills implementation of supported high-level languages.</p>
<p>•</p>
<p><i>MULTI: Configuring Connections</i> — Describes how to configure connections</p>
<p>to your target.</p>
<p>•</p>
<p><i>MULTI: Debugging</i> — Describes how to set up your target debugging interface</p>
<p>for use with MULTI and how to use the MULTI Debugger and associated tools.</p>
<p>•</p>
<p><i>MULTI: Debugging Command Reference</i> — Describes how to use Debugger</p>
<p>commands and provides a comprehensive reference of Debugger commands.</p>
<p>•</p>
<p><i>MULTI: Scripting</i> — Describes how to create MULTI scripts. Also contains</p>
<p>information about the MULTI-Python integration.</p>
<p>For a comprehensive list of the books provided with your MULTI installation, see</p>
<p>the<b> Help</b> →<b> Manuals</b> menu accessible from most MULTI windows.</p>
<p>All books are available in one or more of the following formats:</p>
<p>•</p>
<p>Print.</p>
<p>•</p>
<p>Online help, accessible from most MULTI windows via the<b> Help</b> →<b> Manuals</b></p>
<p>menu.</p>
<p>•</p>
<p>PDF, available in the<b> manuals</b> subdirectory of your MULTI or compiler</p>
<p>installation.</p>
<p><b>Conventions Used in the MULTI Document Set</b></p>
<p>All Green Hills documentation assumes that you have a working knowledge of your</p>
<p>host operating system and its conventions, including its command line and graphical</p>
<p>user interface (GUI) modes.</p>
<p>Green Hills documentation uses a variety of notational conventions to present</p>
<p>information and describe procedures. These conventions are described below.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>x</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example</b></p>
<p><b>Indication</b></p>
<p><b>Convention</b></p>
<p><b>C:\MyProjects</b></p>
<p>Filename or pathname</p>
<p><b>bold</b> type</p>
<p><b>setup</b> command</p>
<p>Command</p>
<p><b>-G</b> option</p>
<p>Option</p>
<p>The<b> Breakpoints</b> window</p>
<p>Window title</p>
<p>The<b> File</b> menu</p>
<p>Menu name or menu choice</p>
<p><b>Working Directory:</b></p>
<p>Field name</p>
<p>The<b> Browse</b> button</p>
<p>Button name</p>
<p><b>-o<i> filename</b></i></p>
<p>Replaceable text</p>
<p><i>italic</i> type</p>
<p>A task may be called a<i> process</i></p>
<p>or a<i> thread</i></p>
<p>A new term</p>
<p><i>MULTI: Debugging</i></p>
<p>A book title</p>
<p>Type</p>
<p>help<i> command_name</i></p>
<p>Text you should enter as presented</p>
<p>monospace</p>
<p>type</p>
<p>The<b> wait</b> [-global] command</p>
<p>blocks command processing,</p>
<p>where</p>
<p>-global</p>
<p>blocks</p>
<p>command processing for all</p>
<p>MULTI processes.</p>
<p>A word or words used in a</p>
<p>command or example</p>
<p>int a = 3;</p>
<p>Source code</p>
<p>&gt; print Test</p>
<p>Test</p>
<p>Input/output</p>
<p>GHS_System()</p>
<p>A function</p>
<p><b>debugbutton</b> [<i>name</i>]...</p>
<p>The preceding argument or option</p>
<p>can be repeated zero or more times.</p>
<p>ellipsis (...)</p>
<p>(in command line</p>
<p>instructions)</p>
<p>&gt; print Test</p>
<p>Test</p>
<p>Represents a prompt. Your actual</p>
<p>prompt may be a different symbol</p>
<p>or string. The &gt; prompt helps to</p>
<p>distinguish input from output in</p>
<p>examples of screen displays.</p>
<p>greater than sign ( &gt; )</p>
<p><b>call<i></b> func</i> |<i> expr</i></p>
<p>One (and only one) of the</p>
<p>parameters or options separated by</p>
<p>the pipe or pipes should be</p>
<p>specified.</p>
<p>pipe ( | )</p>
<p>(in command line</p>
<p>instructions)</p>
<p><i>xi</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Conventions Used in the MULTI Document Set</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example</b></p>
<p><b>Indication</b></p>
<p><b>Convention</b></p>
<p>.macro<i> name</i> [<i>list</i>]</p>
<p>Optional argument, command,</p>
<p>option, and so on. You can either</p>
<p>include or omit the enclosed</p>
<p>elements. The square brackets</p>
<p>should not appear in your actual</p>
<p>command.</p>
<p>square brackets ( [ ] )</p>
<p>(in command line</p>
<p>instructions)</p>
<p>The following command description demonstrates the use of some of these</p>
<p>typographical conventions.</p>
<p><b>gxyz</b> [<i>-option</i>]...<i> filename</i></p>
<p>The formatting of this command indicates that:</p>
<p>•</p>
<p>The command<b> gxyz</b> should be entered as shown.</p>
<p>•</p>
<p>The option</p>
<p><i>-option</i></p>
<p>should either be replaced with one or more appropriate</p>
<p>options or be omitted.</p>
<p>•</p>
<p>The word</p>
<p><i>filename</i></p>
<p>should be replaced with the actual filename of an</p>
<p>appropriate file.</p>
<p>The square brackets and the ellipsis should not appear in the actual command you</p>
<p>enter.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>xii</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 1</b></p>
<p><b>Using the Connection Editor</b></p>
<p><b>Contents</b></p>
<p>General Information Settings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>3</p>
<p>Target-Specific Tabs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>4</p>
<p>The Command Line Viewer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>5</p>
<p>Action Buttons . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>6</p>
<h1 style="page-break-before:always; "></h1>
<p>The<b> Connection Editor</b> is a target specific dialog that you can use to configure and</p>
<p>edit Connection Methods.</p>
<p>The<b> Connection Editor</b> window for Standard Connection Methods has four sections,</p>
<p>which are called out in the above graphic and documented in the following sections.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>2</i></p>
<p><i>Chapter 1. Using the Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>General Information Settings</b></p>
<p>The first section of the<b> Connection Editor</b> contains fields that display and/or set</p>
<p>basic properties of a Connection Method. These fields are standard and appear on</p>
<p>nearly all<b> Connection Editor</b> windows. The following table describes each field.</p>
<p><b>Name</b></p>
<p>Displays the name of the Standard Connection Method you define or edit. You can change the</p>
<p>name of your method by editing this field.</p>
<p><b>Type</b></p>
<p>Displays the type of debugging interface the Connection Method is for, which determines which</p>
<p>debug server MULTI uses. The connection type is specified when you create a Standard</p>
<p>Connection Method. You cannot edit this read-only field.</p>
<p><b>Log Connection to file</b></p>
<p>Enables you to log transactions between MULTI and your debug server. To specify the file to</p>
<p>write the log to, enter a pathname or click</p>
<p>to browse for the desired file. On Linux/Solaris,</p>
<p>if you check the option box but do not specify a filename, MULTI writes the log to standard</p>
<p>error output. Logging is disabled by default.</p>
<p><b>Target Setup script</b></p>
<p>Specifies your target setup script file. This is an optional field because not all targets require</p>
<p>setup scripts.</p>
<p>If you require a setup script to configure your board, specify the filename (and full path, if</p>
<p>necessary) of the appropriate script or click</p>
<p>to browse for it. When this Connection Method</p>
<p>is used, MULTI usually runs the specified script before each download. If you are editing a</p>
<p>default Connection Method created by the<b> Project Wizard</b> for your processor-board combination,</p>
<p>the necessary setup script file (if applicable) appears in this field automatically.</p>
<p>To open the Editor on the target setup script, click</p>
<p>. If no setup script is specified in this field,</p>
<p>the Editor opens on a file with a filename derived from the debug connection's name.</p>
<p>For more information about target setup scripts, see the documentation about configuring your</p>
<p>target hardware in the<i> MULTI: Debugging</i> book.</p>
<p><i>3</i></p>
<p><i>Green Hills Software</i></p>
<p><i>General Information Settings</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Scripting language radio buttons</p>
<p>Specify the scripting language so that MULTI knows how to interpret the specified target setup</p>
<p>script, where:</p>
<p>•</p>
<p><b>MULTI</b> — Indicates that the specified target setup script was written with the MULTI</p>
<p>scripting language. This is the default setting. For more information about MULTI scripting</p>
<p>in general, see the documentation about MULTI scripts in the<i> MULTI: Scripting</i> book.</p>
<p>•</p>
<p><b>Legacy</b> — Indicates that the specified target setup script was written with the debug server</p>
<p>scripting language. For more information, see Appendix A, “Green Hills Debug Server</p>
<p>Command and Scripting Reference” on page 89.</p>
<p>In previous versions of MULTI, target setup scripts had<b> .dbs</b> extensions and used the Green</p>
<p>Hills debug server scripting conventions and associated debug server commands. Beginning</p>
<p>with the v4.0 release, that scripting language was deprecated, and support for it will be</p>
<p>discontinued in a future release. The default setup scripts created by the<b> Project Wizard</b> have</p>
<p><b>.mbs</b> extensions and use MULTI Debugger commands and scripting conventions instead. You</p>
<p>must indicate which scripting language your setup script uses so that MULTI interprets it</p>
<p>properly. When using the MULTI scripting language, you can still specify debug server</p>
<p>commands by using the MULTI<b> target</b> command. For information about this command, see</p>
<p>the documentation about general target connection commands in the<i> MULTI: Debugging</i></p>
<p><i>Command Reference</i> book.</p>
<p>For more detailed information about editing and using setup scripts, see the documentation</p>
<p>about configuring your target hardware in the<i> MULTI: Debugging</i> book.</p>
<p><b>Target-Specific Tabs</b></p>
<p>The second section of the<b> Connection Editor</b> contains one or more tabs that contain</p>
<p>fields for setting options specific to your debugging interface, type of connection,</p>
<p>and target architecture. The number of tabs and the fields that appear vary according</p>
<p>to the type of Standard Connection Method you are editing.</p>
<p>When the<b> Connection Editor</b> is first displayed after you create a new Connection</p>
<p>Method, the settings and options are set to default values. Settings and options that</p>
<p>are not available on your host operating system may appear dimmed. Some of the</p>
<p>fields may require user input before the Connection Method can be used.</p>
<p>The following table describes in general terms the types of settings and options that</p>
<p>appear on the most common tabs.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>4</i></p>
<p><i>Chapter 1. Using the Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Tab</b></p>
<p>The options on this tab usually require input for the Connection</p>
<p>Method to function properly. The settings you choose for the</p>
<p>connection options are probably different for each new target you</p>
<p>connect to.</p>
<p><b>Connection</b> tab</p>
<p>The option on this tab is useful if you are debugging an INTEGRITY</p>
<p>system. For more information, see the documentation for</p>
<p><b>set_runmode_partner</b> in<i> MULTI: Debugging Command Reference</i>.</p>
<p><b>INTEGRITY</b> tab</p>
<p>The options on this tab allow you to customize the process of</p>
<p>downloading programs to the target. For example, this tab allows you</p>
<p>to control what program sections are downloaded to the target.</p>
<p><b>Download</b> tab</p>
<p>The options on this tab allow a high degree of control over the details</p>
<p>of your connection. These options can often be left in their default</p>
<p>states. Use this tab sparingly because changing the advanced options</p>
<p>from their default settings may cause problems with your connection.</p>
<p><b>Advanced</b> tab</p>
<p>The options on this tab are provided to help troubleshoot your</p>
<p>connection. You should not change these settings unless instructed</p>
<p>to do so by Green Hills Technical Support.</p>
<p><b>Debug</b> tab</p>
<p>Most<b> Connection Editors</b> include at least a<b> Connection</b> tab and a<b> Debug</b> tab, but</p>
<p>many contain additional tabs. For most connections, you need to set or edit some</p>
<p>of the fields on these tabs for your Standard Connection Method to work properly.</p>
<p>For more information about the<b> Connection Editor</b> settings available for your</p>
<p>particular target, see the chapter that documents your debug server, or if you are a</p>
<p>Green Hills Probe or SuperTrace Probe user, see the<i> Green Hills Debug Probes</i></p>
<p><i>User's Guide</i>.</p>
<p><b>The Command Line Viewer</b></p>
<p>The third section of the<b> Connection Editor</b> displays the command line equivalents</p>
<p>of your GUI selections. Default selections do not always have corresponding</p>
<p>commands or options on the command line.</p>
<p>The command line viewer is a read-only field. You cannot make changes to the</p>
<p>command line by typing in this field.</p>
<p>Changes you make in the GUI will not be reflected in the command line viewer</p>
<p>until you click<b> Apply</b> or<b> OK</b>.</p>
<p><i>5</i></p>
<p><i>Green Hills Software</i></p>
<p><i>The Command Line Viewer</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action Buttons</b></p>
<p>The fourth section of the<b> Connection Editor</b> contains buttons that allow you to</p>
<p>discard your edits, apply your edits, or connect using a Connection Method. The</p>
<p>following table describes each button.</p>
<p><b>Description</b></p>
<p><b>Button</b></p>
<p>Records your changes, connects to your target using the Standard</p>
<p>Connection Method you are editing, and closes the<b> Connection</b></p>
<p><b>Editor</b>.</p>
<p><b>Connect</b></p>
<p>Records your changes and closes the<b> Connection Editor</b>.</p>
<p><b>OK</b></p>
<p>Discards your changes and closes the<b> Connection Editor</b>.</p>
<p><b>Cancel</b></p>
<p>Discards your changes and leaves the<b> Connection Editor</b> open.</p>
<p><b>Revert</b></p>
<p>Records your changes and leaves the<b> Connection Editor</b> open.</p>
<p><b>Apply</b></p>
<p><b>Note</b></p>
<p>Clicking<b> Connect</b>,<b> OK</b>, or<b> Apply</b> in the<b> Connection Editor</b> saves your</p>
<p>Standard Connection Method. In the future, the Connection Method will</p>
<p>appear in the list of available Connection Methods in the<b> Connection</b></p>
<p><b>Chooser</b> and the<b> Connection Organizer</b>.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>6</i></p>
<p><i>Chapter 1. Using the Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2</b></p>
<p><b>Green Hills Monitor</b></p>
<p><b>(monserv) Connections</b></p>
<p><b>Contents</b></p>
<p>Supported Features for Green Hills Monitor (monserv) Connections . . . . . . . .</p>
<p>8</p>
<p>Connecting to Your Target with a Green Hills Monitor . . . . . . . . . . . . . . . . . . . .</p>
<p>8</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter supplements the general target connection information contained in</p>
<p>Chapter 2, “Setting Up Your Target Hardware” of this book and the documentation</p>
<p>about connecting to your target in the<i> MULTI: Debugging</i> book with specific</p>
<p>information for Green Hills Monitor connections.</p>
<p><b>Supported Features for Green Hills Monitor (monserv)</b></p>
<p><b>Connections</b></p>
<p>The Green Hills Monitor is a debug monitor that allows MULTI to download, run,</p>
<p>and debug programs. The debug monitor allows you to read and write memory and</p>
<p>program registers, set breakpoints, and perform other debugging functions.</p>
<p>MULTI uses the<b> monserv</b> debug server to connect to your Green Hills Monitor, as</p>
<p>shown in the following diagram.</p>
<p><b>Connecting to Your Target with a Green Hills Monitor</b></p>
<p>After you have installed and configured your system, you are ready to connect to</p>
<p>your target and begin debugging. To help you connect to your target quickly and</p>
<p>easily, MULTI allows you to create and save Connection Methods that correspond</p>
<p>to your particular host and target systems and your desired debugging options.</p>
<p>For general instructions on how to create and use Connection Methods, the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p>The information in the following sections supplements the instructions provided</p>
<p>there with information that is specific to Green Hills Monitor connections.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>8</i></p>
<p><i>Chapter 2. Green Hills Monitor (monserv) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Creating a Standard Green Hills Monitor (monserv) Connection Method</b></p>
<p>When creating a new Standard Green Hills Monitor Connection Method, select</p>
<p><b>Green Hills Monitor (monserv)</b> as the connection type in the<b> Create New</b></p>
<p><b>Connection Method</b> dialog box.</p>
<p>For detailed information about creating new Standard Connection Methods, see the</p>
<p>documentation about Standard Connection Methods in the<i> MULTI: Debugging</i></p>
<p>book.</p>
<p><b>Using the Green Hills Monitor (monserv) Connection Editor</b></p>
<p>In addition to the generic fields that appear on all Connection Editors for Standard</p>
<p>Connection Methods, the<b> Green Hills Monitor (monserv) Connection Editor</b></p>
<p>includes<b> Connection</b>,<b> Advanced</b>, and<b> Debug</b> tabs that provide settings and options</p>
<p>specific to your target and host operating systems.</p>
<p><i>9</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Creating a Standard Green Hills Monitor (monserv) Connection Method</i></p>
<h1 style="page-break-before:always; "></h1>
<p>When the<b> Connection Editor</b> is first displayed after you create a new Connection</p>
<p>Method, the settings and options are set to default values. Settings and options that</p>
<p>are not available on your host operating system may appear dimmed. Some of the</p>
<p>fields may require user input before the Connection Method can be used.</p>
<p>All of the fields on the<b> Connection</b>,<b> Advanced</b>, and<b> Debug</b> tabs of the<b> Green Hills</b></p>
<p><b>Monitor (monserv) Connection Editor</b> are described in detail in the tables below.</p>
<p>(See the documentation about the Connection Editor in the<i> MULTI: Configuring</i></p>
<p><i>Connections</i> book for a description of the other fields and options, which appear</p>
<p>on all<b> Connection Editors</b>.)</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>10</i></p>
<p><i>Chapter 2. Green Hills Monitor (monserv) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Green Hills Monitor (monserv) Connection Settings</b></p>
<p><b>Serial Port</b></p>
<p>Specifies the serial port device to use when connecting to the target. The default for each</p>
<p>supported operating system is:</p>
<p>•</p>
<p>(Windows)<b> COM1</b></p>
<p>•</p>
<p>(Solaris)<b> /dev/ttya</b></p>
<p>•</p>
<p>(Linux)<b> /dev/ttyS0</b></p>
<p>•</p>
<p>(HP-UX)<b> /dev/tty00</b></p>
<p><b>Baud</b></p>
<p>Sets the serial port communication speed. The default baud rate is 9600.</p>
<p><b>Green Hills Monitor (monserv) Advanced Settings</b></p>
<p><b>Warning</b></p>
<p>Use this tab carefully, since changing the advanced options from their</p>
<p>default settings can cause problems with your connection.</p>
<p><i>11</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Green Hills Monitor (monserv) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Monitor halt signal</b></p>
<p>Specifies which signal will interrupt and halt target program execution and return control to the</p>
<p>monitor. Select one of the available halt mechanisms:</p>
<p>•</p>
<p><b>Monitor uses serial break for halt</b> (default)</p>
<p>•</p>
<p><b>Monitor uses '0x00' for halt</b></p>
<p>•</p>
<p><b>Monitor uses '0xFF' for halt</b></p>
<p><b>Load Sections</b></p>
<p>Controls which sections of your program will be downloaded to the target, as follows:</p>
<p>•</p>
<p><b>Text</b> — If this box is checked, the</p>
<p>.text</p>
<p>(code) sections of your program will be</p>
<p>downloaded to the target. This box is checked by default.</p>
<p>•</p>
<p><b>Data</b> — If this box is checked, the</p>
<p>.data</p>
<p>(initialized data) sections of your program will</p>
<p>be downloaded to the target. This box is checked by default.</p>
<p>•</p>
<p><b>BSS</b> — If this box is checked, the</p>
<p>.bss</p>
<p>(uninitialized data) sections of your program will</p>
<p>be cleared. This box is not checked by default.</p>
<p><b>Green Hills Monitor (monserv) Debug Settings</b></p>
<p><b>Warning</b></p>
<p>Do not change the settings on the<b> Debug</b> tab unless you are instructed to</p>
<p>do so by Green Hills Technical Support.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>12</i></p>
<p><i>Chapter 2. Green Hills Monitor (monserv) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Log Host-Target Debug Output</b></p>
<p>Enables logging of all communications between<b> monserv</b> and the Green Hills Monitor. Logging</p>
<p>is disabled by default.</p>
<p><b>Log to stderr/stdout</b></p>
<p><b>Log to monserv.log</b></p>
<p>Allows you to specify the destination for host-target debug output. These fields will be dimmed</p>
<p>unless<b> Log Host-Target Debug Output</b> is selected. Select the appropriate button to send the</p>
<p>debug output to<b> stderr/stdout</b> (the default setting) or<b> monserv.log</b>.</p>
<p><b>Other Options</b></p>
<p>Allows you to add other, optional arguments directly to the command line. You should only</p>
<p>use this field if directed to do so by Green Hills Technical Support.</p>
<p><b>Using Custom Green Hills Monitor (monserv) Connection Methods</b></p>
<p>To connect to your Green Hills Monitor with a Custom Connection Method, type</p>
<p>the command given below, with the appropriate parameters and options, into the</p>
<p><b>Start a Custom Connection</b> dialog box and click<b> Connect</b>.</p>
<p><b>monserv</b> [<b>-sp<i> port</b></i>] [<b>-baud<i> baud_rate</b></i>] [<i>options</i>]...</p>
<p>where:</p>
<p>•</p>
<p><b>-sp<i> port</b></i> is optional and specifies the serial port to use when connecting to the</p>
<p>target. If no serial port is specified, the default is:</p>
<p>○</p>
<p>(Windows)<b> COM1</b></p>
<p>○</p>
<p>(Solaris)<b> /dev/ttya</b></p>
<p>○</p>
<p>(Linux)<b> /dev/ttyS0</b></p>
<p>○</p>
<p>(HP-UX)<b> /dev/tty00</b></p>
<p>•</p>
<p><b>-baud<i> baud_rate</b></i> is optional and sets the serial port communication speed. The</p>
<p>valid arguments for<i> baud_rate</i> are 9600, 19200, 38400, 57600, and 115200. If</p>
<p>the<b> -baud</b> option is not used,<b> monserv</b> defaults to 9600 baud.</p>
<p>•</p>
<p><i>options</i> can be any non-conflicting combination of the<b> monserv</b> options listed</p>
<p>in “Other Options for Custom Green Hills Monitor (monserv) Connection</p>
<p>Methods” on page 14.</p>
<p><i>13</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Green Hills Monitor (monserv) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>You can also enter the above connection command from the Debugger's</p>
<p>command pane, where it must be preceded by the<b> connect</b> command.</p>
<p>See the documentation about Custom Connection Methods in the<i> MULTI: Debugging</i></p>
<p>book for more information about Custom Connections.</p>
<p>For example connection commands, see “Example Custom Green Hills Monitor</p>
<p>(monserv) Connection Methods” on page 17.</p>
<p><b>Other Options for Custom Green Hills Monitor (monserv)</b></p>
<p><b>Connection Methods</b></p>
<p>In addition to the specific options described in the custom connection section above,</p>
<p>you can also use any non-conflicting combination of the options listed below when</p>
<p>creating or using a Custom Green Hills Monitor (monserv) Connection Method.</p>
<p><b>-bss</b></p>
<p>Sets downloading of</p>
<p>.bss</p>
<p>(uninitialized data) sections. By default,</p>
<p>.bss</p>
<p>downloading is disabled</p>
<p>because the default Green Hills startup code clears</p>
<p>.bss</p>
<p>sections. This option allows you to</p>
<p>clear</p>
<p>.bss</p>
<p>sections upon download.</p>
<p><b>-dbreak</b></p>
<p>Specifies that the character</p>
<p>0xFF</p>
<p>will interrupt and halt the target program execution. (If this</p>
<p>option is not used, the default halt monitor signal is a serial break.)</p>
<p><b>-debug<i> n</b></i></p>
<p>Sets the communication channel debugging level to<i> n</i>. See the note and table below for more</p>
<p>information.</p>
<p><b>-loadall</b></p>
<p>Enables downloading of all program sections. By default, all sections are loaded except for</p>
<p>uninitialized data (</p>
<p>.bss</p>
<p>) sections, which are cleared by the default Green Hills startup code.</p>
<p>The<b> -loadall</b> option allows you to download all sections, including</p>
<p>.bss</p>
<p>.</p>
<p><b>-nobss</b></p>
<p>Disables uninitialized data (</p>
<p>.bss</p>
<p>) clearing by<b> ocdserv</b>. This option is enabled by default and</p>
<p>is documented for backward compatibility only.</p>
<p><b>-nodata</b></p>
<p>Disables downloading of initialized data (</p>
<p>.data</p>
<p>) sections.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>14</i></p>
<p><i>Chapter 2. Green Hills Monitor (monserv) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>-noload</b></p>
<p>Disables downloading of any of the program sections in an executable file.</p>
<p>This option is useful when debugging an executable that is already loaded on the target. For</p>
<p>example, use this option when debugging an executable in ROM or flash memory. This option</p>
<p>does not disable stack setup processes, such as setting the stack pointer, writing the stack to</p>
<p>memory, or setting the system call breakpoint.</p>
<p><b>-notext</b></p>
<p>Disables downloading of program sections containing executable code (</p>
<p>.text</p>
<p>sections).</p>
<p><b>-zbreak</b></p>
<p>Specifies that the character</p>
<p>0x00</p>
<p>will interrupt and halt the target program execution. (If this</p>
<p>option is not used, the default halt monitor signal is a serial break.)</p>
<p><b>Note</b></p>
<p>The<b> -debug</b> option should only be used when troubleshooting the</p>
<p>communications channel between<b> monserv</b> and the debug monitor. The</p>
<p>debugging level specified by<i> n</i> is the sum of the following bit flags.</p>
<p><i>15</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Green Hills Monitor (monserv) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Bit Value</b></p>
<p>Displays communications with the debug monitor at the byte level. This shows</p>
<p>every byte as it is transmitted or received. Every line preceded by</p>
<p>monserv:</p>
<p>shows what was sent by<b> monserv</b> to the monitor. Every line preceded by</p>
<p>monitor:</p>
<p>shows what was sent back by the monitor to<b> monserv</b>.</p>
<p>Example:</p>
<p>monserv: 01 0f 0f</p>
<p>monitor: 05</p>
<p>monitor: 00 00 00 03 04</p>
<p>monitor: 07</p>
<p>1</p>
<p>Displays communications at the message level. Every line preceded by</p>
<p>request:</p>
<p>shows a message sent to the monitor and each line preceded by</p>
<p>response:</p>
<p>shows</p>
<p>the monitor's response in a human readable format.</p>
<p>Example:</p>
<p>request: Monitor cpu/coproc id</p>
<p>response: 304</p>
<p>request: Initialize</p>
<p>response: Okay</p>
<p>request: Write Register 17 = 109ec</p>
<p>response: Okay</p>
<p>2</p>
<p>Displays timeouts, error detection, and retransmits. If MULTI seems too slow,</p>
<p>this will tell you if the slowness is due to a noisy line.</p>
<p>Example:</p>
<p>*Timed out on read from Monitor*</p>
<p>*sending retry, timeout in message body*</p>
<p>*Checksum error in Monitor reply retry*</p>
<p>*retransmitting previous message*</p>
<p>4</p>
<p>Randomly corrupts communications to test the retry mechanism. This option</p>
<p>causes<b> monserv</b> to simulate a very noisy line by randomly changing, deleting, or</p>
<p>inserting bytes.</p>
<p>This option should be invoked as either<b> -debug 13</b> or<b> -debug 15</b> (all debugging</p>
<p>options) so that you can see the retry messages and the modified bytes.</p>
<p>Example:</p>
<p>monserv: *********corrupting message*******</p>
<p>monserv: **********randomizing byte ********</p>
<p>8</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>16</i></p>
<p><i>Chapter 2. Green Hills Monitor (monserv) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example Custom Green Hills Monitor (monserv) Connection</b></p>
<p><b>Methods</b></p>
<p>The following are examples of commands that can be entered into the<b> Start a</b></p>
<p><b>Custom Connection</b> field of the<b> Connection Chooser</b>. (These example commands</p>
<p>can also be entered, preceded by the<b> connect</b> command, from the MULTI command</p>
<p>pane.)</p>
<p><b>Example 2.1. Serial Connection</b></p>
<p>The following command connects<b> monserv</b> to a target through the<b> COM1</b> serial</p>
<p>port on Windows at 115200 baud.</p>
<p>monserv -baud 115200</p>
<p><b>Example 2.2. Solaris Connection</b></p>
<p>The following command connects<b> monserv</b> to a target through<b> /dev/ttyb</b> on Solaris</p>
<p>at 9600 baud and uses</p>
<p>0x00</p>
<p>as the halt signal.</p>
<p>monserv -sp /dev/ttyb -zbreak</p>
<p><i>17</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Green Hills Monitor (monserv) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3</b></p>
<p><b>Renesas V850/V850E ICE</b></p>
<p><b>(850eserv2) Connections</b></p>
<p><b>Contents</b></p>
<p>Target System Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Installing Your Renesas V850/V850E ICE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Additional Windows Setup and Configuration . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Connecting to Your Target with an Renesas V850/V850E ICE . . . . . . . . . . . . .</p>
<p>23</p>
<p>Connecting Through a Remote Server (850eserv2_server) . . . . . . . . . . . . . . . .</p>
<p>33</p>
<p>Hardware Breakpoints . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>Troubleshooting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>Target Commands for Renesas V850/V850E ICE (850eserv2)</p>
<p>Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>36</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter supplements the general target connection information contained in</p>
<p>Chapter 2, “Setting Up Your Target Hardware” of this book and the documentation</p>
<p>about connecting to your target in the<i> MULTI: Debugging</i> book with specific</p>
<p>information for Renesas V850/V850E In-Circuit Emulator (ICE) connections.</p>
<p><b>Target System Requirements</b></p>
<p>The<b> 850eserv2</b> debug server included with this distribution of MULTI can be used</p>
<p>to connect to hardware from a Microsoft Windows environment. This software runs</p>
<p>under Microsoft Windows 8, Windows 7, Windows Vista, Windows XP, Windows</p>
<p>9x, Windows NT 4.0 and Windows 2000. This software does not run under any</p>
<p>Windows 3.x versions (for example, Windows 3.1, Windows 3.11, or Windows</p>
<p>NT 3.51).</p>
<p>It is also possible to connect indirectly from another host, such as Linux, by running</p>
<p><b>850eserv2_server</b> on the Windows machine that is attached to hardware, and</p>
<p>connecting through it. See “Connecting Through a Remote Server</p>
<p>(850eserv2_server)” on page 33 for more information.</p>
<p><b>Installing Your Renesas V850/V850E ICE</b></p>
<p>Before attempting to connect to your target, you must install your Renesas ICE.</p>
<p>For instructions on hardware setup, diagnostics, and configuration, see your Renesas</p>
<p>ICE documentation. As part of the setup process, you may need to download the</p>
<p>latest<b> EXEC</b> library file, monitor, drivers, and/or device files from the Renesas web</p>
<p>site.</p>
<p>The instructions in the remainder of this chapter assume that you have already</p>
<p>installed MULTI, downloaded any necessary files from the Renesas Electronics</p>
<p>web site, and set up your ICE. You should also know the I/O address of the PC</p>
<p>interface card (for example, if your ICE connects to your PC with a PCI card) and</p>
<p>know how to set environment variables under your operating system.</p>
<p><b>Additional Windows Setup and Configuration</b></p>
<p>In addition to following the relevant installation and configuration instructions</p>
<p>contained in your Renesas hardware documentation, “Installing Your Renesas</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>20</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>V850/V850E ICE” on page 20, and the documentation about configuring your</p>
<p>target hardware in the<i> MULTI: Debugging</i> book, you must configure your Windows</p>
<p>device drivers and your Windows environment variables.</p>
<p>Drivers for ICE interface cards are provided with the hardware. (You may need to</p>
<p>download the latest drivers from the Renesas Electronics web site. See “Installing</p>
<p>Your Renesas V850/V850E ICE” on page 20.) For proper driver installation, see</p>
<p>your Renesas documentation.</p>
<p><b>Required Definition File for Network V850/V850E Interfaces</b></p>
<p>For network connections to V850/V850E ICE, (for example, the IE-70000–MC-SV3</p>
<p>ICE), the<b> exws.ini</b> definition file must be modified to specify the hostname and port</p>
<p>number of theV850/V850E ICE to which you want to connect. This definition file</p>
<p>should then be copied to your Windows directory, which is typically at<b> c:\windows</b></p>
<p>or<b> c:\winnt</b>.</p>
<p>The following is an example<b> exws.ini</b> file:</p>
<p>;************************************************************</p>
<p>:*</p>
<p>SV3 Driver environment</p>
<p>*</p>
<p>;*</p>
<p>*</p>
<p>;************************************************************</p>
<p>[WSIF]</p>
<p>HOST0=necice 0x7c6</p>
<p>;HostName &amp; Port No.</p>
<p>;File End</p>
<p>The semicolon (;) is a comment character; anything following a semicolon until the</p>
<p>end of a line is ignored.</p>
<p>[WSIF]</p>
<p>is the name of a section that is required in the<b> exws.ini</b> file.</p>
<p>The</p>
<p>HOST0=</p>
<p>option specifies the hostname and port number. The first field is for</p>
<p>the hostname and the second field, delimited by whitespace, is for the port number.</p>
<p>The hostname can also be written in IP address style.</p>
<p><b>Note</b></p>
<p>The port number of the IE-70000–MC-SV3 is fixed to</p>
<p>0x7c6</p>
<p>and cannot</p>
<p>be changed.</p>
<p><i>21</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Required Definition File for Network V850/V850E Interfaces</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Using the Green Hills SuperTrace Probe to Collect Real-time Trace Data</b></p>
<p>The following describes connecting the SuperTrace Probe to an Renesas IE Cube</p>
<p>ICE, configuring the SuperTrace Probe, and collecting trace data. For more</p>
<p>information about the SuperTrace Probe, see the<i> Green Hills Debug Probes User's</i></p>
<p><i>Guide</i>. For more information about connecting your debug server see “Connecting</p>
<p>to Your Target with an Renesas V850/V850E ICE” on page 23.</p>
<p>Before connecting a SuperTrace Probe, you must be able to debug a program from</p>
<p>MULTI with an Renesas IE Cube.</p>
<p><b>Connecting the SuperTrace Probe to an Renesas IE Cube</b></p>
<p>An IE Cube that can communicate with the SuperTrace Probe is identified by the</p>
<p>Mictor connector located on the front of the IE Cube.</p>
<p>To connect to the IE Cube:</p>
<p>1.</p>
<p>Plug the tracepod into the trace adapter (PATV8-01A).</p>
<p>2.</p>
<p>Plug the trace adapter into the IE Cube.</p>
<p><b>Note</b></p>
<p>If this puts too much strain on the Mictor connector on the IE Cube, a</p>
<p>Mictor extension cable is available from Green Hills Software (part</p>
<p>number GH-ME-V85-mic), which can be inserted between the trace</p>
<p>adapter and the IE Cube.</p>
<p><b>Configuring the SuperTrace Probe</b></p>
<p>Use a telnet console, a serial console, or<b> gpadmin</b> to set the following settings:</p>
<p>•</p>
<p>Adapter must be set to</p>
<p>v850e-trace-24</p>
<p>.</p>
<p>•</p>
<p>Target must be set to</p>
<p>v850e_trace</p>
<p>.</p>
<p><b>Note</b></p>
<p>There is a hyphen in the adapter name and an underscore in the target</p>
<p>name.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>22</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For more information about the SuperTrace Probe, see the documentation about</p>
<p>installing your probe in the<i> Getting Started</i> book for your probe.</p>
<p><b>Collecting Trace Data</b></p>
<p>To collect trace data from the target, you must specify the SuperTrace Probe in your</p>
<p><b>850eserv2</b> connection. For more information, see &quot;<b>SuperTrace Probe is connected</b></p>
<p><b>via</b>&quot; in “Renesas V850/V850E ICE (850eserv2) Connection Settings” on page 26.</p>
<p>After the connection is made, verify that the target-specific trace options dialog is</p>
<p>configured correctly for your target.</p>
<p><b>Note</b></p>
<p>Besides capturing trace data using a SuperTrace Probe (option only</p>
<p>available for the IECUBE), trace can be obtained through the internal</p>
<p>trace buffer available in both the IECUBE and IECUBE2</p>
<p>The IECUBE2 can also be used with the QB-V850E2-SP trace memory</p>
<p>extension (also known as LTT or Long Term Trace) to increase the trace</p>
<p>buffer size.</p>
<p><b>Connecting to Your Target with an Renesas V850/V850E ICE</b></p>
<p>After you have installed and configured your system, you are ready to connect to</p>
<p>your target and begin debugging. To help you connect to your target quickly and</p>
<p>easily, MULTI allows you to create and save Connection Methods that correspond</p>
<p>to your particular host and target systems and your desired debugging options.</p>
<p>For general instructions on how to create and use Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p>The information in the following sections supplements the instructions provided</p>
<p>there with information that is specific to Renesas V850/V850E ICE connections.</p>
<p><i>23</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Connecting to Your Target with an Renesas V850/V850E ICE</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Creating a Standard Renesas V850/V850E ICE (850eserv2) Connection</b></p>
<p><b>Method</b></p>
<p>When creating a new Standard Renesas V850/V850E ICE Connection Method,</p>
<p>select<b> Renesas V850/V850E (850eserv2)</b> as the connection type in the<b> Create New</b></p>
<p><b>Connection Method</b> dialog box.</p>
<p>For detailed instructions on creating new Standard Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p><b>Using the Renesas V850/V850E ICE (850eserv2) Connection Editor</b></p>
<p>In addition to the generic fields that appear on all Connection Editors for Standard</p>
<p>Connection Methods, the<b> Renesas V850/V850E (850eserv2) Connection Editor</b></p>
<p>includes<b> Connection</b>,<b> Clock</b>,<b> Advanced</b>, and<b> Debug</b> tabs that provide settings and</p>
<p>options specific to your target and host operating systems.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>24</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>When the<b> Connection Editor</b> is first displayed after you create a new Connection</p>
<p>Method, the settings and options on the<b> Connection</b>,<b> Clock</b>,<b> Advanced</b>, and<b> Debug</b></p>
<p>tabs are set to default values. The options on these tabs allow a high degree of</p>
<p>control over the details of your connection, but can usually be left in their default</p>
<p>states. Use the<b> Advance</b> tab carefully because changing the advanced options from</p>
<p>their default settings can sometimes cause problems with your connection.</p>
<p>All of the fields on the<b> Connection</b>,<b> Clock</b>,<b> Advanced</b> and<b> Debug</b> tabs of the</p>
<p><b>Renesas V850/V850E (850eserv2) Connection Editor</b> are described in the</p>
<p>subsequent sections.</p>
<p><i>25</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Renesas V850/V850E ICE (850eserv2) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Renesas V850/V850E ICE (850eserv2) Connection Settings</b></p>
<p><b>Device file</b></p>
<p>Sets the fully qualified location of the device file corresponding to the target to which you are</p>
<p>connecting. To provide backward compatibility with previous versions of<b> 850eserv</b>, instead of</p>
<p>specifying the device file here, you can alternatively set the</p>
<p>IEPATH</p>
<p>and</p>
<p>DEVICE_FILE</p>
<p>environment variables (where</p>
<p>IEPATH</p>
<p>is the fully qualified directory containing the device file</p>
<p>and</p>
<p>DEVICE_FILE</p>
<p>is the name of the device file without directory names). Either this field or</p>
<p>the environment variables must be set to connect to your target.</p>
<p>There are several device files located in the<b> v850e</b> directory within the MULTI installation</p>
<p>directory. Device files might have also been provided with your target. Check the documentation</p>
<p>provided with your target to determine which device file to use.</p>
<p><b>Debugger</b></p>
<p>Indicates the type of Renesas debugger or In-Circuit Emulator (ICE) you are using to connect</p>
<p>to your target. The default is the IE Cube. Other options include CD-NW, Mini Cube, Mini</p>
<p>Cube 2, E1 Emulator JTAG, E20 Emulator JTAG, E1 Emulator Serial, E20 Emulator Serial,</p>
<p>E1 Emulator LPD, E20 Emulator LPD.</p>
<p><b>E1 Core/E2 Core</b></p>
<p>Selects the V850 core type you are connecting to. When connecting to a V850E1 or V850E2/ME3</p>
<p>core, select<b> E1 Core</b>. When connecting to a V850E2 core, select<b> E2 Core</b>.</p>
<p><b>Serial port</b></p>
<p>Sets the port for your Mini Cube 2 or E1/E20 Emulator Serial. This is a required option if you</p>
<p>are using an Renesas Mini Cube 2 ICE or E1/E20 Emulator Serial to connect to your target.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>26</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe is connected via</b></p>
<p>Allows you to collect trace data from your target using a Green Hills SuperTrace Probe, if your</p>
<p>target supports collecting trace data. The SuperTrace Probe is used in tandem with the existing</p>
<p>Renesas ICE connection (see<b> Debugger</b>).</p>
<p>The trace data collected with the SuperTrace Probe allows you to use TimeMachine and other</p>
<p>trace facilities of the MULTI Debugger (see the documentation about analyzing trace data with</p>
<p>the TimeMachine tool suite in the<i> MULTI: Debugging</i> book).</p>
<p>If you are using a SuperTrace Probe to collect trace data from your target, specify the location</p>
<p>of the SuperTrace Probe here. If the SuperTrace Probe is connected via Ethernet, you must also</p>
<p>specify the IP address or hostname of the SuperTrace Probe in the<b> IP Address</b> field.</p>
<p>For more information about configuring your SuperTrace Probe, see the documentation about</p>
<p>installing your probe in the<i> Getting Started</i> book for your probe.</p>
<p><b>IP Address</b></p>
<p>If you are using a SuperTrace Probe to collect trace data from your target and the SuperTrace</p>
<p>Probe is connected via Ethernet, you must specify the IP address or hostname of the SuperTrace</p>
<p>Probe here.</p>
<p><b>Renesas V850/V850E ICE Clock Settings</b></p>
<p><b>Main clock</b></p>
<p>Specifies the main clock frequency in kHz.</p>
<p><b>Sub clock</b></p>
<p>Specifies the sub clock frequency in Hz.</p>
<p><b>Use sub clock when break is hit?</b></p>
<p>Specifies whether or not to use the sub clock when the program breaks.</p>
<p><i>27</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Renesas V850/V850E ICE (850eserv2) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Clock Rate</b></p>
<p>Specifies the CPU clock rate.</p>
<p><b>Renesas V850/V850E ICE (850eserv2) Advanced Settings</b></p>
<p><b>Protect I/O memory</b></p>
<p>Prevents<b> 850eserv2</b> from reading or writing I/O memory, effectively read/write protecting the</p>
<p>I/O memory.</p>
<p><b>Writes 0's into BSS Section</b></p>
<p>Writes zeros to the</p>
<p>.bss</p>
<p>section of the target before running the executable on the target. This</p>
<p>option might be necessary if your setup script does not clear the</p>
<p>.bss</p>
<p>section.</p>
<p><b>Debug with RD850 or AZ850 (TIP)</b></p>
<p>Connect to an Renesas RD850 task debugger or an AZ850 event analyzer.</p>
<p><b>Registry ID code</b></p>
<p>Specifies a Windows Registry key. If you do not know what your Windows Registry key is,</p>
<p>leave this field empty.</p>
<p><b>Environment variables</b></p>
<p>Sets the specified environment variables before launching<b> 850eserv2</b>. The environment variables</p>
<p>string is of the form:</p>
<p>env1=val1,env2=val2,...</p>
<p>where</p>
<p>env1,env2,</p>
<p>are the names of environment variables to set and</p>
<p>val1, val2</p>
<p>are the</p>
<p>respective values to assign to those variables.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>28</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Renesas V850/V850E ICE (850eserv2) Debug Settings</b></p>
<p><b>Communications log with debugger</b></p>
<p>Controls logging of all communications between<b> 850eserv2</b> and the Renesas ICE. Log output</p>
<p>can be saved to a file (<b>850eserv2.log</b>), directed to</p>
<p>stderr</p>
<p>, or disabled.</p>
<p><b>Log trace retrieval</b></p>
<p>Logs trace retrieval events to<b> 850eserv2_trace.log</b>.</p>
<p><b>Display result of flashing target</b></p>
<p>Displays diagnostic status information when writing to flash memory during download.</p>
<p><b>Log TIP process in tipserv</b></p>
<p>Logs TIP events to<b> tipserv.log</b>. This option is available when<b> Debug with RD850 or AZ850</b></p>
<p><b>(TIP)</b> is selected in the<b> Advanced</b> tab.</p>
<p><b>Other Options</b></p>
<p>Allows you to add other, optional arguments directly to the command line. Only use this field</p>
<p>if directed to do so by Green Hills Technical Support.</p>
<p><b>Using Custom Renesas V850/V850E ICE (850eserv2) Connection Methods</b></p>
<p>To connect to your Renesas V850/V850E ICE with a Custom Connection Method,</p>
<p>type the command given below, with the appropriate parameters and options, into</p>
<p>the<b> Start a Custom Connection</b> dialog box and click<b> Connect</b>.</p>
<p><b>[setup=<i>filename</i>.mbs] 850eserv2</b> [<i>options</i>]...</p>
<p>where:</p>
<p><i>29</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Renesas V850/V850E ICE (850eserv2) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><b>setup=<i>filename</i>.mbs</b> is optional and specifies the target setup script. This</p>
<p>argument is optional because not all targets require setup scripts.</p>
<p><b>Note</b></p>
<p>This option can only be used to specify an<b> .mbs</b> setup script. If you</p>
<p>are using an older<b> .dbs</b> script, you must use the<b> -setup</b> option, which</p>
<p>must come after the<b> 850eserv2</b> command. See the documentation</p>
<p>about configuring your target hardware in the<i> MULTI: Debugging</i></p>
<p>book for more information about setup scripts.</p>
<p>•</p>
<p><i>options</i> can be any non-conflicting combination of the<b> 850eserv2</b> options listed</p>
<p>in “Options for Custom Renesas V850/V850E ICE (850eserv2) Connection</p>
<p>Methods” on page 30.</p>
<p><b>Note</b></p>
<p>You can also enter the above connection command from the Debugger's</p>
<p>command pane, where it must be preceded by the<b> connect</b> command.</p>
<p>See the documentation about Custom Connection Methods in the<i> MULTI: Debugging</i></p>
<p>book for more information about Custom Connections.</p>
<p><b>Options for Custom Renesas V850/V850E ICE (850eserv2)</b></p>
<p><b>Connection Methods</b></p>
<p>The options listed below are available for Custom Renesas V850/V850E ICE</p>
<p>(<b>850eserv2</b>) Connection Methods. For additional information, see the manual</p>
<p><b>sv-v850e2-us-*.pdf</b>.</p>
<p><b>-2m</b></p>
<p>Specifies that the CPU clock operates at 10 MHz. This option is only valid when used with</p>
<p><b>-cdnw</b>.</p>
<p><b>-cdnw</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to a CD-NW ICE.</p>
<p><b>-bsp<i> board</b></i></p>
<p>Specifies the board to connect to. The available board names are the same as those supported</p>
<p>by the New Project Wizard. This will set default connection options for the board. This option</p>
<p>is primarily intended as a shortcut when connecting via the command line.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>30</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>-D</b></p>
<p>Enables logging of communications between<b> 850eserv2</b> and the ICE monitor. The log is written</p>
<p>to<b> 850eserv2.log</b>.</p>
<p><b>-dck20</b></p>
<p>Specifies that the CPU clock operates at 20 MHz. This option is only valid when used with</p>
<p><b>-cdnw</b> or<b> -minicube</b> or E1/E20 Emulator JTAG.</p>
<p><b>-df=<i>device_file</b></i></p>
<p>Specifies the fully qualified location of a device file corresponding to the target to which you</p>
<p>are connecting. This option is the same as the<b> Device File 850eserv2</b> Connection Editor option</p>
<p>described in “Renesas V850/V850E ICE (850eserv2) Connection Settings” on page 26.</p>
<p><b>-e1jtag</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E1 Emulator JTAG.</p>
<p><b>-e1lpd</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E1 Emulator LPD.</p>
<p><b>-e1serial</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E1 Emulator Serial.</p>
<p><b>-e20jtag</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E20 Emulator JTAG.</p>
<p><b>-e20lpd</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E20 Emulator LPD.</p>
<p><b>-e20serial</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to E20 Emulator Serial.</p>
<p><b>-env=<i>env_vars key</b></i></p>
<p>Sets the specified environment variables before launching<b> 850eserv2</b>.<i> env_vars</i> is of the form:</p>
<p>env1=val1,env2=val2</p>
<p>where</p>
<p>env1, env2,</p>
<p>are the names of environment variables to set, and</p>
<p>val1, val2,</p>
<p>are the</p>
<p>respective values to assign to those variables.</p>
<p><b>-I</b></p>
<p>Enables logging of communications between<b> 850eserv2</b> and the ICE monitor. The log is written</p>
<p>to</p>
<p>stderr</p>
<p>.</p>
<p><b>-id<i> key</b></i></p>
<p>Specifies a Windows Registry key. If you do not know what your Windows Registry key is,</p>
<p>leave this field empty.</p>
<p><i>31</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Renesas V850/V850E ICE (850eserv2) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>-iecube</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to an IE Cube ICE.</p>
<p><b>-minicube</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to a Mini Cube ICE. Note that the<b> -minicube</b> and</p>
<p><b>-minicube2</b> options are mutually exclusive.</p>
<p><b>-minicube2</b></p>
<p>Indicates that<b> 850eserv2</b> is connecting to a Mini Cube 2 ICE. For a Mini Cube 2 connection,</p>
<p>you must also specify the<b> -p</b> option. Note that the<b> -minicube</b> and<b> -minicube2</b> options are</p>
<p>mutually exclusive.</p>
<p><b>-noiop</b></p>
<p>Allow<b> 850eserv2</b> to read and write I/O memory.</p>
<p>By default,<b> 850eserv2</b> does not read or write I/O memory, effectively read/write-protecting I/O</p>
<p>memory on the target, and gives errors like &quot;I/O Area(0xff400000-0xff741fff) is Protected&quot;</p>
<p>(unless the SFR command is used). This option lifts that self-imposed restraint from<b> 850eserv2</b>,</p>
<p>which allows<b> 850eserv2</b> to read and write I/O memory.</p>
<p><b>-p<i> port</b></i></p>
<p>Indicates the port for the Mini Cube 2 ICE or E1/E20 Emulator Serial to which you are</p>
<p>connecting.</p>
<p><b>-server<i> host:port</b></i></p>
<p>Specifies a host name and port number of the<b> 850eserv2_server</b> proxy. When run with this</p>
<p>option,<b> 850eserv2</b> will not connect directly to the hardware, but will instead connect to</p>
<p><b>850eserv2_server</b>, which may be running on a different machine.</p>
<p><b>-stp<i> ip_address</b></i></p>
<p>Indicates the IP address or hostname of the SuperTrace Probe that you are using to collect trace</p>
<p>data from the target. This is the same as selecting<b> STP</b> for the<b> SuperTrace Probe is connected</b></p>
<p><b>via</b> option in the<b> 850eserv2</b> Connection Editor, which is described in “Renesas V850/V850E</p>
<p>ICE (850eserv2) Connection Settings” on page 26.</p>
<p><b>-t3v</b></p>
<p>Specify that the E1 Emulator should supply</p>
<p>3V</p>
<p>power to the target. This option is only available</p>
<p>with the E1 Emulator.</p>
<p><b>-t5v</b></p>
<p>Specify that the E1 Emulator should supply</p>
<p>5V</p>
<p>power to the target. This option is only available</p>
<p>with the E1 Emulator.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>32</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>-usb</b></p>
<p>Indicates that you have connected a SuperTrace Probe via USB to collect trace data from the</p>
<p>target. This is the same as selecting<b> USB</b> for the &quot;<b>SuperTrace Probe is connected via</b> option</p>
<p>in the<b> 850eserv2</b> Connection Editor, which is described in “Renesas V850/V850E ICE</p>
<p>(850eserv2) Connection Settings” on page 26.</p>
<p><b>-X0</b></p>
<p>Writes zeros to the</p>
<p>.bss</p>
<p>section of the target before running the executable on the target. This</p>
<p>option might be necessary if your setup script does not clear the</p>
<p>.bss</p>
<p>section.</p>
<p><b>Example Custom Renesas V850/V850E ICE (850eserv2) Connection</b></p>
<p><b>Methods</b></p>
<p>The following are examples of commands that can be entered into the<b> Start a</b></p>
<p><b>Custom Connection</b> field of the<b> Connection Chooser</b>. (These example commands</p>
<p>can also be entered, preceded by the<b> connect</b> command, from the MULTI command</p>
<p>pane.)</p>
<p><b>Example 3.1. Connecting 850eserv2 to a QB-V850ESJG3L-TB board with E1</b></p>
<p><b>Emulator Serial</b></p>
<p>850eserv2 -df=df3738.800 -e1serial -p csib0 -e1 -t3v</p>
<p>-dclock=5000,0,swoff -noiop -id ffffffffffffffffffff</p>
<p><b>Connecting Through a Remote Server (850eserv2_server)</b></p>
<p>The<b> 850eserv2</b> debug server can connect directly to hardware only from a Microsoft</p>
<p>Windows environment. To connect to hardware from another host, such as Linux,</p>
<p>it is necessary to run the<b> 850eserv2_server</b> server from Windows. This server acts</p>
<p>as a proxy and listens on a TCP port for connections from<b> 850eserv2</b>. The</p>
<p><b>850eserv2_server</b> server must be run from the Windows command line, and takes</p>
<p>the same connection options as are supported on<b> 850eserv2</b>. By default, it listens</p>
<p>for connections on port 27000, but a different port number can be specified with</p>
<p><b>-port<i> num</b></i>.</p>
<p>Once<b> 850eserv2_server</b> is running,<b> 850eserv2</b> can connect from another host</p>
<p>machine, using<b> -server<i> host:port</b></i>. For example, if<b> 850eserv2_server</b> was run on a</p>
<p>machine named</p>
<p>winmachine1</p>
<p>with</p>
<p>-port 27001</p>
<p>, then<b> 850eserv2</b> could be used</p>
<p>to connect from another machine with</p>
<p>-server winmachine1:27001</p>
<p>.</p>
<p><i>33</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Connecting Through a Remote Server (850eserv2_server)</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Hardware Breakpoints</b></p>
<p>There are different types of execute hardware breakpoints supported, and the number</p>
<p>of each type can vary depending on the target. Some (type &quot;f&quot;) will stop at the</p>
<p>address where the breakpoint is set (before the instruction is executed), while others</p>
<p>(type &quot;e&quot;) stop at the next instruction.<b> 850eserv2</b> will use the type &quot;f&quot; breakpoints</p>
<p>first. For example, with an IE Cube ICE, the first two execute hardware breakpoints</p>
<p>set will be type &quot;f&quot;, and later breakpoints will be type &quot;e&quot;. The<b> BRS</b> command can</p>
<p>be used to see the types of the breakpoints that are set.</p>
<p><b>Troubleshooting</b></p>
<p>The following sections describe some common problems that may occur when you</p>
<p>connect to or use<b> 850eserv2</b>.</p>
<p><b>General Troubleshooting Checklist</b></p>
<p>If you are experiencing problems with your<b> 850eserv2</b> connection, working through</p>
<p>the following checklist can help you locate the problem.</p>
<p>•</p>
<p>Are you using the correct version of Windows? This version of<b> 850eserv2</b> only</p>
<p>runs under Windows 7, Windows Vista, Windows XP, Windows 9x, Windows</p>
<p>NT 4.0, and Windows 2000. It does not run under any Windows version 3.x,</p>
<p>such as Windows 3.1, Windows 3.11, or Windows NT 3.51.</p>
<p>•</p>
<p>Is all of your V850/V850E ICE hardware set up properly? If your ICE requires</p>
<p>a PC interface card, is that card properly installed and configured? Does the</p>
<p>ICE have power?</p>
<p>•</p>
<p>Did you reboot the PC after installation?</p>
<p>•</p>
<p>Are all the Windows or UNIX environment variables properly set?</p>
<p>•</p>
<p>If you are running Windows NT, did you make sure you have the appropriate</p>
<p>privileges to change the Windows NT Registry and to set System or User</p>
<p>variables?</p>
<p>•</p>
<p>Does the device file you specified in the Connection Editor under<b> Device File</b></p>
<p>(or specified by using the</p>
<p>IEPATH</p>
<p>and</p>
<p>DEVICE_FILE</p>
<p>environment variables)</p>
<p>exist at the specified location? Is that the correct device file for your target?</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>34</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>If you were using COFF previously, did you rebuild all your object files for</p>
<p>the new ELF format? Do you have COFF-specific assembler directives in your</p>
<p>assembly files that should be ported to ELF?</p>
<p><b>Error Messages</b></p>
<p>The examples below show some common error messages and explain their likely</p>
<p>causes.</p>
<p><b>Example 3.2. Error Message: Unable to connect</b></p>
<p>If you receive an error message that is something like:</p>
<p>Unable to connect to emulator, error ca1 or0x1a0: fatal err (missing monitor program)</p>
<p>Debug server’c:\green\850eserv2’ has aborted.</p>
<p>remote: no remote connection established.</p>
<p><b>850eserv2</b> cannot find the V850/V850E ICE monitor<b> ie850.mon</b> or<b> ie850e.mon</b>.</p>
<p>Make sure the environment variable</p>
<p>IEPATH</p>
<p>is set up properly.</p>
<p><b>Example 3.3. Error Message: Unable to connect</b></p>
<p>If you receive an error message that is something like:</p>
<p>Unable to connect to emulator, error 0x3a0: status err</p>
<p>Debug server ’c:\green\850eserv2’ has aborted.</p>
<p>remote: no remote connection established.</p>
<p>the V850/V850E ICE may not be receiving power. Click<b> OK</b> and then check the</p>
<p>power supply.</p>
<p><b>Example 3.4. MULTI Dialog Box: Server Message Timed Out</b></p>
<p>Server Message Timed Out, Terminate Connection?</p>
<p>If you receive this message, click<b> OK</b>. The V850/V850E ICE may not be powered,</p>
<p>or the physical connection may have problems. Check the power and connection.</p>
<p><b>Example 3.5. Memory Protection Errors (Windows 98)</b></p>
<p>Windows 98 does not have true memory protection. If you encounter any General</p>
<p>Protection Fault Errors, Fatal Errors, or Illegal Operation Errors, reboot your PC</p>
<p>and reset the V850/V850E ICE.</p>
<p><i>35</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Error Messages</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Target Commands for Renesas V850/V850E ICE (850eserv2)</b></p>
<p><b>Connections</b></p>
<p>Unlike most Green Hills debug servers,<b> 850eserv2</b> does not support all of the</p>
<p>commands listed in “Generic Debug Server Commands” on page 90. The tables</p>
<p>below list the target commands available to<b> 850eserv2</b>. Full descriptions and</p>
<p>examples of each command appear in “Target Command Descriptions” on page 39.</p>
<p>The commands in the summary tables below have been grouped into the following</p>
<p>function categories:</p>
<p>•</p>
<p>Data and register commands</p>
<p>•</p>
<p>Execution commands</p>
<p>•</p>
<p>Event, trigger, and trace commands</p>
<p>•</p>
<p>Trace display commands</p>
<p>•</p>
<p>Emulator configuration commands</p>
<p>•</p>
<p>Other commands</p>
<p>You can enter all of these commands directly into the<b> 850eserv2 Target</b> pane. You</p>
<p>can also enter these commands into the MULTI Debugger command pane using</p>
<p>the<b> target</b> command. For additional information, see the manual<b> sv-v850e2-us-*.pdf</b>.</p>
<p><b>Data and Register Commands</b></p>
<p>The following data and register commands are accepted by<b> 850eserv2</b>. See “Target</p>
<p>Command Descriptions” on page 39 for more detailed descriptions and examples</p>
<p>of each command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Assembles code one line at a time</p>
<p><b>A</b></p>
<p>Displays or changes memory</p>
<p><b>M</b></p>
<p>Displays or changes register values</p>
<p><b>REG</b></p>
<p>Displays SFR values</p>
<p><b>SFR</b></p>
<p>Disassembles object code</p>
<p><b>U</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>36</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Execution Command</b></p>
<p>The following execution command is accepted by<b> 850eserv2</b>. See “Target Command</p>
<p>Descriptions” on page 39 for more detailed descriptions and examples of this</p>
<p>command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Resets the CPU and/or the emulation hardware</p>
<p><b>RST</b></p>
<p><b>Event, Trigger, and Trace Setting Commands</b></p>
<p>The following event, trigger, and trace setting commands are accepted by<b> 850eserv2</b>.</p>
<p>See “Target Command Descriptions” on page 39 for more detailed descriptions</p>
<p>and examples of each command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Causes a break</p>
<p><b>B</b></p>
<p>Sets bus event detectors</p>
<p><b>BRA</b></p>
<p>Sets execution event detectors</p>
<p><b>BRS</b></p>
<p>Displays current trace analyzer settings</p>
<p><b>SA</b> or</p>
<p><b>SHOWALL</b></p>
<p>Specifies conditions for tracing</p>
<p><b>T</b> or<b> TRACE</b></p>
<p><b>Trace Display Commands</b></p>
<p>The following trace display commands are accepted by<b> 850eserv2</b>. See “Target</p>
<p>Command Descriptions” on page 39 for more detailed descriptions and examples</p>
<p>of each command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Displays the trace buffer</p>
<p><b>TD</b> or</p>
<p><b>TDISPLAY</b></p>
<p>Specifies trace buffer filtering</p>
<p><b>TF</b> or<b> TFILTER</b></p>
<p>Specifies the trace mode</p>
<p><b>TMODE</b></p>
<p>Restarts the trace analyzer</p>
<p><b>TRUN</b></p>
<p>Halts the trace analyzer</p>
<p><b>TS</b> or<b> TSTOP</b></p>
<p><i>37</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Execution Command</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Searches the trace buffer</p>
<p><b>TSEARCH</b></p>
<p><b>Emulator Configuration Commands</b></p>
<p>The following emulator configuration commands are accepted by<b> 850eserv2</b>. See</p>
<p>“Target Command Descriptions” on page 39 for more detailed descriptions and</p>
<p>examples of each command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Displays or changes the COMBO break status</p>
<p><b>COMBO</b></p>
<p>Displays or changes the CPU internal ROM/RAM setting</p>
<p><b>CPU</b></p>
<p>Specifies the emulator memory configuration</p>
<p><b>MAP</b></p>
<p>Sets the masked processor pins</p>
<p><b>PIN</b> or</p>
<p><b>PINMASK</b></p>
<p><b>Other Commands</b></p>
<p>The following additional commands are accepted by<b> 850eserv2</b>. See “Target</p>
<p>Command Descriptions” on page 39 for more detailed descriptions and examples</p>
<p>of each command and its arguments.</p>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Launches the<b> 850win</b> configuration window.</p>
<p><b>850win</b></p>
<p>Specifies the clock source</p>
<p><b>CLOCK</b></p>
<p>Displays command summary</p>
<p><b>HELP</b></p>
<p>Controls the internal<b> port0</b> of the ICE</p>
<p><b>IEPORT0</b></p>
<p>Controls the internal<b> port1</b> of the ICE</p>
<p><b>IEPORT1</b></p>
<p>Opens or closes a log file</p>
<p><b>LOG</b></p>
<p>Specifies the CPU mode</p>
<p><b>MODE</b></p>
<p>Exits MULTI without issuing a reset to the ICE</p>
<p><b>NOHALT</b></p>
<p>Turns download suppression on or off</p>
<p><b>NOLOAD</b></p>
<p>Turns power on or off</p>
<p><b>POWER</b></p>
<p>Specifies profiling support</p>
<p><b>PROFILE</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>38</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Command</b></p>
<p>Displays the contents of the real-time RAM periodically</p>
<p><b>RMEM</b></p>
<p>Sets or displays the base address of the real-time RAM area</p>
<p><b>RRAMBASE</b></p>
<p>Sets or displays the frequency of the CPU clock and the scalar value of the</p>
<p>trace time-tag counter</p>
<p><b>TIMEBASE</b></p>
<p>Shows executed clocks</p>
<p><b>TIMER</b></p>
<p>Turns memory verify on or off</p>
<p><b>VERIFY</b></p>
<p><b>Target Command Descriptions</b></p>
<p>The following commands are accepted by<b> 850eserv2</b>. You can enter these commands</p>
<p>directly into the<b> 850eserv2 Target</b> pane or you can enter them into the MULTI</p>
<p>Debugger command pane using the<b> target</b> command.</p>
<p><b>A</b> [<i>address</i>]</p>
<p>Assembles code one line at a time, where<i> address</i> specifies the target address for the assembled</p>
<p>code. If no address is specified, assembly begins where the last<b> A</b> command left off.</p>
<p>When this command is issued, the command pane enters an interactive mode in which it displays</p>
<p>the disassembly of the current instruction at the target address and prompts you to enter a new</p>
<p>assembly line. After assembling the input and modifying the emulator memory, the command</p>
<p>pane updates the target address, displays the next disassembled line, and prompts for more</p>
<p>assembly input. If you want the currently displayed instruction to be left unchanged, press<b> Enter</b>.</p>
<p>The instruction will not be changed and the next instruction will be displayed for modification.</p>
<p>To terminate the interactive mode, enter<b> END</b> or a period (.) for the assembly line.</p>
<p>Symbolic constants can be used when specifying either the address or operands in the source</p>
<p>line. The operators<b> sdaoff</b>,<b> zdaoff</b>,<b> hi</b>, and<b> lo</b> are supported. The name<b> ZERO</b> is treated as</p>
<p>register<b> RO</b>.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>39</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>B</b> [ K |<i> event_expression</i> ...]</p>
<p>Specifies or displays which event detectors cause breaks.</p>
<p>Once you have used the<b> BRA</b> and<b> BRS</b> commands to specify how the event detectors work,</p>
<p>you can use the<b> B</b> command to assign some or all of them to cause a break. The<i> event_expression</i></p>
<p>argument specifies the event(s) and/or link(s). Multiple events and/or links can be specified if</p>
<p>they are separated by a pipe ( | ) symbol. The<b> K</b> option clears all breakpoints.</p>
<p>If you enter the command without any parameters, the list of currently assigned events will be</p>
<p>displayed.</p>
<p>Any new<b> B</b> command overrides the previous break setting.</p>
<p>Example:</p>
<p>brk&gt;BRS 1 a=main</p>
<p>brk&gt;BRA 2 A=data2, L 0x10 W=0x00xx</p>
<p>brk&gt;B BRS1|BRA2</p>
<p>brk&gt;B</p>
<p>break on:</p>
<p>BRS1: A=main &lt;0x001000ba&gt; P=0xXX</p>
<p>BRA2: A=data2 &lt;0x001002f0&gt;, 0x100300 W=0x000000XX RW</p>
<p>P=0xXX</p>
<p>brk&gt;LINK a 1=brs1</p>
<p>brk&gt;B BRA2|LINKA</p>
<p>brk&gt;B</p>
<p>Break on:</p>
<p>BRA2:</p>
<p>A=data2 &lt;0x001002f0&gt;, 0x100300 W=0x000000XX RW</p>
<p>P=0xXX</p>
<p>LINKA:</p>
<p>1=BRS1</p>
<p>brk&gt;</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>40</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>BRA</b> [<i>#</i> [A=<i>address_or_range</i>] [<i>x</i>=<i>data/mask</i>] [P=<i>mask4</i>]]</p>
<p>Sets or displays the hardware bus event detectors. If no arguments are specified, the<b> BRA</b></p>
<p>command will display the current settings.</p>
<p>Each of the optional arguments is described in detail below.</p>
<p>•</p>
<p>The<i> #</i> argument specifies the identification number (1-8) of the event detector. If you specify</p>
<p>an ID that is already being used, the previous setting will be overwritten. (If you specify</p>
<p>a range for the address field, you will not be able to use all of the event detectors.)</p>
<p>•</p>
<p><b>A=<i>address_or_range</b></i> specifies an address or range for the event as follows:<b> A=<i>address</b></i></p>
<p>specifies a single address expression,<b> A=<i>start</i>,<i>end</b></i> specifies an address range beginning at</p>
<p><i>start</i> and ending at<i> end</i>,<b> A=<i>start</i>, L<i> length</b></i> specifies an address range beginning at<i> start</i></p>
<p>and extending for<i> length</i> bytes.</p>
<p>You cannot enter both a single address and a range. If you specify a range for the address</p>
<p>field, you will not be able to use all of the event detectors. If you do not enter an address</p>
<p>value, any address will be used.</p>
<p>•</p>
<p>The<i> x</i>=<i>data/mask</i> option specifies the access size and data/mask values. The data comparator</p>
<p>detects reads and writes of specific values at the addresses. The size of the access (<i>x</i>) can</p>
<p>be can be specified as<b> B</b> (byte),<b> H</b> (halfword),<b> W</b> (word), or<b> D</b> (any size, default access).</p>
<p>You can use a symbolic constant to specify the data, but you cannot include a mask if you</p>
<p>do. If you do not enter a data size/value, a halfword access and a mask of all ones will be</p>
<p>assumed.</p>
<p>•</p>
<p>The<i> status</i> option specifies the type of bus transaction to detect. Valid arguments for<i> status</i></p>
<p>are:<b> RW</b> (read or write; this is the default),<b> RO</b> (read only), or<b> WO</b> (write only).</p>
<p>•</p>
<p><b>P=<i>mask4</b></i> specifies an external probe qualifier of 4-bit width. You can specify an additional</p>
<p>qualifier based on the external probe tips 1-4. The<i> mask4</i> value is entered as a 4-bit hex or</p>
<p>binary value/mask.</p>
<p>There are eight bus event detectors, each consisting of an address/range, a data/mask, a status,</p>
<p>and an external probe comparator. The output of each of these comparators are ANDed together</p>
<p>to produce an event. If a starting and ending address range is specified, then two of the bus event</p>
<p>detectors will create the event (one for the start and one for the end).</p>
<p>Hex values are indicated by a</p>
<p>0x</p>
<p>prefix, while binary input is indicated by an</p>
<p>0b</p>
<p>prefix. To</p>
<p>specify a value with a mask, use</p>
<p>X</p>
<p>characters for the nibbles or bits you want to be ignored. For</p>
<p>example,</p>
<p>D=0x245C</p>
<p>will only detect a data access of</p>
<p>0x245C</p>
<p>, while</p>
<p>D=0x245X</p>
<p>will detect any</p>
<p>data value in the range</p>
<p>0x2450-0x245F</p>
<p>.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>41</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>BRS</b> [<i>#</i> [A=<i>address_or_range</i>] [P=<i>mask4</i>]]</p>
<p>Sets or displays the hardware execution event detectors. If no arguments are specified, the<b> BRS</b></p>
<p>command will display the current settings for all detectors. To display the current settings for</p>
<p>one detector, specify the identification number (<i>#</i>) without any other arguments.</p>
<p>Each of the optional arguments is described in detail below.</p>
<p>•</p>
<p>The<i> #</i> argument specifies the identification number (1-14) of the execution event detector.</p>
<p>If you specify an ID that is already being used, the previous settings will be overwritten.</p>
<p>(If you specify a range for the address field, you will not be able to use all of the event</p>
<p>detectors.)</p>
<p>•</p>
<p><b>A=<i>address_or_range</b></i> specifies an address or range for the event as follows:<b> A=<i>address</b></i></p>
<p>specifies a single address expression,<b> A=<i>start</i>,<i>end</b></i> specifies an address range beginning at</p>
<p><i>start</i> and ending at<i> end</i>,<b> A=<i>start</i>, L<i> length</b></i> specifies an address range beginning at<i> start</i></p>
<p>and extending for<i> length</i> bytes.</p>
<p>You cannot enter both a single address and a range. If you specify a range for the address</p>
<p>field, you will not be able to use all of the event detectors. If you do not enter an address</p>
<p>value, any address will be used.</p>
<p>•</p>
<p><b>P=<i>mask4</b></i> specifies an external probe qualifier of 4-bit width. You can specify an additional</p>
<p>qualifier based on the external probe tips 1-4. The<i> mask4</i> value is entered as a 4 bit hex or</p>
<p>binary value/mask. Hex values are indicated by an</p>
<p>0x</p>
<p>prefix, while binary input is indicated</p>
<p>by an</p>
<p>0b</p>
<p>prefix.</p>
<p>There are 14 execution event detectors in the emulator, each consisting of an address and an</p>
<p>external probe comparator. The output of the two comparators are ANDed together to generate</p>
<p>an event. They will cause an event when the specified address or an address in a range is executed</p>
<p>and if the external probe pins match the<b> P=<i>mask4</b></i> specification. If you specify a range of</p>
<p>addresses, two of the available execution event detectors will be used, one for the start and one</p>
<p>for the end.</p>
<p>Example:</p>
<p>brk&gt;BRS 1 A=0x2000 P=0x1</p>
<p>brk&gt;BRS 2 A=main</p>
<p>brk&gt;BRS</p>
<p>BRS1:</p>
<p>A=0x2000 P=0x1</p>
<p>BRS2:</p>
<p>A=main &lt;0x001000ba&gt; P=0xXX</p>
<p>brk&gt;</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>42</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>CLOCK</b> [ int | ext ]</p>
<p>Specifies which clock is used. The<b> int</b> argument specifies the internal clock of the ICE. The<b> ext</b></p>
<p>argument specifies an external clock.</p>
<p>When this command is entered, the RESET signal at the CPU becomes active and internal</p>
<p>registers and the SFR are initialized.</p>
<p>If no argument is specified, the<b> CLOCK</b> command displays the current clock source.</p>
<p><b>COMBO</b> [ E | D [N] ]</p>
<p>Changes or displays the COMBO break status, as described below. If no arguments are specified,</p>
<p>the<b> COMBO</b> command displays the current COMBO break status.</p>
<p>The<b> COMBO E</b> command enables COMBO mode, which allows interrupts to occur while the</p>
<p>program is halted.<b> COMBO D</b> disables the COMBO break (this is the default).</p>
<p>The<b> N</b> option can only be used if the<b> D</b> option is also set.<b> N</b> specifies that NMIs can be accepted.</p>
<p>If the emulator is in COMBO mode and a program breaks in an interrupt handler (ISR), only</p>
<p>the higher interrupt or NMI can be accepted and processed.</p>
<p>When you enable COMBO, avoid halting program execution at the ISR prologue. If you halt</p>
<p>at the ISR prologue, saving and/or restoring EZPC/EZPSW may cause the program to crash.</p>
<p>Example:</p>
<p>brk&gt;COMBO</p>
<p>COMBO break is disabled</p>
<p>brk&gt;COMBO E</p>
<p>brk&gt;COMBO</p>
<p>COMBO break enabled</p>
<p>brk&gt;</p>
<p><i>43</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>CPU</b> [R=<i>rom</i>] [A=<i>ram</i>]</p>
<p>Changes or displays the CPU internal ROM and RAM sizes (in KB) for emulation. The<b> R=<i>rom</b></i></p>
<p>argument sets the internal ROM size and the<b> A=<i>ram</b></i> argument sets the internal RAM size (see</p>
<p>below for appropriate values). If no arguments are specified, the<b> CPU</b> command displays the</p>
<p>current CPU settings.</p>
<p>Appropriate values for<i> rom</i> are 32, 64, 128, 256, 512, or 1024, depending on the contents of the</p>
<p>device file corresponding to the target.</p>
<p>Appropriate values for<i> ram</i> for the V850 ICE are 1, 2, 3, 4, 6, 8, 10, 12, 16, 20, 24, or 28,</p>
<p>depending on the contents of the device file corresponding to the target.</p>
<p>Appropriate values for<i> ram</i> for the V850E ICE are 1, 2, 3, 4, 6, 8, 10, 12, 16, 20, 24, 28, 36, 44,</p>
<p>52, or 60, depending on the contents of the device file corresponding to the target.</p>
<p>Example:</p>
<p>brk&gt;CPU R=32 A=1</p>
<p>brk&gt;CPU</p>
<p>ROM size=32K RAM size=1K</p>
<p>brk&gt;</p>
<p><b>HELP</b></p>
<p>Displays command summary.</p>
<p><b>IEPORT0</b> [[R]|[ output0 | output1 ]]</p>
<p>Controls the internal ICE port<b> port0</b>, which generates a special signal in the Evachip. This port</p>
<p>is used in certain ICEs for customized CPUs.</p>
<p>If<b> output0</b> is specified, the<b> port0</b> port generates the signal</p>
<p>0</p>
<p>. If<b> output1</b> is specified, the port</p>
<p>generates the signal</p>
<p>1</p>
<p>.</p>
<p>If<b> R</b> is also specified (with one of the other options), RESET is asserted first,<b> port0</b> is set to the</p>
<p>designated value, and then RESET is de-asserted.</p>
<p><b>IEPORT1</b> [[R]|[ output0 | output1 ]]</p>
<p>Controls the internal ICE port<b> port1</b>, which generates a special signal in the Evachip. This port</p>
<p>is used in certain ICEs for customized CPUs.</p>
<p>If<b> output0</b> is specified, the<b> port1</b> port generates the signal</p>
<p>0</p>
<p>. If<b> output1</b> is specified, the port</p>
<p>generates the signal</p>
<p>1</p>
<p>.</p>
<p>If<b> R</b> is also specified (with one of the other options), RESET is asserted first,<b> port1</b> is set to the</p>
<p>designated value, and then RESET is de-asserted.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>44</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>LINK</b> [ A | B | C ] [ K |<i> n</i>=<i>event_expression</i> ...] [C=<i>count</i>]</p>
<p>Links events with a sequencer, where<b> A</b>,<b> B</b>, or<b> C</b> specifies the sequencer,<i> n</i> specifies the level</p>
<p>of enables or disables (see below), and<b> C</b> specifies a pass count for the output of the sequencer.</p>
<p>The<b> K</b> argument clears (kills) all settings.</p>
<p>If you enter the<b> LINK</b> command with only the link number or without any options, the current</p>
<p>settings of the link event(s) will be displayed.</p>
<p>You can link events together with one of three event sequencers (A, B, or C). Each sequencer</p>
<p>has 4 levels of enables and one level of disable, specified by<i> n=event_expression</i> as follows:</p>
<p>•</p>
<p><b>1=<i>event_expression</b></i> specifies a list of Enable4 events.</p>
<p>•</p>
<p><b>2=<i>event_expression</b></i> specifies a list of Enable3 events.</p>
<p>•</p>
<p><b>3=<i>event_expression</b></i> specifies a list of Enable2 events.</p>
<p>•</p>
<p><b>4=<i>event_expression</b></i> specifies a list of Enable1 events.</p>
<p>•</p>
<p><b>D=<i>event_expression</b></i> specifies a list of disable events.</p>
<p>You can link any number of events to each enable level or to disable. To enter a list of events</p>
<p>for an input, put a pipe character ( | ) between the events.</p>
<p>When the events occur in the proper sequence, a link event is generated that may be tied to a</p>
<p>break or trace function. Enable4 will be used as the trigger condition for the PASS counter.</p>
<p>You do not have to specify all levels. Levels that are not specified are assumed to be enabled.</p>
<p>For example, if you specify Enable4 and Enable3 only, a link will be generated when the two</p>
<p>conditions are satisfied. Always begin the events setting from Enable4, Enable3, Enable2, and</p>
<p>Enable1.</p>
<p>If the link will be used as a sectional trace event, only the first three enables can be used as the</p>
<p>start condition. The end condition, specified with the<b> TRACE</b> command, will use the fourth</p>
<p>enable condition. You can clear the current settings for the link by using the<b> K</b> argument.</p>
<p>The<b> C</b> option specifies a pass count for the output of the sequencer and should be specified with</p>
<p>one or more<i><b> n</i>=<i>event_expression</b></i> lists.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>45</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>LOG</b> [<i> filename</i> | E | D ]</p>
<p>Opens or closes a log file. The<i> filename</i> argument specifies a new log filename and begins</p>
<p>logging.<b> E</b> enables output to the log file.<b> D</b> disables output to the log file. If no arguments are</p>
<p>specified, the<b> LOG</b> command displays the current log status.</p>
<p>You can use the<b> LOG</b> command to open a log file to record all output from the command line</p>
<p>window. The<i> filename</i> can include a<i> drive:path</i> specification. If you do not include an filename</p>
<p>extension,<b> .TXT</b> is assumed. To specify a filename without an extension, enter the name, followed</p>
<p>by a period (that is,<b> FILENAME.</b>). Output logging begins as soon as you enter the<b> LOG</b></p>
<p>command with a filename.</p>
<p>If there is a log file open, you must disable that log file before opening a new one. If the log</p>
<p>filename specified already exists, you will be asked whether to append to it or to delete the file</p>
<p>before beginning to log. To append to the file, enter<b> A</b>. To delete the current file contents and</p>
<p>start new logging, enter<b> D</b>. The<b> LOG</b> command can be aborted at this point by entering a period</p>
<p>(.).</p>
<p>You can temporarily disable log file output with the<b> D</b> option. To resume log file output, use</p>
<p>the<b> E</b> option.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>46</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>M</b> [ B | H | W ] [C]<i> address</i> [=<i>value</i>] [L=<i>length</i>]</p>
<p>Displays or allows changes to memory beginning at<i> address</i>.</p>
<p>The memory contents can be displayed and edited in bytes (<b>B</b>), halfwords (<b>H</b>), or words (<b>W</b>).</p>
<p>The default data size is bytes. If you use<b> B</b>,<b> H</b>, or<b> W</b> to specify a size, the size setting will be</p>
<p>saved in memory and will not need to be entered again.</p>
<p>If you specify<b> C</b>, you will be prompted with the current value of the memory. You can enter a</p>
<p>new value or accept the current value. The program will then prompt with the next memory</p>
<p>location. To terminate input, enter<b> END</b> or a period (.). (The<i> length</i> parameter is not valid when</p>
<p><b>C</b> is specified.)</p>
<p>You can also change memory contents by using the<b> =<i>value</b></i> argument to provide data. Interactive</p>
<p>mode will be disabled and only the specified memory location will be modified.</p>
<p>The<b> L=</b> option allows you to specify how many bytes to display. The default number of bytes</p>
<p>to display is 4 rows of 16 bytes (irrespective of the size setting).</p>
<p>If an address is not specified, the last memory display address +1 is used as the start address.</p>
<p>Example:</p>
<p>brk&gt;m c 0x100</p>
<p>0x00000100: 78</p>
<p>0x20</p>
<p>0x00000101: 56.</p>
<p>brk&gt;m c 0x100=0x12345678</p>
<p>brk&gt;m 0x100</p>
<p>0x00000100: 12345678 6C6C6568 000A216F 259F853F</p>
<p>brk&gt;m b 0x100</p>
<p>0x00000100: 78 56 34 12 68 65 6C 6C 6F 21 0A 00 3F 85 9F 25</p>
<p>brk&gt;</p>
<p><i>47</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MAP</b> [ K | (W=|R=|U=|G=<i>start,end</i>|<i>start</i>,<b> L<i></b> length</i>) ]</p>
<p>Sets the emulator memory configuration, as described below. If you do not specify any arguments,</p>
<p>the<b> MAP</b> command displays the current memory map.</p>
<p>To direct the emulator to read or write a range of memory, use one of the following options:</p>
<p><b>W</b> specifies emulator read/write memory.</p>
<p><b>R</b> specifies emulator read only memory.</p>
<p><b>U</b> specifies user (target) memory.</p>
<p><b>G</b> specifies a guard area.</p>
<p>Specify address ranges using the format<i><b> start, end</b></i> (an address range beginning at<i> start</i> and</p>
<p>ending at<i> end</i>) or<i><b> start</i>, L<i> length</b></i> (an address range beginning at<i> start</i> and extending for<i> length</i></p>
<p>bytes). Addresses specified for this command must be aligned to a 1 MB boundary.</p>
<p>The<b> K</b> option cancels (kills) all memory ranges.</p>
<p>Target memory is provided on your development board. The emulator will drive the external</p>
<p>bus lines to access it through the pod. For all other types of memory, the emulator will not drive</p>
<p>the external lines.</p>
<p>For all other memory mapping,<b> R</b> (read only) and<b> W</b> (read/write) specify where in the address</p>
<p>space the emulator will provide memory blocks. For blocks specified with<b> R</b>, the emulator will</p>
<p>provide an illegal access break if an attempt is made to write to it.</p>
<p>For the V850 ICE, there are only two contiguous 1 MB blocks of memory that the emulator can</p>
<p>provide. One block is fixed at</p>
<p>0x0</p>
<p>and the other is located on any 1 MB boundary. The fixed</p>
<p>block can be used only when the ROM-less mode is specified with the<b> MODE</b> command (a</p>
<p>total of 2 MB emulation memory is available). When the internal ROM is used, the fixed 1 MB</p>
<p>block is not available (a total of 1 MB emulation memory is available). In this case, you cannot,</p>
<p>for example, set a RAM segment at</p>
<p>0x100000</p>
<p>and another at</p>
<p>0x200000</p>
<p>, since both need to</p>
<p>be mapped by the second memory block.</p>
<p>For the V850E ICE, there are two contiguous 1 MB memory blocks that the emulator can</p>
<p>provide. Each block has sixteen 64 KB blocks that can be specified as<b> W</b>,<b> R</b>,<b> U</b>, or<b> G</b>. Mapping</p>
<p>is allowed for these blocks anywhere between</p>
<p>0x0</p>
<p>and</p>
<p>0x3ffffff</p>
<p>.</p>
<p>Specifying</p>
<p>R=0xfff000,0xffffff</p>
<p>is not allowed because this address range maps to the I/O</p>
<p>area, which is readable and writable.</p>
<p>Example:</p>
<p>brk&gt; map w=0x000000,0x0fffff cs0</p>
<p>brk&gt; map r=0x200000,0x2fffff cs1</p>
<p>brk&gt; map tr2=0x100000,0x1fffff</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>48</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MODE</b> [ romless16 | romless8 | single16 | single | target ]</p>
<p>Specifies the CPU mode using one of the following arguments:</p>
<p><b>romless16</b> specifies ROM-less mode with 16-bit external bus.</p>
<p><b>romless8</b> specifies ROM-less mode with 8-bit external bus.</p>
<p><b>single16</b> specifies single-chip mode with 16-bit external bus.</p>
<p><b>single</b> specifies single-chip mode with 8-bit external bus.</p>
<p><b>target</b> selects a mode by pins</p>
<p>MD2</p>
<p>to</p>
<p>MD0</p>
<p>on the target</p>
<p>If no argument is specified, the<b> MODE</b> command displays the current CPU mode.</p>
<p><b>NOHALT</b> [ E | D ]</p>
<p>Controls whether or not to issue a reset when exiting MULTI.</p>
<p>The<b> D</b> option causes a reset to be issued to the ICE when exiting MULTI. This is the default.</p>
<p>The<b> E</b> option specifies that no reset be issued to the ICE when exiting MULTI.</p>
<p>If no arguments are specified, the<b> NOHALT</b> command displays the current settings.</p>
<p>Example:</p>
<p>brk&gt; NOHALT</p>
<p>Disable IE to continue session</p>
<p>brk&gt; NOHALT e</p>
<p>Enable IE to continue execution</p>
<p>brk&gt;</p>
<p><b>NOLOAD</b></p>
<p>Toggles suppression of data downloading to the ICE. When<b> NOLOAD</b> is enabled, downloading</p>
<p>is suppressed, even if a<b> LOAD</b> command is entered from MULTI. To disable downloading</p>
<p>suppression, issue the<b> NOLOAD</b> command again.</p>
<p><i>49</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PIN</b> [ K | [W] [R] [N] [H] [S] [E] ]</p>
<p><b>PINMASK</b> [ K | [W] [R] [N] [H] [S] [E] ]</p>
<p>Sets masked processor pins using the following arguments:</p>
<p><b>W</b> disables the WAIT input pin.</p>
<p><b>R</b> disables the RESET input pin.</p>
<p><b>N</b> disables the NMI input pin.</p>
<p><b>H</b> disables the HLDRQ input pin.</p>
<p><b>S</b> disables the HWSTOP output pin.</p>
<p><b>E</b> disables the EMWAIT pin (valid only for V850E).</p>
<p>You can use the above arguments in combination to set multiple processor pin masks with one</p>
<p><b>PINMASK</b> command. Each argument should be delimited by a space.</p>
<p>Any new<b> PINMASK</b> settings override all previous settings.</p>
<p><b>PINMASK K</b> unmasks (kills) all masks.</p>
<p>If no arguments are specified, the<b> PINMASK</b> command displays the current masked pin settings.</p>
<p>Example:</p>
<p>brk&gt;PINMASK w r</p>
<p>brk&gt;PINMASK</p>
<p>Pin Cond</p>
<p>mask=WAIT RESET</p>
<p>brk&gt;</p>
<p><b>POWER</b> [ on | off ]</p>
<p>Connects or disconnects a target board from the ICE without powering down the system. After</p>
<p>reconnecting the target board to the ICE, you must reestablish MULTI-to-ICE connections by</p>
<p>executing your setup script (<b>.mbs</b>) file again. (For more information about setup scripts, see the</p>
<p>documentation about configuring your target hardware in the<i> MULTI: Debugging</i> book.)</p>
<p>If no arguments are specified, the current<b> POWER</b> setting is displayed.</p>
<p>Example:</p>
<p>brk&gt; POWER OFF</p>
<p>brk&gt; POWER</p>
<p>Power is OFF</p>
<p>brk&gt;</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>50</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PROFILE</b> data | done</p>
<p><b>PROFILE data</b> gathers and accumulates information from the V850/V850 ICE trace buffer to</p>
<p>the<b> 850eserv2</b> internal profile data buffers.</p>
<p><b>PROFILE done</b> writes the data to an output file readable by MULTI and clears the<b> 850eserv2</b></p>
<p>internal profile data buffers. Therefore, after each<b> PROFILE done</b> command, you must reload</p>
<p>the target program and repeat the process (that, you must. reissue the<b> PROFILE data</b> and</p>
<p><b>PROFILE done</b> commands) if you want to gather more profiling data.</p>
<p>To use the<b> PROFILE</b> command, you must open the MULTI Profile window before you download</p>
<p>your target program. For further information, see the documentation about recording and viewing</p>
<p>profiling data in the<i> MULTI: Debugging</i> book.</p>
<p><b>REG</b> [<i>regname</i> [=<i>value</i>]]</p>
<p>Displays or changes register values. Without any parameters, this command will display the</p>
<p>contents of all the registers along with the current program counter, program status word (PSW),</p>
<p>and a disassembly of the next instruction to execute. If the processor is running and the program</p>
<p>counter is in external memory, then the disassembly will not be performed to avoid memory</p>
<p>conflicts.</p>
<p>The PSW is displayed as characters, either uppercase or lowercase, corresponding to the bits</p>
<p>of the register. If the character is uppercase, the bit is set; if lowercase, the bit is clear.</p>
<p>If a register name is specified with the<b> REG</b> command, the current contents of the register will</p>
<p>be displayed and you will be prompted to alter the value. Hit<b> Enter</b> if you do not want to change</p>
<p>the value of the register. You can also use the =<i>value</i> argument to set a new value without being</p>
<p>prompted.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>51</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>RMEM</b> [K] [L=<i>length</i>] [T=<i>interval</i>]</p>
<p>Displays the contents of real-time RAM periodically while a program is running, as specified</p>
<p>by the following arguments:</p>
<p><b>L=<i>length</b></i> specifies the length of memory in bytes to be displayed. The value of<i> length</i> must be</p>
<p>greater than or equal to 1 and less than or equal to 1024. The default is 512 bytes.</p>
<p><b>T=<i>interval</b></i> specifies an update interval in seconds. The default is three seconds.</p>
<p><b>K</b> removes all existing settings.</p>
<p>If no arguments are specified, the<b> RMEM</b> command displays the current settings.</p>
<p>The base address of real-time RAM must be specified with the<b> RRAMBASE</b> command. before</p>
<p>you can use the<b> RMEM</b> command.</p>
<p>When a program starts to execute after the<b> RMEM</b> command has been issued, the contents of</p>
<p>the real-time RAM area are displayed in the target pane and are updated at the specified interval.</p>
<p>When program execution breaks, updating stops. If you resume program execution, updating</p>
<p>restarts unless<b> RMEM K</b> is entered.</p>
<p>If you specify a short period with the<b> T=</b> option, the display of real-time RAM contents may</p>
<p>be updated too frequently. You can stop updating with the<b> K</b> option.</p>
<p>Example:</p>
<p>brk&gt;rrambase 0x3ffe000</p>
<p>brk&gt;rmem l=4 t=5</p>
<p>brk&gt;</p>
<p>run&gt;</p>
<p>0x3FFE000: 6F 80 00 04</p>
<p>0x3FFE000: 97 80 00 04</p>
<p>0x3FFE000: CB 80 00 04</p>
<p>brk&gt;</p>
<p><b>RRAMBASE</b> [<i>address</i>]</p>
<p>Sets<i> address</i> as the base address of the real-time RAM. If<i> address</i> is not specified, displays the</p>
<p>current setting.</p>
<p>Because the size of the real-time RAM area is fixed to 1 KB, 1 KB of real-time RAM is allocated</p>
<p>at this address. The address should be on a 1 KB boundary and should not be in internal ROM.</p>
<p><b>RST</b> [ stop | run ]</p>
<p>Resets the CPU and/or emulation hardware.</p>
<p>If<b> stop</b> is specified (default option): After the reset, stops the CPU.</p>
<p>If<b> run</b> is specified: After the reset, runs the CPU freely.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>52</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SA</b></p>
<p><b>SHOWALL</b></p>
<p>Displays the current settings of programmed events, break settings, link settings, trace conditions,</p>
<p>CPU settings, COMBO settings, NOHALT settings, and memory verify setting.</p>
<p>Example:</p>
<p>brk&gt;showall</p>
<p>BRS1: A=0x00100082 P=0xXX</p>
<p>BRS2: A=0x001000B0 P=0xXX</p>
<p>BRA:</p>
<p>&lt;None&gt;</p>
<p>Break on:</p>
<p>Link event:</p>
<p>&lt;None&gt;</p>
<p>Trace start:</p>
<p>BRS1: A=0x00100082 P=0xXX</p>
<p>Trace end (delay = &lt;none&gt;)</p>
<p>BRS2: A=0x001000B0 P=0xXX</p>
<p>ROM size=32 RAM size=2</p>
<p>COMBO break is disabled</p>
<p>NoHalt:</p>
<p>Disabled</p>
<p>Verify:</p>
<p>On</p>
<p>brk&gt;</p>
<p><b>SFR</b> [<i>name</i> [=<i>newvalue</i>]]</p>
<p>Displays or changes the SFR values.</p>
<p>If<i> name</i> is specified: Displays the SFR specified by<i> name</i> or, if =<i>newvalue</i> is also specified,</p>
<p>changes the value of the SFR<i> name</i> to<i> newvalue</i>.</p>
<p>If no arguments are specified: Displays all SFRs.</p>
<p>The value of<i> name</i> comes from the V850/V850E assembly language specification.</p>
<p>If you enter only the name of an SFR, its value is displayed and you are prompted to enter a</p>
<p>new value. Hit<b> Enter</b> if you do not want to change the SFR value.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>53</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>T</b> [ A |<i> x</i>=<i>event_expression. . .</i> ] [D=<i>delay</i>] [K]</p>
<p><b>TRACE</b> [ A |<i> x</i>=<i>event_expression. . .</i> ] [D=<i>delay</i>] [K]</p>
<p>Specifies under what conditions tracing occurs. If no arguments are specified, the<b> T</b> command</p>
<p>displays the current trace settings. Setting the<b> K</b> option clears (kills) all trace settings.</p>
<p>By default, the tracer will trace all frame transactions. You may reset the tracer to this default</p>
<p>mode by entering<b> TRACE A</b>. You can also set the tracer to trace only at specified places in</p>
<p>your code. You can start and stop the tracer with the<b> S</b> (start) and<b> E</b> (stop) arguments, enable</p>
<p>or disable the tracer with the<b> Q</b> (qualify) argument, and/or halt the tracer after the specified</p>
<p>delay time with the<b> T</b> (trigger) argument as follows:</p>
<p>•</p>
<p><b>S=<i>event_expression</b></i> specifies the event(s) and/or link(s) that start the tracer.</p>
<p>•</p>
<p><b>E=<i>event_expression</b></i> specifies the event(s) and/or link(s) that stop (end) the tracer.</p>
<p>•</p>
<p><b>Q=<i>event_expression</b></i> specifies the event(s) and/or link(s) that enable or disable the tracer.</p>
<p>•</p>
<p><b>T=<i>event_expression</b></i> specifies the trigger event(s) and/or link(s) that halt the tracer after a</p>
<p>delay.</p>
<p>•</p>
<p><b>D=<i>delay</b></i> specifies the number of frames to capture after the trigger. (A delay is also applied</p>
<p>to events specified by<b> E</b>.)</p>
<p>If you use<b> S</b> and<b> E</b>, the<b> T</b> command automatically creates the LINK condition to perform section</p>
<p>trace.</p>
<p>The value of<i> event_expression</i> can be one or more event and/or link mnemonic(s) separated by</p>
<p>a pipe character ( | ). For example,</p>
<p>BRA1|LINKA|BRS2</p>
<p>.</p>
<p>You can assign any or all of the events and/or the link specifications to the<b> T</b>,<b> S</b>, and<b> E</b> inputs.</p>
<p>The start and stop inputs are edge-triggered, which means that once the event(s) occur, tracing</p>
<p>will start or stop.</p>
<p><b>Q</b> inputs may only be tied to events. The qualifying input is level-triggered, which means that</p>
<p>tracing only occurs if the event(s) are true; once the event(s) are no longer true, tracing will</p>
<p>cease. The start/stop and qualify conditions are ANDed together.</p>
<p>The<b> T</b> (trigger) option programs the tracer to stop after an event or link occurs. You can delay</p>
<p>the halting of the tracer by specifying<b> D=<i>delay</b></i>. This specifies how long after a trigger event</p>
<p>the tracer will halt, where<i> delay</i> is the number of frames you want to record after the trigger.</p>
<p>Once the tracer halts, the system mode switches from TRACE to RUN, at which point you can</p>
<p>view the contents of the trace buffer, change trace settings, and issue other commands.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>54</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TD</b> [ I | F ] [ ($|S|E|T)<i> rel frame</i> ] [L=<i>#frames</i>]</p>
<p><b>TDISPLAY</b> [ I | F ] [ ($|S|E|T)<i> rel frame</i> ] [L=<i>#frames</i>]</p>
<p>Displays the trace buffer. If no arguments are specified,<b> TD</b> displays frames from the current</p>
<p>frame. Use the optional parameters described below to set the display mode parameters, where:</p>
<p><b>I</b> specifies Instruction mode.</p>
<p><b>F</b> specifies Data Access (or Frame) mode.</p>
<p><b>$</b> sets the starting frame of the display relative to the current frame.</p>
<p><b>S</b> sets the starting frame of the display relative to the start of the buffer.</p>
<p><b>E</b> sets the starting frame of the display relative to the end of the buffer.</p>
<p><b>T</b> sets the starting frame of the display relative to the trigger point.</p>
<p><i>rel frame</i> specifies the number of frames (+/-) relative to the starting frame</p>
<p><b>L</b>=<i>#frames</i> sets the number of frames (max. 32768) to display.</p>
<p>There are two trace buffer display modes: Instruction mode (<b>I</b>) and Data Access (<b>F</b>) mode. In</p>
<p>Instruction mode, a disassembly of executed instructions is displayed and no stall cycles are</p>
<p>displayed. In Data Access mode, program data reads/writes are displayed. The default mode is</p>
<p>Instruction mode. If no display mode is specified, the last mode specified is used.</p>
<p>When a new trace is made, the current frame is reset to the trigger point or to the end of the</p>
<p>trace buffer if no trigger was specified. Each time a portion of the buffer is displayed, the current</p>
<p>frame is updated to the end of the displayed data. If no starting frame number is specified, the</p>
<p>current frame is used.</p>
<p>The default number of displayed frames is 20. You can change the default number with the<b> L</b></p>
<p>option. If you do not specify a number of frames, the last setting will be used. When displaying</p>
<p>in Instruction mode, there will be fewer lines of disassembled code displayed than the number</p>
<p>of frames, since instruction execution may span more than one frame for data access. Trace data</p>
<p>can be displayed while a program is running, but you must first stop the tracer.</p>
<p>With the V850E ICE, two instructions can be displayed in one frame because the V850E can</p>
<p>execute two instructions in one clock.</p>
<p>By default, the<b> Time</b> field of the trace display shows the number of CPU clocks that have elapsed</p>
<p>from the previous frame to the current frame. If you specify<b> TMODE TS=T</b>, actual time is</p>
<p>displayed instead of the number of clocks. If the elapsed time exceeds 24 hours,</p>
<p>24:00:00</p>
<p>is</p>
<p>displayed. To get the proper time value, set the clock frequency and scalar value with the</p>
<p><b>TIMEBASE</b> command.</p>
<p>For an explanation of the codes that are used in the<b> Status</b> field of the trace display, see “Trace</p>
<p>Display Status Codes” on page 66. For an example trace display, see the<b> TD</b> example in</p>
<p>“Additional Examples of 850eserv2 Target Commands” on page 61.</p>
<p><i>55</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TF</b> [I= [T][O] | . | * ] [F= [T][E][C][O][A][D][S][M] | . | * ]</p>
<p><b>TFILTER</b> [I= [T][O] | . | * ] [F= [T][E][C][O][A][D][S][M] | . | * ]</p>
<p>Specifies or displays what is filtered out before display in the trace buffer. This command affects</p>
<p>only the trace display and does not affect the trace buffer. If no options are specified,<b> TF</b> displays</p>
<p>the current filter settings.</p>
<p>Use the<b> I</b> or<b> F</b> options to specify which fields and bus status types are displayed, where the</p>
<p>letters following the equal sign (=) indicate the fields and status types, as described below. Some</p>
<p>fields are permanent and cannot be removed. Any previous setting of the<b> I=</b> or<b> F=</b> argument</p>
<p>will be overwritten.</p>
<p>For Instruction mode, there are two possible fields that can be controlled with the<b> I=</b> argument.</p>
<p>The<b> T</b> option specifies time-tag and the<b> O</b> option specifies opcode. The frame number, PC</p>
<p>address, and mnemonic fields are permanent. To enable all of the Instruction mode fields, use</p>
<p><b>I=*</b>. To disable all but the permanent fields, use<b> I=.</b>.</p>
<p>For Data Access (or Frame) mode, there are eight possible fields that can be controlled with the</p>
<p><b>F=</b> command. The<b> T</b> option specifies time-tag, the<b> E</b> command specifies external probe data,</p>
<p>the<b> C</b> option specifies program counter information, the<b> O</b> option specifies opcode, the<b> A</b> option</p>
<p>specifies address, the<b> D</b> option specifies data, the<b> S</b> command specifies status, and the<b> M</b></p>
<p>command specifies mnemonic. The frame number field is permanent. To enable all of the Data</p>
<p>Access mode fields, use<b> F=*</b>. To disable all but the permanent fields, use<b> F=.</b>.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>56</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TIMEBASE</b> [C=<i>clock</i>] [R=<i>rate</i>]</p>
<p>Sets the frequency of the CPU clock and the scalar value of the trace time-tag counter. If no</p>
<p>arguments are specified, the<b> TIMER</b> command displays the current settings.</p>
<p>The<b> C=</b> command specifies the frequency of CPU clock in MHz. For example, if the clock</p>
<p>frequency of your CPU is 25 MHz, you can specify this with<b> C=25</b>.</p>
<p>The<b> R=</b> command specifies the scalar value of the trace time-tag counter, which counts the</p>
<p>number of clocks for each trace frame. Because this counter is 16-bits long, the range of the</p>
<p>counter is</p>
<p>0</p>
<p>to</p>
<p>65535</p>
<p>.</p>
<p>If<b> R=X1</b> is specified, 1 CPU clock increases the counter by 1. If<b> R=X2</b> is specified, 2 CPU</p>
<p>clocks increase the counter by 1. If<b> R=X1K</b> is specified, 1024 CPU clocks increase the counter</p>
<p>by 1. In short, the larger the value of<i> rate</i>, the longer timer value the counter can hold. The</p>
<p>counter holds at least 1 any time trace data is displayed, which can cause a loss of precision.</p>
<p>The following mnemonics can usually be specified as arguments to<b> R=</b>:</p>
<p>X1</p>
<p>,</p>
<p>X2</p>
<p>,</p>
<p>X4</p>
<p>,</p>
<p>X8</p>
<p>,</p>
<p>X16</p>
<p>,</p>
<p>X32</p>
<p>,</p>
<p>X64</p>
<p>,</p>
<p>X128</p>
<p>,</p>
<p>X256</p>
<p>,</p>
<p>X512</p>
<p>,</p>
<p>X1K</p>
<p>,</p>
<p>X2K</p>
<p>,</p>
<p>X4K</p>
<p>,</p>
<p>X8K</p>
<p>,</p>
<p>X16K</p>
<p>,</p>
<p>X32K</p>
<p>,</p>
<p>X64K</p>
<p>,</p>
<p>X128K</p>
<p>,</p>
<p>X256K</p>
<p>,</p>
<p>X512K</p>
<p>,</p>
<p>X1M</p>
<p>,</p>
<p>X2M</p>
<p>,</p>
<p>X4M</p>
<p>,</p>
<p>X8M</p>
<p>,</p>
<p>X16M</p>
<p>,</p>
<p>X32M</p>
<p>,</p>
<p>X64M</p>
<p>,</p>
<p>X128M</p>
<p>,</p>
<p>X256M</p>
<p>,</p>
<p>X512M</p>
<p>,</p>
<p>X1G</p>
<p>, and</p>
<p>X2G</p>
<p>, where</p>
<p>K</p>
<p>corresponds to 1024,</p>
<p>M</p>
<p>corresponds to</p>
<p>1024*1024</p>
<p>, and</p>
<p>G</p>
<p>corresponds to</p>
<p>1024*1024*1024</p>
<p>.</p>
<p>If you are using a V850 ICE, however, not all of these mnemonics are valid. Specifically, you</p>
<p>cannot use the following values:</p>
<p>X2K</p>
<p>,</p>
<p>X8K</p>
<p>,</p>
<p>X32K</p>
<p>,</p>
<p>X128K</p>
<p>,</p>
<p>X512K</p>
<p>,</p>
<p>X2M</p>
<p>,</p>
<p>X4M</p>
<p>,</p>
<p>X8M</p>
<p>,</p>
<p>X16M</p>
<p>,</p>
<p>X32M</p>
<p>,</p>
<p>X64M</p>
<p>,</p>
<p>X128M</p>
<p>,</p>
<p>X256M</p>
<p>,</p>
<p>X512M</p>
<p>,</p>
<p>X1G</p>
<p>, and</p>
<p>X2G</p>
<p>.</p>
<p>By default, the CPU clock frequency is set to 25 MHz and the scalar value is set to</p>
<p>X1</p>
<p>.</p>
<p>Example:</p>
<p>brk&gt;timebase c=33.33 r=x4</p>
<p>brk&gt;timebase</p>
<p>CPU Clock=33.33MHz Timetag Rate=X4</p>
<p>brk&gt;</p>
<p><b>TIMER</b></p>
<p>Displays the current timer value as a number of clocks.</p>
<p>This command takes no arguments. The timer is reset every time the target program execution</p>
<p>is resumed by a call to</p>
<p>ex_run()</p>
<p>. When the target program breaks, the timer stops and holds</p>
<p>the number of clocks elapsed during execution.</p>
<p><i>57</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TMODE</b> [M=F|N] [TS=C|T]</p>
<p>Specifies the tracing mode. The<b> M=</b> argument specifies the control mode for the trace memory</p>
<p>and the<b> TS=</b> argument specifies the display format of the TIME field in<b> TDISPLAY</b>, as described</p>
<p>below. If no arguments are specified,<b> TMODE</b> displays the current trace mode settings.</p>
<p>Specifying<b> M=N</b> sets trace memory to nonstop mode, which is the default mode. In nonstop</p>
<p>mode, the tracer overwrites old trace data if the trace buffer becomes full and continues to trace</p>
<p>until a<b> TSTOP</b> command is entered. Specifying<b> M=F</b>, sets trace memory to full stop mode. In</p>
<p>full stop mode, the tracer stops tracing when the trace buffer becomes full.</p>
<p>If<b> TS=C</b> is specified, counts of the time-tag counter are displayed in the TIME field of</p>
<p><b>TDISPLAY</b>. If<b> TS=T</b> is specified, the time-tag is displayed in real-time units of microseconds,</p>
<p>milliseconds, seconds or minutes.</p>
<p>Example</p>
<p>brk&gt;tmode m=f</p>
<p>brk&gt;</p>
<p>brk&gt;tmode</p>
<p>Trace Mode:</p>
<p>Trace Memory=Full stop</p>
<p>Time Stamp=Count</p>
<p>brk&gt;</p>
<p><b>TRUN</b></p>
<p>Restarts the trace analyzer if your program is running but the trace analyzer is stopped.</p>
<p><b>TS</b></p>
<p><b>TSTOP</b></p>
<p>Halts the trace analyzer but keeps the CPU Evachip running. The emulator mode will switch</p>
<p>from TRACE to RUN mode. Once in RUN mode, you can change the events, links, break, and</p>
<p>trace settings, or display the contents of the trace buffer. Use<b> TRUN</b> to restart the analyzer.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>58</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TSEARCH</b> [<i>frame</i>] [A=<i>address_or_range</i>] [<i>x</i>=<i>data/mask</i>] [C=<i>status</i>] [P=<i>mask4</i>]</p>
<p>Searches the trace buffer for a particular type of frame information and displays, in Frame mode,</p>
<p>the frames that match the specified conditions. The search conditions consist of an address range,</p>
<p>a data/mask value, a bus status type, and an external probe value, as described below. You can</p>
<p>enter a subset of these conditions, in which case the other conditions will be ignored. If you do</p>
<p>not specify any conditions, the last specified set of conditions will be used. The arguments for</p>
<p>setting the conditions are described below.</p>
<p>•</p>
<p>The<i> frame</i> argument specifies the starting frame for the search. It is the offset from the top</p>
<p>(the oldest frame) of the trace buffer, not the frame number that is displayed with a</p>
<p><b>TDISPLAY</b> command. That is, frame number</p>
<p>0</p>
<p>specifies the oldest frame. If a frame</p>
<p>number is not specified, the search begins from the frame next to the current trace pointer,</p>
<p>not from the last position of the previous search. If a frame that matches the specified</p>
<p>condition(s) is found, the current trace pointer is moved to it. The trace contents are</p>
<p>displayed in both Instruction and Data Access mode and the search is stopped. If no frame</p>
<p>matching the specified condition(s) is found, the trace pointer stays at the starting frame</p>
<p>of the search.</p>
<p>•</p>
<p><b>A=<i>address_or_range</b></i> specifies an address or range to search for, as follows:<b> A=<i>address</b></i></p>
<p>specifies a single address expression,<b> A=<i>start</i>,<i>end</b></i> specifies an address range beginning at</p>
<p><i>start</i> and ending at<i> end</i>,<b> A=<i>start</i>, L<i> length</b></i> specifies an address range beginning at<i> start</i></p>
<p>and extending for<i> length</i> bytes.</p>
<p>•</p>
<p>The<i> x</i>=<i>data/mask</i> option specifies the access size and data/mask values. The size of the</p>
<p>access (<i>x</i>) can be can be<b> B</b> (byte),<b> H</b> (halfword),<b> W</b> (word), or<b> D</b> (any size, the default).</p>
<p>•</p>
<p>The<b> C=<i></b>status</i> option specifies the type of bus transaction to search for. Valid arguments</p>
<p>for<i> status</i> are:<b> RW</b> (read or write; this is the default),<b> RO</b> (read only), or<b> WO</b> (write only).</p>
<p>•</p>
<p><b>P=<i>mask4</b></i> specifies an external probe qualifier of 4-bit width. The<i> mask4</i> value is entered</p>
<p>as a 4-bit hex or binary value/mask. Hex values are indicated by a</p>
<p>0x</p>
<p>prefix, while binary</p>
<p>input is indicated by a</p>
<p>0b</p>
<p>prefix. To specify a value with a mask, use</p>
<p>X</p>
<p>characters for the</p>
<p>nibbles or bits you want to be ignored.</p>
<p>For an example of how to use this command, see “Additional Examples of 850eserv2 Target</p>
<p>Commands” on page 61.</p>
<p><i>59</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>U</b> [<i> start</i> |<i> start</i>,<i> end</i> |<i> start</i>,<b> L<i></b> lines</i> ]</p>
<p>Disassembles object code beginning at the specified address.</p>
<p>If<i> start, end</i> are specified: Disassembles object code in the range beginning at<i> start</i> and ending</p>
<p>at<i> end</i>.</p>
<p>If<i> start</i>,<b> L<i></b> lines</i>: Disassembles object code in the range beginning at<i> start</i> and extending for<i> lines</i></p>
<p>lines.</p>
<p>If no address is specified: Disassembles code beginning where the last<b> U</b> command left off.</p>
<p>If no range is specified: Disassembly continues for 11 lines.</p>
<p>Example:</p>
<p>brk&gt;U main</p>
<p>main:</p>
<p>0x1000ba:</p>
<p>5cla add</p>
<p>-4, sp</p>
<p>0x1000bc:</p>
<p>63ff0100 st.w 1p, 0[sp]</p>
<p>0x1000c0:</p>
<p>2096e803 movea 0x3e8, zero, r18</p>
<p>0x1000c4:</p>
<p>64974180 st.w r18, -0x7fc0[gp]</p>
<p>0x1000c8:</p>
<p>40360200 movhi 0x2, zero, r6</p>
<p>0x1000cc:</p>
<p>2636a086 movea</p>
<p>-0x7960, r6, r6</p>
<p>0x1000d0:</p>
<p>bfffbcff jarl</p>
<p>0x10008c, 1p</p>
<p>0x1000d4:</p>
<p>23ff0100 ld.w 0[sp], 1p</p>
<p>0x1000d8:</p>
<p>441a add 4, sp</p>
<p>0x1000da:</p>
<p>7f00 jmp [1p]</p>
<p>0x1000dc:</p>
<p>0969 or r9, r13</p>
<p>brk&gt;U main, L 5</p>
<p>main:</p>
<p>0x1000ba:</p>
<p>5cla add</p>
<p>-4, sp</p>
<p>0x1000bc:</p>
<p>63ff0100 st.w</p>
<p>lp, 0[sp]</p>
<p>0x1000c0:</p>
<p>2096e803 movea 0x3e8, zero, r18</p>
<p>0x1000c4:</p>
<p>64974180 st.w r18, -0x7fc0[gp]</p>
<p>0x1000c8:</p>
<p>40360200 movhi 0x2, zero, r6</p>
<p>brk&gt;</p>
<p><b>VERIFY</b> [ on | off ]</p>
<p>Sets or clears the memory write verify flag, which turns on or off memory verify.</p>
<p>If<b> on</b> is specified, all subsequent memory writes are verified.</p>
<p>If<b> off</b> is specified, all subsequent writes are not verified.</p>
<p>If no parameters are set, the<b> VERIFY</b> command displays the current setting.</p>
<p>Example:</p>
<p>brk&gt; VERIFY off</p>
<p>brk&gt; VERIFY</p>
<p>VERIFY IS OFF</p>
<p>brk&gt;</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>60</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Additional Examples of 850eserv2 Target Commands</b></p>
<p>This section contains additional example of the target commands for<b> 850eserv2</b>.</p>
<p>For examples of other commands and for detailed descriptions of all the<b> 850eserv2</b></p>
<p>commands and their parameters, see “Target Command Descriptions” on page 39.</p>
<p>For a brief summary of all of the commands available, see “Target Commands for</p>
<p>Renesas V850/V850E ICE (850eserv2) Connections” on page 36.</p>
<p><b>Example 3.6. Using the A Command</b></p>
<p>brk&gt;a 0x100082</p>
<p>main:</p>
<p>0x100082: 1a5c</p>
<p>add</p>
<p>-4, sp</p>
<p>&gt;add 8,sp</p>
<p>481a</p>
<p>0x100084: ff630001</p>
<p>st.w</p>
<p>lp, 0[sp]</p>
<p>&gt;nop</p>
<p>0000</p>
<p>0x100086: 0001</p>
<p>mov</p>
<p>r1, zero</p>
<p>&gt;nop</p>
<p>0000</p>
<p>0x100088: 36400010</p>
<p>movhi</p>
<p>0x10, zero, r6</p>
<p>&gt;end</p>
<p>brk&gt;a</p>
<p>0x100088: 36400010</p>
<p>movhi</p>
<p>0x10, zero, r6</p>
<p>&gt;end</p>
<p>brk&gt;a main</p>
<p>main:</p>
<p>0x100082: 1a48</p>
<p>add</p>
<p>8, sp</p>
<p>&gt;movhi hi(foo),zero,r6</p>
<p>40361000</p>
<p>0x100086: 0000</p>
<p>nop</p>
<p>&gt;.</p>
<p>brk&gt;a</p>
<p>0x100086: 0000</p>
<p>nop</p>
<p>&gt;st.w r18,-0x8000[zero]</p>
<p>60970180</p>
<p>0x10008A: 0010</p>
<p>mov</p>
<p>r16, zero</p>
<p>&gt;.</p>
<p>brk&gt;</p>
<p><i>61</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example 3.7. The BRA Command</b></p>
<p>brk&gt;BRA</p>
<p>Bra:</p>
<p>&lt;None&gt;</p>
<p>brk&gt;BRA 1 H=0x00XX P=0x7</p>
<p>brk&gt;BRA 2 A=data1, 0x1000de</p>
<p>brk&gt;BRA</p>
<p>BRA1: H=0x00XX RW P=0x7</p>
<p>BRA2: A=data1 &lt;0x001000ba&gt;,0x1000de D=0xXXXXXXXX RW P=0xXX</p>
<p>brk&gt;</p>
<p><b>Example 3.8. The LINK Command</b></p>
<p>brk&gt;BRS 1 a=main</p>
<p>brk&gt;BRA 2 a=data1</p>
<p>brk&gt;BRS 3 a=data2</p>
<p>brk&gt;BRS 4 a=data3</p>
<p>brk&gt;LINK a 1=brs3|brs4 2=bra2 3=brs1</p>
<p>brk&gt;LINK</p>
<p>LINKA:</p>
<p>1=BRS3, BRS4 2=BRA2 3=BRS1</p>
<p>PASS COUNT=1</p>
<p>AUTO RESET SELECTED</p>
<p>brk&gt;LINK k</p>
<p>brk&gt;LINK</p>
<p>Link:</p>
<p>&lt;None&gt;</p>
<p>brk&gt;</p>
<p><b>Example 3.9. The REG Command</b></p>
<p>brk&gt;reg</p>
<p>r0: 0x00000000</p>
<p>r8: 0x00000000</p>
<p>r16: 0x00000000</p>
<p>r24: 0x00000000</p>
<p>r1: 0x0010A8E0</p>
<p>r9: 0x00000000</p>
<p>r17: 0x00000000</p>
<p>r25: 0x00000000</p>
<p>r2: 0x00000000</p>
<p>r10: 0x00000000</p>
<p>r18: 0x00000009</p>
<p>r26: 0x00000100</p>
<p>r3: 0x00120FD4</p>
<p>r11: 0x00000002</p>
<p>r19: 0xFFFFFFFF</p>
<p>r27: 0x00000102</p>
<p>r4: 0x0010A8E0</p>
<p>r12: 0x00000001</p>
<p>r20: 0x000000FF</p>
<p>r28: 0x00120FF8</p>
<p>r5: 0x00010000</p>
<p>r13: 0xFFFFC000</p>
<p>r21: 0x0000FFFF</p>
<p>r29: 0x00000000</p>
<p>r6: 0x00000100</p>
<p>r14: 0xFFFFFFFF</p>
<p>r22: 0x00000000</p>
<p>r30: 0x00103F28</p>
<p>r7: 0x00000102</p>
<p>r15: 0x00000000</p>
<p>r23: 0x00000000</p>
<p>r31: 0x00101F86</p>
<p>pc: 0x00100088</p>
<p>eipc: 0x00100000</p>
<p>fepc: 0x00100000</p>
<p>ecr: 0x00000000</p>
<p>psw: 0x00000028 eipsw: 0x00000061 fepsw: 0x000000FF</p>
<p>psw:</p>
<p>neItCosz eipsw:</p>
<p>NEItcosZ fepsw:</p>
<p>NEITCOSZ</p>
<p>0x100088: 36400010</p>
<p>movhi</p>
<p>0x10, zero, r6</p>
<p>brk&gt;</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>62</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example 3.10. The SFR Command</b></p>
<p>brk&gt;sfr</p>
<p>p0:RW</p>
<p>p1:RW</p>
<p>p2:RW</p>
<p>p3:RW</p>
<p>p4:RW</p>
<p>p5:RW</p>
<p>p6:RW</p>
<p>0x0B</p>
<p>0xDE</p>
<p>0x01</p>
<p>0xAC</p>
<p>0x18</p>
<p>0x20</p>
<p>0x10</p>
<p>p9:RW</p>
<p>p10:RW</p>
<p>pm0:RW</p>
<p>pm1:RW</p>
<p>pm2:RW</p>
<p>pm3:RW</p>
<p>pm4:RW</p>
<p>0xDD</p>
<p>0xFB</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0xFF</p>
<p>pm5:RW</p>
<p>pm6:RW</p>
<p>pm9:RW</p>
<p>pm10:RW</p>
<p>pmc0:RW</p>
<p>pmc2:RW</p>
<p>pmc3:RW</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0xFF</p>
<p>0x00</p>
<p>0x01</p>
<p>0x00</p>
<p>mm:RW</p>
<p>pmc10:RW</p>
<p>dwc:RW</p>
<p>bcc:RW</p>
<p>psc:RW</p>
<p>sys:RW</p>
<p>unlock:RW</p>
<p>0xB7</p>
<p>0x00</p>
<p>0xFFFF</p>
<p>0xAAAA</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>brg0:RW</p>
<p>bprm0:RW</p>
<p>csim0:RW</p>
<p>csot0:RW</p>
<p>sio0:RW</p>
<p>brg1:RW</p>
<p>bprm1:RW</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>csim1:RW</p>
<p>csot1:RW</p>
<p>sio1:RW</p>
<p>csim2:RW</p>
<p>csot2:RW</p>
<p>sio2:RW</p>
<p>asim00:RW</p>
<p>0x00</p>
<p>0x00</p>
<p>0x44</p>
<p>0x00</p>
<p>0x00</p>
<p>0x40</p>
<p>0x80</p>
<p>asim01:RW</p>
<p>asis0:R</p>
<p>ove0:RW</p>
<p>fe0:RW</p>
<p>pe0:RW</p>
<p>sot0:RW</p>
<p>rxb0:R</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x01FF</p>
<p>rxb0l:R</p>
<p>txs0:W</p>
<p>txs0l:W</p>
<p>ovic1:RW</p>
<p>p1ic0:RW</p>
<p>p1ic1:RW</p>
<p>p1ic2:RW</p>
<p>0xFF</p>
<p>0x80CC</p>
<p>0xCE</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>p1ic3:RW</p>
<p>cmic4:RW</p>
<p>csic0:RW</p>
<p>seic0:RW</p>
<p>sric0:RW</p>
<p>stic0:RW</p>
<p>p0ic0:RW</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>p0ic1:RW</p>
<p>p0ic2:RW</p>
<p>p0ic3:RW</p>
<p>csic1:RW</p>
<p>csic2:RW</p>
<p>ispr:R</p>
<p>prcmd:W</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x47</p>
<p>0x00</p>
<p>0x00</p>
<p>intm0:RW</p>
<p>intm1:RW</p>
<p>intm2:RW</p>
<p>tovs:RW</p>
<p>tum1:RW</p>
<p>tmc1:RW</p>
<p>toc1:RW</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x00</p>
<p>0x0000</p>
<p>0x00</p>
<p>0x00</p>
<p>tm1:R</p>
<p>cc10:RW</p>
<p>cc11:RW</p>
<p>cc12:RW</p>
<p>cc13:RW</p>
<p>tmc4:RW</p>
<p>tm4:R</p>
<p>0x0000</p>
<p>0xFFFF</p>
<p>0xFFFF</p>
<p>0xFFFF</p>
<p>0xFFFF</p>
<p>0x00</p>
<p>0x0000</p>
<p>cm4:RW</p>
<p>0x8000</p>
<p>brk&gt;</p>
<p><b>Example 3.11. The T (or TRACE) Command</b></p>
<p>brk&gt;trace a</p>
<p>brk&gt;trace</p>
<p>Trace ALL</p>
<p>brk&gt;trace k</p>
<p>Trace events are cleared.</p>
<p>brk&gt;brs 1 a=main</p>
<p>brk&gt;brs 2 a=exit</p>
<p>brk&gt;trace s=brs1 e=brs2</p>
<p>brk&gt;trace</p>
<p>Trace start:</p>
<p>BRS1: A=0x00100082 P=0xXX</p>
<p>Trace end (delay = &lt;none&gt;)</p>
<p>BRS2: A=0x001000B0 P=0xXX</p>
<p>brk&gt;</p>
<p><i>63</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example 3.12. The TD (or TDISPLAY) Command</b></p>
<p>brk&gt;tdisplay i s0 l=20</p>
<p>| FRAME</p>
<p>| TIME</p>
<p>|</p>
<p>ACCESS |</p>
<p>PC</p>
<p>|</p>
<p>OPCODE</p>
<p>|</p>
<p>MNEMONIC</p>
<p>------------------------------------------------------------------------</p>
<p>|</p>
<p>0</p>
<p>|</p>
<p>3 |</p>
<p>| 0x00100000 | e200</p>
<p>| mov</p>
<p>0, r28</p>
<p>|</p>
<p>1</p>
<p>|</p>
<p>14 |</p>
<p>| 0x00100002 | ff800004</p>
<p>| jarl</p>
<p>0x100006, lp</p>
<p>|</p>
<p>2</p>
<p>|</p>
<p>28 |</p>
<p>| 0x00100006 | e81f</p>
<p>| mov</p>
<p>lp, r29</p>
<p>|</p>
<p>3</p>
<p>|</p>
<p>12 |</p>
<p>| 0x00100008 | 4808</p>
<p>| mov</p>
<p>r8, r9</p>
<p>|</p>
<p>4</p>
<p>|</p>
<p>0 |</p>
<p>| 0x0010000A | 4007</p>
<p>| mov</p>
<p>r7, r8</p>
<p>|</p>
<p>5</p>
<p>|</p>
<p>12 |</p>
<p>| 0x0010000C | 3806</p>
<p>| mov</p>
<p>r6, r7</p>
<p>|</p>
<p>6</p>
<p>|</p>
<p>13 |</p>
<p>| 0x0010000E | 0261</p>
<p>| cmp</p>
<p>1, zero</p>
<p>|</p>
<p>7</p>
<p>|</p>
<p>1 |</p>
<p>| 0x00100010 | 5200</p>
<p>| mov</p>
<p>0, r10</p>
<p>|</p>
<p>8</p>
<p>|</p>
<p>0 |</p>
<p>| 0x00100012 | 36200014</p>
<p>| movea</p>
<p>0x14, zero, r6</p>
<p>|</p>
<p>9</p>
<p>|</p>
<p>10 |</p>
<p>| 0x00100016 | ff8027e4</p>
<p>| jarl</p>
<p>0x1027fa, lp</p>
<p>|</p>
<p>10</p>
<p>|</p>
<p>2 |</p>
<p>| 0x001027FC | 0000</p>
<p>| nop</p>
<p>|</p>
<p>11</p>
<p>|</p>
<p>12 |</p>
<p>| 0x001027FE | 007f</p>
<p>| jmp</p>
<p>[lp]</p>
<p>|</p>
<p>12</p>
<p>|</p>
<p>27 |</p>
<p>| 0x0010001A | 0df9</p>
<p>| bnc</p>
<p>0x100038</p>
<p>|</p>
<p>13</p>
<p>|</p>
<p>41 |</p>
<p>| 0x00100038 | 26044000</p>
<p>| addi</p>
<p>0x4000, gp, gp</p>
<p>|</p>
<p>14</p>
<p>|</p>
<p>13 |</p>
<p>| 0x0010003C | 26044000</p>
<p>| addi</p>
<p>0x4000, gp, gp</p>
<p>|</p>
<p>15</p>
<p>|</p>
<p>13 |</p>
<p>| 0x00100040 | 2e054000</p>
<p>| addi</p>
<p>0x4000, tp, tp</p>
<p>|</p>
<p>16</p>
<p>|</p>
<p>13 |</p>
<p>| 0x00100044 | 2e054000</p>
<p>| addi</p>
<p>0x4000, tp, tp</p>
<p>|</p>
<p>17</p>
<p>|</p>
<p>13 |</p>
<p>| 0x00100048 | 0e400010</p>
<p>| movhi</p>
<p>0x10, zero, r1</p>
<p>|</p>
<p>18</p>
<p>|</p>
<p>0 |</p>
<p>| 0x0010004C | 0e013f28</p>
<p>| addi</p>
<p>0x3f28, r1, r1</p>
<p>|</p>
<p>19</p>
<p>|</p>
<p>12 |</p>
<p>| 0x00100050 | 05a2</p>
<p>| be</p>
<p>0x100054</p>
<p>brk&gt;tfilter f=tcoms</p>
<p>brk&gt;td f s0 l=5</p>
<p>| FRAME| TIME |</p>
<p>PC</p>
<p>|</p>
<p>OPCODE</p>
<p>|</p>
<p>MNEMONIC</p>
<p>|</p>
<p>EXT</p>
<p>| STATUS</p>
<p>---------------------------------------------------------------------------------</p>
<p>|</p>
<p>0 |</p>
<p>3 | 0x00100000 | e200</p>
<p>| mov</p>
<p>0, r28</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>1 |</p>
<p>14 | 0x00100002 | ff800004</p>
<p>| jarl</p>
<p>0x100006, lp | 0x0000 | 32b</p>
<p>|</p>
<p>2 |</p>
<p>28 | 0x00100006 | e81f</p>
<p>| mov</p>
<p>lp, r29</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>3 |</p>
<p>12 | 0x00100008 | 4808</p>
<p>| mov</p>
<p>r8, r9</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>4 |</p>
<p>0 | 0x0010000A | 4007</p>
<p>| mov</p>
<p>r7, r8</p>
<p>| 0x0000 | 32b</p>
<p>brk&gt;td i e-5</p>
<p>| FRAME| TIME |</p>
<p>ACCESS</p>
<p>|</p>
<p>PC</p>
<p>| OPCODE</p>
<p>|</p>
<p>MNEMONIC</p>
<p>-----------------------------------------------------------------------------------</p>
<p>|</p>
<p>1160|</p>
<p>1 |</p>
<p>| 0x00101F7E | 381b</p>
<p>| mov</p>
<p>r27, r7</p>
<p>|</p>
<p>1161|</p>
<p>0 |</p>
<p>| 0x00101F80 | 401d</p>
<p>| mov</p>
<p>r29, r8</p>
<p>|</p>
<p>1162|</p>
<p>10 |</p>
<p>| 0x00101F82 | ffbfe100 | jarl</p>
<p>0x100082, lp</p>
<p>|</p>
<p>1163|</p>
<p>41 |</p>
<p>| 0x00100082 | 1a5c</p>
<p>| add</p>
<p>-4, sp</p>
<p>|</p>
<p>1164|</p>
<p>12 | WD</p>
<p>0x00120FD4: 0x00101F86 | 0x00100084 | ff630001 | st.w</p>
<p>lp, 0[sp]</p>
<p>brk&gt;</p>
<p>For an explanation of the codes are used in the<b> Status</b> field of the trace display, see</p>
<p>“Trace Display Status Codes” on page 66.</p>
<p><b>Example 3.13. The TF (or TFILTER) Command</b></p>
<p>brk&gt;tfilter i=o</p>
<p>brk&gt;tfilter</p>
<p>Trace Filter:</p>
<p>Instruction mode:</p>
<p>Frame:</p>
<p>Permanent</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>64</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Time:</p>
<p>Disabled</p>
<p>PC:</p>
<p>Permanent</p>
<p>Opcode:</p>
<p>Enabled</p>
<p>Mnemonic:</p>
<p>Permanent</p>
<p>Frame mode:</p>
<p>Frame:</p>
<p>Permanent</p>
<p>Time:</p>
<p>Enabled</p>
<p>PC:</p>
<p>Enabled</p>
<p>Opcode:</p>
<p>Enabled</p>
<p>Address:</p>
<p>Enabled</p>
<p>Data:</p>
<p>Enabled</p>
<p>Mnemonic:</p>
<p>Enabled</p>
<p>Status:</p>
<p>Enabled</p>
<p>brk&gt;td i s0 l=5</p>
<p>|</p>
<p>ACCESS</p>
<p>|</p>
<p>PC</p>
<p>|</p>
<p>OPCODE</p>
<p>|</p>
<p>MNEMONIC</p>
<p>--------------------------------------------------------------</p>
<p>|</p>
<p>| 0x00100000 | e200</p>
<p>| mov</p>
<p>0, r28</p>
<p>|</p>
<p>| 0x00100002 | ff800004</p>
<p>| jarl</p>
<p>0x100006, lp</p>
<p>|</p>
<p>| 0x00100006 | e81f</p>
<p>| mov</p>
<p>lp, r29</p>
<p>|</p>
<p>| 0x00100008 | 4808</p>
<p>| mov</p>
<p>r8, r9</p>
<p>|</p>
<p>| 0x0010000A | 4007</p>
<p>| mov</p>
<p>r7, r8</p>
<p>brk&gt;tfilter f=ca</p>
<p>brk&gt;td f s0 l=5</p>
<p>| FRAME</p>
<p>|</p>
<p>PC</p>
<p>|</p>
<p>ADDRESS</p>
<p>|</p>
<p>EXT</p>
<p>------------------------------------------------</p>
<p>|</p>
<p>0 | 0x00100000 |</p>
<p>| 0x0000</p>
<p>|</p>
<p>1 | 0x00100002 |</p>
<p>| 0x0000</p>
<p>|</p>
<p>2 | 0x00100006 |</p>
<p>| 0x0000</p>
<p>|</p>
<p>3 | 0x00100008 |</p>
<p>| 0x0000</p>
<p>|</p>
<p>4 | 0x0010000A |</p>
<p>| 0x0000</p>
<p>brk&gt;tf f=m</p>
<p>brk&gt;td f s0 l=5</p>
<p>| FRAME</p>
<p>|</p>
<p>MNEMONIC</p>
<p>|</p>
<p>EXT</p>
<p>-------------------------------------------</p>
<p>|</p>
<p>0 | mov</p>
<p>0, r28</p>
<p>| 0x0000</p>
<p>|</p>
<p>1 | jarl</p>
<p>0x100006, lp</p>
<p>| 0x0000</p>
<p>|</p>
<p>2 | mov</p>
<p>lp, r29</p>
<p>| 0x0000</p>
<p>|</p>
<p>3 | mov</p>
<p>r8, r9</p>
<p>| 0x0000</p>
<p>|</p>
<p>4 | mov</p>
<p>r7, r8</p>
<p>| 0x0000</p>
<p>brk&gt;tf f=ms</p>
<p>brk&gt;td f s0 l=5</p>
<p>| FRAME</p>
<p>|</p>
<p>MNEMONIC</p>
<p>|</p>
<p>EXT</p>
<p>|</p>
<p>STATUS</p>
<p>-------------------------------------------------------</p>
<p>|</p>
<p>0 | mov</p>
<p>0, r28</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>1 | jarl</p>
<p>0x100006, lp</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>2 | mov</p>
<p>lp, r29</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>3 | mov</p>
<p>r8, r9</p>
<p>| 0x0000 | 32b</p>
<p>|</p>
<p>4 | mov</p>
<p>r7, r8</p>
<p>| 0x0000 | 32b</p>
<p>brk&gt;</p>
<p><b>Example 3.14. The TSEARCH Command</b></p>
<p>brk&gt;tf f=coadm</p>
<p>brk&gt;tsearch 1100 a=0x120000,0x130000 c=rw</p>
<p>| FRAME</p>
<p>|</p>
<p>PC</p>
<p>|</p>
<p>OPCODE</p>
<p>|</p>
<p>ADDRESS</p>
<p>|</p>
<p>DATA</p>
<p>|</p>
<p>MNEMONIC</p>
<p><i>65</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Command Descriptions</i></p>
<h1 style="page-break-before:always; "></h1>
<p>-----------------------------------------------------------------------------------</p>
<p>|</p>
<p>1103 |</p>
<p>|</p>
<p>| RD 0x00120F9C</p>
<p>|0x00100462 |</p>
<p>|</p>
<p>1105 | 0x00100462 | e7230001 | RD 0x00120FA0</p>
<p>|0x00120FC8 | ld.w</p>
<p>0[sp], r28</p>
<p>|</p>
<p>1108 |</p>
<p>|</p>
<p>| RD 0x00120FA4</p>
<p>|0x001003AC |</p>
<p>|</p>
<p>1117 | 0x0010065C | ff630005 | WD 0x00120FA4</p>
<p>|0x001003BC | st.w</p>
<p>lp, 4[sp]</p>
<p>|</p>
<p>1118 | 0x00100660 | e7630001 | WD 0x00120FA0</p>
<p>|0x00120FC8 | st.w</p>
<p>r28, 0[sp]</p>
<p>|</p>
<p>1145 | 0x00100176 | ff630005 | WD 0x00120FA4</p>
<p>|0x0010042C | st.w</p>
<p>lp, 4[sp]</p>
<p>|</p>
<p>1146 | 0x0010017A | ef630001 | WD 0x00120FA0</p>
<p>|0x00120FD8 | st.w</p>
<p>r29, 0[sp]</p>
<p>brk&gt;tsearch 1100 a=0x120000,0x130000 c=r</p>
<p>| FRAME</p>
<p>|</p>
<p>PC</p>
<p>|</p>
<p>OPCODE</p>
<p>|</p>
<p>ADDRESS</p>
<p>|</p>
<p>DATA</p>
<p>|</p>
<p>MNEMONIC</p>
<p>-----------------------------------------------------------------------------------</p>
<p>|</p>
<p>1103 |</p>
<p>|</p>
<p>| RD 0x00120F9C</p>
<p>|0x00100462 |</p>
<p>|</p>
<p>1105 | 0x00100462 | e7230001 | RD 0x00120FA0</p>
<p>|0x00120FC8 | ld.w</p>
<p>0[sp], r28</p>
<p>|</p>
<p>1108 |</p>
<p>|</p>
<p>| RD 0x00120FA4</p>
<p>|0x001003AC |</p>
<p>brk&gt;</p>
<p><b>Trace Display Status Codes</b></p>
<p>The following codes are used in the<b> Status</b> field of the<b> TD</b> trace display:</p>
<p>Bus access with 16-bit</p>
<p>16b</p>
<p>Bus access with 32-bit</p>
<p>32b</p>
<p>Cache hit</p>
<p>cht</p>
<p>Delay processing</p>
<p>dly</p>
<p>Acknowledge interrupt</p>
<p>int</p>
<p>Branch by</p>
<p>reti</p>
<p>instruction</p>
<p>reti</p>
<p>Starting or ending frame of trace</p>
<p>sfm</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>66</i></p>
<p><i>Chapter 3. Renesas V850/V850E ICE (850eserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4</b></p>
<p><b>RTE (rteserv2) Connections</b></p>
<p><b>Contents</b></p>
<p>Supported Targets for RTE (rteserv2) Connections . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>68</p>
<p>Installing Your RTE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>68</p>
<p>Connecting to a RTE Target . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>70</p>
<p>Commands for RTE (rteserv2) Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter supplements the general target connection information contained in</p>
<p>Chapter 2, “Setting Up Your Target Hardware” of this book and the documentation</p>
<p>about connecting to your target in the<i> MULTI: Debugging</i> book with specific</p>
<p>information for RTE connections.</p>
<p><b>Supported Targets for RTE (rteserv2) Connections</b></p>
<p><i>RTE</i> stands for<i> Real-Time Evaluator</i> and refers to a group of hardware and software</p>
<p>debugging interfaces available from Midas Labs. There are many different</p>
<p>implementations of RTE.</p>
<p>MULTI supports debugging with an RTE through the Green Hills debug server</p>
<p><b>rteserv2</b>.</p>
<p><b>Installing Your RTE</b></p>
<p>To use MULTI with an RTE, you must first install the RTE hardware (if applicable)</p>
<p>and software provided by Midas Labs. See your RTE documentation for detailed</p>
<p>instructions on installing the RTE.</p>
<p>The Green Hills debug server<b> rteserv2</b>, which supports RTE connections, is installed</p>
<p>automatically when you install MULTI.</p>
<p><b>Checking Your RTE Connection</b></p>
<p>After you have installed the RTE according to the documentation that accompanied</p>
<p>it, you should check the connection between the RTE and your host. To check your</p>
<p>connection, use the<b> Check RTE</b> program from within Windows. This RTE program</p>
<p>allows you to:</p>
<p>•</p>
<p>Set the parameters for your operating environment (for example, ports, baud,</p>
<p>I/O address, etc.)</p>
<p>•</p>
<p>Check the connection between the RTE and the host</p>
<p>•</p>
<p>Test RTE functions</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>68</i></p>
<p><i>Chapter 4. RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>The<b> Check RTE</b> program will ask you to make a series of selections appropriate</p>
<p>to your RTE. After you have made these selections, click the confirmation button.</p>
<p>This will start a connection check and function test.</p>
<p>If the<b> Check RTE</b> program terminates normally and does not indicate any errors,</p>
<p>you are ready to configure your MULTI files and then begin debugging with MULTI.</p>
<p>For information about configuring MULTI for your specific debugging environment,</p>
<p>see the documentation about configuring your target hardware in the<i> MULTI:</i></p>
<p><i>Debugging</i> book.</p>
<p>If<b> Check RTE</b> does not terminate normally, the following checklist may help you</p>
<p>locate the problem.</p>
<p><b>Things to check</b></p>
<p><b>Type of</b></p>
<p><b>connection</b></p>
<p>•</p>
<p>Serial cable connections to the RTE and the host PC</p>
<p>•</p>
<p>RTE settings (for example, baud, port, etc.)</p>
<p>Serial</p>
<p>•</p>
<p>I/O address setting (The I/O address must not conflict with another board.)</p>
<p>•</p>
<p>Board connection</p>
<p>•</p>
<p>RTE dip switch settings (for example, baud, I/O address, etc.)</p>
<p>Bus</p>
<p>For more information about<b> Check RTE</b>, RTE settings, and troubleshooting your</p>
<p>connection, see your RTE documentation.</p>
<p><b>Using the Green Hills SuperTrace Probe to Collect Real-time Trace Data</b></p>
<p>The following describes connecting the SuperTrace Probe to a Midas RTE Cube</p>
<p>ICE, configuring the SuperTrace Probe, and collecting trace data. For more</p>
<p>information about the SuperTrace Probe, see<i> Green Hills Debug Probes User's</i></p>
<p><i>Guide</i>. For more information about connecting your debug server see “Connecting</p>
<p>to a RTE Target” on page 70.</p>
<p>Before connecting a SuperTrace Probe, you must first be able to debug a program</p>
<p>from MULTI with a Midas RTE Cube.</p>
<p><i>69</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Green Hills SuperTrace Probe to Collect Real-time Trace Data</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Connecting the SuperTrace Probe to a Midas RTE Cube</b></p>
<p>The target board must have a trace breakout board on it, or you must acquire a board</p>
<p>separately. This trace breakout board passes the necessary debug signals through</p>
<p>to the RTE Cube while providing an additional Mictor connector into which to plug</p>
<p>the SuperTrace Probe.</p>
<p>The trace collection pod can be plugged directly into most versions of this breakout</p>
<p>board. For breakout boards labeled ADP-NECM-STP (without any subsequent</p>
<p>numbers), Green Hills adapter PATV8-01A must be used between the trace pod</p>
<p>and the ADP-NECM-STP breakout board.</p>
<p>Use a telnet console, a serial console, or<b> gpadmin</b> to set the following settings:</p>
<p>•</p>
<p>Adapter must be set to</p>
<p>v850e-trace-24</p>
<p>.</p>
<p>•</p>
<p>Target must be set to</p>
<p>v850e_trace</p>
<p>.</p>
<p><b>Note</b></p>
<p>There is a hyphen in the adapter name and an underscore in the target</p>
<p>name.</p>
<p>For more information about the SuperTrace Probe, see the documentation about</p>
<p>installing your probe in the<i> Getting Started</i> book for your probe</p>
<p><b>Collecting Trace Data</b></p>
<p>To collect trace data from the target, you must specify the SuperTrace Probe in your</p>
<p><b>850eserv2</b> connection. For more information, see &quot;<b>SuperTrace Probe is connected</b></p>
<p><b>via</b>&quot; in “Renesas V850/V850E ICE (850eserv2) Connection Settings” on page 26.</p>
<p>After the connection is made, verify that the target-specific trace options dialog is</p>
<p>configured correctly for your target.</p>
<p><b>Connecting to a RTE Target</b></p>
<p>After you have installed and configured your system, you are ready to connect to</p>
<p>your target and begin debugging. To help you connect to your target quickly and</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>70</i></p>
<p><i>Chapter 4. RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>easily, MULTI allows you to create and save Connection Methods that correspond</p>
<p>to your particular host and target systems and your desired debugging options.</p>
<p>For general instructions on how to create and use Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p>The information in the following sections supplements the instructions provided</p>
<p>there with information that is specific to RTE connections.</p>
<p><b>Creating a Standard RTE (rteserv2) Connection Method</b></p>
<p>When creating a new Standard RTE Connection Method, select<b> RTE (rteserv2)</b> as</p>
<p>the connection type in the<b> Create New Connection Method</b> dialog box.</p>
<p>For detailed instructions on creating new Standard Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p><b>Using the RTE (rteserv2) Connection Editor</b></p>
<p>In addition to the generic fields that appear on all Connection Editors for Standard</p>
<p>Connection Methods, the<b> RTE (rteserv2) Connection Editor</b> includes a<b> Debug</b></p>
<p>tab that allows you to set other options. However, you should not enter any other</p>
<p>options on the<b> Debug</b> tab unless directed to do so by Green Hills Technical Support.</p>
<p><i>71</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Creating a Standard RTE (rteserv2) Connection Method</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Log Connection to File</b></p>
<p>Controls logging of all communications for<b> rteserv2</b>. Select the radio button for your desired</p>
<p>logging output. Logging is disabled by default.</p>
<p><b>Use SuperTrace Probe</b></p>
<p>The Debugger supports collecting trace data from hardware that supports this feature. You can</p>
<p>collect trace data by using a Green Hills SuperTrace Probe in tandem with the<b> rteserv2</b></p>
<p>connection to the board.</p>
<p>By selecting this option, you can specify the network address of the SuperTrace Probe that</p>
<p><b>rteserv2</b> should connect to in order to obtain trace data. This trace data allows the user to use</p>
<p>TimeMachine and other trace facilities of the MULTI Debugger (see the documentation about</p>
<p>analyzing trace data with the TimeMachine tool suite in the<i> MULTI: Debugging</i> book).</p>
<p>For more information about configuring your SuperTrace Probe, see the documentation about</p>
<p>configuring your probe in the<i> Getting Started</i> book for your probe.</p>
<p><b>Other Options</b></p>
<p>Allows you to add other, optional arguments directly to the command line. You should only</p>
<p>use this field if directed to do so by Green Hills Technical Support.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>72</i></p>
<p><i>Chapter 4. RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Commands for RTE (rteserv2) Connections</b></p>
<p>Unlike most Green Hills debug servers,<b> rteserv2</b> does not support all of the</p>
<p>commands listed in “Generic Debug Server Commands” on page 90. The commands</p>
<p>available to<b> rteserv2</b> are listed in the following sections.</p>
<p><b>General rteserv2 Commands</b></p>
<p>The commands listed in this section are processed by<b> rteserv2</b> directly and work</p>
<p>for all of the RTEs tested for this distribution of MULTI (see “Supported Targets</p>
<p>for RTE (rteserv2) Connections” on page 68 for a list of tested RTEs). Each</p>
<p>particular RTE also accepts other commands, which are listed in “Commands for</p>
<p>Specific RTEs” on page 74.</p>
<p>You can enter the commands listed in this section directly into the<b> rteserv2 Target</b></p>
<p>pane. You can also enter these commands into the MULTI Debugger command</p>
<p>pane using the<b> target</b> command. All of the commands for<b> rteserv2</b> are</p>
<p>case-insensitive.</p>
<p><b>bpstat</b></p>
<p>Sends the<b> eval</b> command to MULTI to display the BP status.</p>
<p><b>dbgcomm [on | off]</b></p>
<p>Turns on or off RTE data logging.</p>
<p><b>debug [on | off]</b></p>
<p>Turns on or off the logging of debugging information.</p>
<p><b>info</b></p>
<p>Sends the<b> eval</b> command to MULTI to display the CPU status.</p>
<p><b>noload</b></p>
<p>Disables downloading to the target.</p>
<p>Use this command to avoid duplicate downloading if, for example, an object already exists in</p>
<p>memory.</p>
<p><b>tracewin</b></p>
<p>Displays the trace GUI.</p>
<p><i>73</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Commands for RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Commands for Specific RTEs</b></p>
<p>In addition to the general commands described in “Commands for RTE (rteserv2)</p>
<p>Connections” on page 73, each particular RTE also accepts other commands, which</p>
<p>are listed below.</p>
<p><b>RTE-V821-PC</b></p>
<p><b>help<i> command</b></i></p>
<p>Displays help information.</p>
<p>If a command is specified: Displays help information about the specified command.</p>
<p>If a command is not specified: Displays a list of usable RTE commands and their formats.</p>
<p><b>inb [<i>address</i>]</b></p>
<p>Reads (inputs) byte data from the I/O port and places it into<i> address</i>. If no address is specified,</p>
<p>the previous address is used.</p>
<p><b>inh [<i>address</i>]</b></p>
<p>Reads (inputs) halfword data from the I/O port and places it into<i> address</i>. If no address is</p>
<p>specified, the previous address is used.</p>
<p><b>init</b></p>
<p>Initializes the RTE-V821-PC. This command should rarely be used.</p>
<p><b>inw [<i>address</i>]</b></p>
<p>Reads (inputs) word data from the I/O port and places it into<i> address</i>. If no address is specified,</p>
<p>the previous address is used.</p>
<p><b>outb [[<i>address</i>]<i> data</i>]</b></p>
<p>Writes (outputs) byte data at<i> address</i> to an I/O register. If<i> address</i> or<i> data</i> are not specified, the</p>
<p>previous address and/or data are used.</p>
<p><b>outh [[<i>address</i>]<i> data]</b></i></p>
<p>Writes (outputs) halfword data at<i> address</i> to an I/O register. If<i> address</i> or<i> data</i> are not specified,</p>
<p>the previous address and/or data are used.</p>
<p><b>outw [[<i>address</i>]<i> data]</b></i></p>
<p>Writes (outputs) word data at<i> address</i> to an I/O register. If<i> address</i> or<i> data</i> are not specified,</p>
<p>the previous address and/or data are used.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>74</i></p>
<p><i>Chapter 4. RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sfr [<i>registername</i> [=<i>data</i>]]</b></p>
<p>Displays or sets the internal SFR registers.</p>
<p>If a register is specified, but data is not: Displays data read from the register.</p>
<p>If both the<i> registername</i> and =<i>data</i> arguments are specified: Writes the specified data to the</p>
<p>specified register. The size of the data is determined automatically by the effective size of the</p>
<p>specified register.</p>
<p>If no arguments are specified: lists the register names that may be used with the<b> sfr</b> command.</p>
<p><b>ver</b></p>
<p>Displays the version of the current RTE.</p>
<p><b>RTE-V851-IE</b></p>
<p><b>env</b></p>
<p>Sets the emulation CPU environmental values for the RTE-V851-IE.</p>
<p><b>help<i> command</b></i></p>
<p>Displays help information.</p>
<p>If a command is specified: Displays help information about the specified command.</p>
<p>If a command is not specified: Displays a list of usable RTE commands and their formats.</p>
<p><b>init</b></p>
<p>Initializes the RTE-V851-IE. This command should rarely be used.</p>
<p><b>map</b></p>
<p>Specifies memory mapping.</p>
<p><b>nc</b></p>
<p>Specifies the excluded area for the RTE-V851-IE.</p>
<p><b>ncd</b></p>
<p>Deletes the excluded area for the RTE-V851-IE.</p>
<p><b>reset</b></p>
<p>Resets.</p>
<p><b>rrm</b></p>
<p>References memory within the real-time RAM monitor area.</p>
<p><b>rrmb</b></p>
<p>Specifies the real-time RAM monitor base address.</p>
<p><i>75</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Commands for Specific RTEs</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sfr [<i>registername</i> [=<i>data</i>]]</b></p>
<p>Displays or sets the internal SFR registers.</p>
<p>If a register is specified, but data is not: Displays data read from the register.</p>
<p>If both the<i> registername</i> and =<i>data</i> arguments are specified: Writes the specified data to the</p>
<p>specified register. The size of the data is determined automatically by the effective size of the</p>
<p>specified register.</p>
<p>If no arguments are specified: lists the register names that may be used with the<b> sfr</b> command.</p>
<p><b>timer</b></p>
<p>Measures the execution time.</p>
<p><b>ver</b></p>
<p>Displays the version of the current RTE.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>76</i></p>
<p><i>Chapter 4. RTE (rteserv2) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5</b></p>
<p><b>Multi-core Simulator for V850</b></p>
<p><b>and RH850 (simrh850)</b></p>
<p><b>Connections</b></p>
<p><b>Contents</b></p>
<p>Installing the Multi-core Simulator for V850 and RH850 (simrh850) . . . . . . .</p>
<p>78</p>
<p>Connecting to the Multi-Core Simulator for V850 and RH850</p>
<p>(simrh850) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>78</p>
<p>Additional Commands for Multi-core Simulator for V850 and RH850</p>
<p>(simrh850) Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>84</p>
<p>Profiling with simrh850 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>Simulation Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>Unsupported Features . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>87</p>
<p>Connecting to the Multi-core Simulator for V850 and RH850 (simrh850) as</p>
<p>a Stand-alone Debug Server . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>88</p>
<h1 style="page-break-before:always; "></h1>
<p>MULTI includes a target simulator called<b> simrh850</b> that allows you to execute and</p>
<p>debug V850 and RH850 code on your host system. This chapter supplements the</p>
<p>general target connection information contained in Chapter 2, “Setting Up Your</p>
<p>Target Hardware” of this book and the documentation about connecting to your</p>
<p>target in the<i> MULTI: Debugging</i> book with information about how to connect to</p>
<p>and use the<b> simrh850</b> Simulator.</p>
<p><b>Installing the Multi-core Simulator for V850 and RH850 (simrh850)</b></p>
<p>The<b> simrh850</b> Simulator is installed automatically when you install MULTI. No</p>
<p>other installation steps are necessary.</p>
<p><b>Connecting to the Multi-Core Simulator for V850 and RH850</b></p>
<p><b>(simrh850)</b></p>
<p>To help you connect to targets (including simulators) quickly and easily, MULTI</p>
<p>allows you to create and save Connection Methods that specify the parameters of</p>
<p>your connection.</p>
<p>For general instructions on how to create and use Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p>The information in the following sections supplements the instructions provided</p>
<p>there with information that is specific to Multi-core Simulator for V850 and RH850</p>
<p>(<b>simrh850</b>) connections.</p>
<p><b>Creating a Multi-core Simulator for V850 and RH850 (simrh850) Connection</b></p>
<p><b>Method</b></p>
<p>When creating a new Multi-Core Simulator for V850 and RH850 (<b>simrh850</b>)</p>
<p>Connection Method, select<b> Simulator for RH850 (simrh850)</b> as the connection</p>
<p>type in the<b> Create New Connection Method</b> dialog box.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>78</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For detailed information about creating new Standard Connection Methods, see the</p>
<p>documentation about Standard Connection Methods in the<i> MULTI: Debugging</i></p>
<p>book.</p>
<p><b>Using the Multi-core Simulator for V850 and RH850 (simrh850) Connection</b></p>
<p><b>Editor</b></p>
<p>In addition to the generic fields that appear on all Connection Editors for Standard</p>
<p>Connection Methods, the<b> Multi-core Simulator for V850 and RH850 (simrh850)</b></p>
<p><b>Connection Editor</b> includes<b> Connection</b> and<b> Debug</b> tabs that provide settings and</p>
<p>options specific to your simulated target and your host operating system.</p>
<p><i>79</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Multi-core Simulator for V850 and RH850 (simrh850) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p>When the<b> Connection Editor</b> is first displayed after you create a new Connection</p>
<p>Method, the settings and options are set to default values. Settings and options that</p>
<p>are not available on your host operating system may appear dimmed. Some of the</p>
<p>fields may require user input before the Connection Method can be used.</p>
<p>All of the fields on the<b> Connection</b> and<b> Debug</b> tabs of the<b> Multi-core Simulator</b></p>
<p><b>for V850 and RH850 (simrh850) Connection Editor</b> are described in detail below.</p>
<p>(See the documentation about the Connection Editor in the<i> MULTI: Configuring</i></p>
<p><i>Connections</i> book for a description of the other fields and options, which appear</p>
<p>on all<b> Connection Editors</b>.)</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>80</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Multi-core Simulator for V850 and RH850 (simrh850) Connection</b></p>
<p><b>Settings</b></p>
<p><b>Processor</b></p>
<p>Specifies which target processor to simulate. This field defaults to<b> V850</b>.</p>
<p><b>ROM mode</b></p>
<p>Specifies ROM Simulation Mode (as opposed to OS Simulation Mode). For more information</p>
<p>about OS and ROM Simulation Modes, see “Simulation Modes” on page 85.</p>
<p><b>Unaligned Memory Access Support</b></p>
<p>Allows misaligned memory accesses on processors that support it.</p>
<p><b>Number of Cores</b></p>
<p>Selects the number of V850 and RH850 cores to simulate. Up to 32 cores may be simulated at</p>
<p>one time. The default is 1.</p>
<p><b>Number of h/w Threads per Core</b></p>
<p>Selects the number of V850 and RH850 threads to simulate. Up to 8 threads may be simulated</p>
<p>at one time. The default is 1. This option is only available for V850E3/RH850 cores.</p>
<p><b>Multi-core Simulator for V850 and RH850 (simrh850) Debug</b></p>
<p><b>Settings</b></p>
<p><b>Warning</b></p>
<p>Do not change the settings on the<b> Debug</b> tab unless you are instructed to</p>
<p>do so by Green Hills Technical Support.</p>
<p><i>81</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Multi-core Simulator for V850 and RH850 (simrh850) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Other Options</b></p>
<p>Allows you to add other, optional arguments directly to the command line. You should only</p>
<p>use this field if directed to do so by Green Hills Technical Support.</p>
<p><b>Using Custom Multi-core Simulator for V850 and RH850 (simrh850)</b></p>
<p><b>Connection Methods</b></p>
<p>To connect to your<b> simrh850</b> Simulator with a Custom Connection Method, type</p>
<p>the command given below, with the appropriate parameters and options, into the</p>
<p><b>Start a Custom Connection</b> dialog box and click<b> Connect</b>.</p>
<p><b>simrh850 [-cores=<i>n</i>] [-cpu=<i>cpu</i>] [-fpu=<i>fpu</i>] [-local_mem=<i>start,length</i> |<i> start-end</i>]</b></p>
<p><b>[-no_auto_alloc] [-rh850_misalign] [-rh850_simd] [-rh850_fpsimd]</b></p>
<p><b>[-rom[_use_entry]] [-shared_mem=<i>start,length</i> |<i> start-end</i>] [-stepcount=<i>n</i>]</b></p>
<p><b>[-threads=<i>n</i>] [-trace_core=<i>n</i>] [-trace_thread=<i>n</i>]</b></p>
<p>where:</p>
<p>•</p>
<p><b>-cores=<i>n</b></i> — Selects the number of CPU cores to simulate. Up to 32 cores may</p>
<p>be simulated at one time. The default is 1.</p>
<p>•</p>
<p><b>-cpu=<i>cpu</b></i> — Specifies which target processor to simulate. The default is</p>
<p>rh850g3m</p>
<p>. Other acceptable values for<i> cpu</i> are:</p>
<p>v850</p>
<p>,</p>
<p>v850e</p>
<p>,</p>
<p>v850e1f</p>
<p>,</p>
<p>v850e2</p>
<p>,</p>
<p>v850e2r</p>
<p>,</p>
<p>v850e2v3</p>
<p>,</p>
<p>v850e3v5</p>
<p>,</p>
<p>rh850g3k</p>
<p>,</p>
<p>rh850g3mh</p>
<p>and</p>
<p>rh850g3kh</p>
<p>.</p>
<p>•</p>
<p><b>-fpu=<i>fpu</b></i> — Specifies which FPU coprocessor to simulate. This option is only</p>
<p>meaningful when simulating an RH850 family or V850E3 family processor.</p>
<p>The default is</p>
<p>fpu30</p>
<p>which simulates a version 3 FPU. To simulate a version</p>
<p>2 FPU specify</p>
<p>fpu20</p>
<p>.</p>
<p>•</p>
<p><b>-local_mem=<i>start,length</i> |<i> start-end</b></i> — Specifies a range of local memory to</p>
<p>allocate for all cores and threads upon startup. This range of memory will be</p>
<p>private for each cores and thread.</p>
<p>•</p>
<p><b>-no_auto_alloc</b> — Disables auto-allocation of simulated memory. By default,</p>
<p>the simulator will automatically allocate memory to match the V850 and RH850</p>
<p>executable being simulated. When in multi-core or multi-threaded mode, all</p>
<p>auto-allocated memory will be shared across all cores and threads. When this</p>
<p>option is specified, only the memory configured with the<b> -shared_mem</b> and</p>
<p><b>-local_mem</b> options is allocated.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>82</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><b>-nofastbps</b> — By default the simulator will simulate software breakpoints</p>
<p>using the software breakpoint instruction. This option will cause it to switch</p>
<p>to a method more similar to a hardware breakpoint. This will significantly slow</p>
<p>down simulation, but is useful for debugging self-modifying software. It is</p>
<p>intended for advanced users only.</p>
<p>•</p>
<p><b>-rh850_misalign</b> — Enables support for misaligned memory accesses in the</p>
<p>simulator. This corresponds to the<b> -misalign_pack</b> option in the compiler.</p>
<p>•</p>
<p><b>-rh850_simd</b> — Enables support for the SIMD coprocessor available with</p>
<p>some RH850 processors. The corresponding<b> -no_rh850_simd</b> option will force</p>
<p>the SIMD coprocessor to be disabled.</p>
<p>•</p>
<p><b>-rh850_fpsimd</b> — Enables support for the FPSIMD coprocessor available</p>
<p>with some RH850 processors. The corresponding<b> -no_rh850_fpsimd</b> option</p>
<p>will force the FPSIMD coprocessor to be disabled.</p>
<p>•</p>
<p><b>-rom</b> — Enables ROM mode on the simulator and sets the simulator to start</p>
<p>from the reset vector. To run the simulator in ROM mode, but start from the</p>
<p>program's entry point, use<b> -rom_use_entry</b>. For more information, see “ROM</p>
<p>Mode” on page 87.</p>
<p>•</p>
<p><b>-shared_mem=<i>start,length</i> |<i> start-end</b></i> — Specifies a range of shared memory</p>
<p>to allocate for all cores and threads upon startup. This range of memory will</p>
<p>be shared across all cores and threads.</p>
<p>•</p>
<p><b>-stepcount=<i>n</b></i> — Sets the number of instructions the simulator will simulate</p>
<p>before polling the debugger for activity. The default is 100000 for a single-core,</p>
<p>single-thread simulation. Otherwise the default is 1 to maximize synchronization</p>
<p>between threads and cores. This option should only be used by advanced users</p>
<p>to tweak performance and responsiveness trade-offs of the simulator.</p>
<p>•</p>
<p><b>-threads=<i>n</b></i> — Selects the number of CPU threads to simulate. Up to 8 threads</p>
<p>may be simulated at one time. The default is 1. This option is only available</p>
<p>for V850E3/RH850 cores.</p>
<p>•</p>
<p><b>-trace_core=<i>n</b></i> — Selects which core trace data will be collected on. Trace</p>
<p>data may only be collected for a single core at a time. The default is core 0.</p>
<p>•</p>
<p><b>-trace_thread=<i>n</b></i> — Selects which thread trace data will be collected on. Trace</p>
<p>data may only be collected for a single thread at a time. The default is thread</p>
<p>0.</p>
<p><i>83</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Multi-core Simulator for V850 and RH850 (simrh850) Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>You can also enter the above connection command from the Debugger's</p>
<p>command pane, where it must be preceded by the<b> connect</b> command.</p>
<p>See the documentation about Custom Connection Methods in the<i> MULTI: Debugging</i></p>
<p>book for more information about Custom Connections.</p>
<p><b>Additional Commands for Multi-core Simulator for V850 and RH850</b></p>
<p><b>(simrh850) Connections</b></p>
<p>The following commands, in addition to the commands listed in “Generic Debug</p>
<p>Server Commands” on page 90, are available to<b> simrh850</b>.</p>
<p>You can enter all of these commands directly into the<b> simrh850 Target</b> pane. You</p>
<p>can also enter these commands into the MULTI Debugger command pane using</p>
<p>the<b> target</b> command. All of the commands for<b> simrh850</b> are case-insensitive.</p>
<p><b>alloc<i> [ local | shared ] addr size</b></i></p>
<p>Allocates<i> size</i> bytes of memory starting at address<i> addr</i> in memory.</p>
<p><b>freq<i> frequency</b></i></p>
<p>Sets processor frequency to<i> frequency</i> MHz.</p>
<p><b>help</b></p>
<p>Displays all of the commands with their brief descriptions.</p>
<p><b>memmap</b></p>
<p>Displays a map of the currently allocated memory for all cores and threads.</p>
<p><b>snooze<i> interval</b></i></p>
<p>Sets the V850E3/RH850 SNOOZE interval to<i> interval</i> cycles.</p>
<p><b>stepcount<i> count</b></i></p>
<p>Sets the number of instructions the simulator will simulate before polling the debugger for</p>
<p>activity. The default is 100000 for a single-core, single-thread simulation. Otherwise the default</p>
<p>is 1 to maximize synchronization between threads and cores. This option should only be used</p>
<p>by advanced users to tweak performance and responsiveness trade-offs of the simulator. Setting</p>
<p>the value to 0 will reset to default values.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>84</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>threads</b></p>
<p>Displays the V850E3/RH850 thread scheduling information. For example, the following output</p>
<p>shows that the processor is configured for one CPU, where that CPU has six scheduling slots</p>
<p>(from that CPU's</p>
<p>HTSCCTL</p>
<p>register's</p>
<p>RND</p>
<p>field), with the execution order (from that CPU's</p>
<p>HTSCTBLn</p>
<p>registers) being Thread 0, Thread 1, Thread 2, Thread 1, Thread 0 and finally Thread</p>
<p>2:</p>
<p>Thread schedule for core 0 (6 scheduling slots used):</p>
<p>0 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; 0 -&gt; 2</p>
<p><b>Profiling with simrh850</b></p>
<p>You can use MULTI to profile with the<b> simrh850</b> simulator. Profiling with a</p>
<p>simulator is often much more accurate than native profiling because profiling</p>
<p>information can be obtained without periodically halting the program and recording</p>
<p>the location of the program counter. The simulator keeps track of which instruction</p>
<p>it is simulating and how many machine clocks have passed. The simulated clock</p>
<p>rate is 50 MHz.</p>
<p>For more information about profiling, see the documentation about recording and</p>
<p>viewing profiling data in the<i> MULTI: Debugging</i> book.</p>
<p><b>Simulation Modes</b></p>
<p>The<b> simrh850</b> simulator has two simulation mode: OS and ROM. These two modes</p>
<p>are described in the following sections. OS Simulation Mode is the default mode.</p>
<p>To enable ROM simulation, select the<b> ROM mode</b> option in the Connection Editor</p>
<p>or pass the<b> -rom</b> or<b> -rom_use_entry</b> option.</p>
<p>The<b> simrh850</b> simulator is designed to be applicable for user level applications,</p>
<p>but processor features such as caches, memory management unit, and any special</p>
<p>peripherals and registers are generally not implemented.</p>
<p><b>OS Simulation Mode</b></p>
<p>In OS simulation mode (which is the default mode), the simulator provides an</p>
<p>environment similar to a user process running under UNIX. The simulator allocates</p>
<p>memory for the text and initialized and uninitialized data of the simulated program,</p>
<p><i>85</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Profiling with simrh850</i></p>
<h1 style="page-break-before:always; "></h1>
<p>loads it into memory, and starts executing at the entry point specified at link time.</p>
<p>The stack pointer is initialized and any command line arguments listed after the</p>
<p>user program name on the simulator command line are passed to the main program</p>
<p>via the normal</p>
<p>argc/argv</p>
<p>convention. A limited set of system calls is supported</p>
<p>for I/O purposes. This level of simulation is suitable for debugging user-level</p>
<p>programs, but if your programs need a more accurate simulation of actual CPU</p>
<p>behavior, you should run in ROM mode.</p>
<p>The simulator accepts the following system calls.</p>
<p>close</p>
<p>brk</p>
<p>alarm</p>
<p>access</p>
<p>getpid</p>
<p>fstat</p>
<p>exit</p>
<p>creat</p>
<p>read</p>
<p>open</p>
<p>lseek</p>
<p>link</p>
<p>write</p>
<p>unlink</p>
<p>time</p>
<p>stat</p>
<p><b>Note</b></p>
<p>While only these system calls are implemented, many library functions</p>
<p>use a combination of these calls to achieve their goals.</p>
<p>To implement these system calls, the simulator cooperates with the Green Hills</p>
<p>Libraries by setting a breakpoint in the</p>
<p>.syscall</p>
<p>section. The simulator is then</p>
<p>able to trap any call into this special section and treat it as a system call request by</p>
<p>the library.</p>
<p>In OS simulation mode, only memory that was allocated initially, plus memory</p>
<p>returned by the</p>
<p>brk</p>
<p>system call, is available. References to other memory addresses</p>
<p>will be trapped by the simulator and cause the program to abort. Similarly, attempts</p>
<p>to use exception-generating instructions also cause the program to abort. If the</p>
<p>simulation must closely reflect actual hardware behavior, consider using ROM</p>
<p>mode.</p>
<p>Including a</p>
<p>MEMORY</p>
<p>directive in the link map does nothing unless a section is</p>
<p>allocated at the address in question. For example:</p>
<p>MEMORY {</p>
<p>...</p>
<p><i>memory</i> : ORIGIN = 0x0080f000, LENGTH = 64K ...</p>
<p>}</p>
<p>...</p>
<p>SECTIONS {</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>86</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p>...</p>
<p><i>.section</i> : &gt;<i> memory</i></p>
<p>...</p>
<p>}*</p>
<p><b>ROM Mode</b></p>
<p>ROM Mode simulates only the bare minimum hardware, such as CPU and memory</p>
<p>systems. In ROM mode, you can set the simulator to start at either the reset vector</p>
<p>or at the program's entry point. To cause the simulator to always start execution at</p>
<p>the address of the system reset vector (address</p>
<p>0</p>
<p>), as if the CPU were given a hard</p>
<p>reset, and to ignore any program startup address specified at link time, select<b> ROM</b></p>
<p><b>mode</b> on the Connection tab of the Connection Editor or include the<b> -rom</b> option</p>
<p>in your Custom Connection Method. To start at the program's entry point instead,</p>
<p>use a Custom Connection Method and pass the<b> -rom_use_entry</b> option.</p>
<p>Other features of ROM mode include:</p>
<p>•</p>
<p>Handling of exceptions as in the hardware, with the program counter transferred</p>
<p>to the appropriate address. User code must be supplied to handle the exception</p>
<p>appropriately.</p>
<p>•</p>
<p>Prevention of arguments being passed to the running program.</p>
<p>•</p>
<p>Requirement that user startup code initialize the stack pointer.</p>
<p>•</p>
<p>Support of a limited set of system calls for I/O.</p>
<p>You can use ROM mode for writing and testing exception handlers and even parts</p>
<p>of a real operating system. You should write at least some start-up code in pure</p>
<p>assembly language, since this mode simulates a bare bones processor.</p>
<p><b>Unsupported Features</b></p>
<p>The V850 does not support the following hardware features.</p>
<p>•</p>
<p>Instruction pipelining</p>
<p>•</p>
<p>Exact timing</p>
<p>•</p>
<p>ICE mode</p>
<p>•</p>
<p>Interrupts</p>
<p><i>87</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ROM Mode</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Connecting to the Multi-core Simulator for V850 and RH850</b></p>
<p><b>(simrh850) as a Stand-alone Debug Server</b></p>
<p>To connect to the Multi-core Simulator for V850 and RH850 from the command</p>
<p>line, independently of MULTI, enter:</p>
<p><b>simrh850</b> [-cpu=<i>cpu</i>] [-rom]<i> image_file</i> [<i>args</i>]...</p>
<p>where:</p>
<p>•</p>
<p>-cpu=<i>cpu</i></p>
<p>— Specifies which target processor to simulate. The default is</p>
<p>rh850g3m</p>
<p>. Other acceptable values for<i> cpu</i> are:</p>
<p>v850</p>
<p>,</p>
<p>v850e</p>
<p>,</p>
<p>v850e1f</p>
<p>,</p>
<p>v850e2</p>
<p>,</p>
<p>v850e2r</p>
<p>,</p>
<p>v850e2v3</p>
<p>,</p>
<p>v850e3v5</p>
<p>,</p>
<p>rh850g3k</p>
<p>,</p>
<p>rh850g3mh</p>
<p>and</p>
<p>rh850g3kh</p>
<p>.</p>
<p>•</p>
<p>-rom</p>
<p>— Instructs the simulator to behave more like Green Hills hardware</p>
<p>debug servers and to ignore the program's entry point. See “ROM Mode”</p>
<p>on page 87.</p>
<p>•</p>
<p><i>image_file</i></p>
<p>— Is an ELF style executable file.</p>
<p>•</p>
<p><i>args</i></p>
<p>— Are optional command line arguments which are passed to the program</p>
<p>in OS simulation mode. See “OS Simulation Mode” on page 85.</p>
<p>Connecting to the simulator in this way allows you to simulate your program, but</p>
<p>does not offer the interactive debugging capabilities available through MULTI.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>88</i></p>
<p><i>Chapter 5. Multi-core Simulator for V850 and RH850 (simrh850) Connections</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix A</b></p>
<p><b>Green Hills Debug Server</b></p>
<p><b>Command and Scripting</b></p>
<p><b>Reference</b></p>
<p><b>Contents</b></p>
<p>Green Hills Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>90</p>
<p>The Green Hills Debug Server Scripting Language . . . . . . . . . . . . . . . . . . . . . .</p>
<p>96</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter describes generic debug server commands and a full scripting language</p>
<p>that can be used with most Green Hills debug servers.</p>
<p>These commands and the scripting language are used only in legacy<b> .dbs</b> scripts,</p>
<p>and are deprecated.</p>
<p><b>Green Hills Debug Server Commands</b></p>
<p>The commands described below are available to most Green Hills debug servers,</p>
<p>but do not apply to simulator or operating system connections.</p>
<p>Most Green Hills debug servers also support additional commands.</p>
<p><b>Generic Debug Server Commands</b></p>
<p>Unless otherwise noted, the commands listed in this section are available for all of</p>
<p>the debug servers in this book.</p>
<p>You can enter all of these commands directly into the debug server<b> Target</b> pane.</p>
<p>You can also enter these commands into the MULTI Debugger command pane</p>
<p>using the<b> target</b> command. All of the Green Hills debug server commands are</p>
<p>case-insensitive.</p>
<p><b>addressof<i></b> symbol</i></p>
<p>Returns the address of<i> symbol</i>. This command requires that an image be loaded in the MULTI</p>
<p>Debugger.</p>
<p><b>amask</b> [<i>mask</i>] [<i>value</i>]</p>
<p>If no arguments are specified, the current settings of the download mask and value are displayed.</p>
<p>The default settings of<i> mask</i> and<i> value</i> are</p>
<p>0xffffffffffffffff</p>
<p>and</p>
<p>0</p>
<p>, respectively.</p>
<p>If<i> mask</i> and<i> value</i> are specified,<b> amask</b> sets the download mask and value to<i> mask</i> and<i> value</i>.</p>
<p>When the debug server downloads a program, it will bitwise AND<i> mask</i> and bitwise OR<i> value</i></p>
<p>with the download addresses, as follows:</p>
<p><i>address</i> = (<i>address</i> &amp;<i> mask</i>) |<i> value</i></p>
<p>The<b> amask</b> command is useful for shifting download target addresses without relinking a</p>
<p>program. However, the program being downloaded still retains its original relocations and might</p>
<p>not run correctly at its new destination address without further support on the target.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>90</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>close<i></b> fd</i></p>
<p>Closes the specified file descriptor,<i> fd</i>.</p>
<p><b>debug<i></b> n</i></p>
<p>Sets the debugging bit flags.</p>
<p>Do not use this command unless directed to do so by Green Hills Technical Support.</p>
<p><b>delrange<i></b> addr</i></p>
<p>Deletes a checked address range starting at<i> addr</i>. See<b> setrange</b> for more information about</p>
<p>checked memory ranges.</p>
<p><b>delrangeall</b></p>
<p>Deletes all checked address ranges. See<b> setrange</b> for more information about checked memory</p>
<p>ranges.</p>
<p><b>echo</b> [ on | off ]</p>
<p>If no argument is specified, the current echo mode is printed.</p>
<p>If<b> on</b> or<b> off</b> is specified, printing of commands executed in a script are enabled or disabled.</p>
<p><b>fprint<i></b> fd string</i></p>
<p>Prints<i> string</i> to the specified file,<i> fd</i>, with script variable expansion.</p>
<p><b>fprintb<i></b> fd integer</i></p>
<p>Prints<i> integer</i> to the specified file,<i> fd</i>, in binary mode.</p>
<p><b>fread<i></b> fd identifier</i></p>
<p>Reads one line of text from the specified file,<i> fd</i>. The line is stored as a variable with the specified</p>
<p><i>identifier</i>. The number of bytes read is returned. If there is an error,</p>
<p>-1</p>
<p>is returned.</p>
<p><b>freadb<i></b> fd identifier</i></p>
<p>Reads an integer from the specified file,<i> fd</i>, in binary mode. The integer is stored as a variable</p>
<p>with the specified<i> identifier</i>. The number of bytes read is returned. If there is an error,</p>
<p>-1</p>
<p>is</p>
<p>returned.</p>
<p><b>getenv<i></b> envName identifier</i></p>
<p>Stores the value of the environment variable,<i> envName</i>, in the script variable with the specified</p>
<p>identifier.</p>
<p><b>halt</b></p>
<p>Halts execution of the target CPU and forces it into debugging mode.</p>
<p><i>91</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>help</b> [<i> command</i> |<i> group</i> ]</p>
<p>(See also the device-specific<b> help</b> command listed in “Additional Debug Server Commands”</p>
<p>on page 96.)</p>
<p>If no argument is specified, general help information and instructions for finding more detailed</p>
<p>and specific help is printed.</p>
<p>If a<i> command</i> is specified, detailed help information about the specified<i> command</i> is printed.</p>
<p>If a<i> group</i> is specified, a list of all of the commands in the group with information about the</p>
<p>arguments each command takes is printed. Valid command groups include<b> target</b>,<b> server</b>, and</p>
<p><b>scripting</b>.</p>
<p>Example 1:</p>
<p>&gt; help server</p>
<p>help [&lt;command&gt; | &lt;group&gt;]</p>
<p>debug &lt;n&gt;</p>
<p>playdead</p>
<p>Example 2:</p>
<p>&gt; help help</p>
<p>help [&lt;command&gt; | &lt;group&gt;]</p>
<p>Prints help information</p>
<p><b>listrange</b></p>
<p>Lists all checked ranges. See<b> setrange</b> for more information about checked memory ranges.</p>
<p><b>listvars</b></p>
<p>Prints all variable identifiers in no particular order.</p>
<p>Example:</p>
<p>&gt; str1=&quot;foo&quot;</p>
<p>&gt; str2=&quot;bar&quot;</p>
<p>&gt; i=100</p>
<p>&gt; listvars</p>
<p>i</p>
<p>str1</p>
<p>str2</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>92</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>load</b> [all] [text] [data] [bss]</p>
<p>If no argument is specified: Displays the current<b> load</b> settings.</p>
<p>If one or more arguments are specified,<b> load</b> instructs which sections to include in host-to-target</p>
<p>downloads.</p>
<p>.text</p>
<p>sections contain code,</p>
<p>.data</p>
<p>sections contain initialized variables, and</p>
<p>.bss</p>
<p>sections contain uninitialized data. Setting the<b> all</b> option includes all of these sections in the</p>
<p>download.</p>
<p>You can combine the<b> load</b> command with the<b> noload</b> command.</p>
<p>Green Hills startup code clears all</p>
<p>.bss</p>
<p>sections so you do not need to download them. In most</p>
<p>cases, the default setting is</p>
<p>text data</p>
<p>, but the default varies according to your debug server.</p>
<p>Standard Example:</p>
<p>&gt; load all</p>
<p>Download Options: text data bss</p>
<p>Advanced Example:</p>
<p>&gt; load all noload bss</p>
<p>Download Options: text data</p>
<p><b>m</b> [-d<i>size</i>]<i> address</i>[=<i>val</i>]</p>
<p>If</p>
<p>=<i>val</i></p>
<p>is not specified, the indicated memory<i> address</i> on the target is read.</p>
<p>If</p>
<p>=<i>val</i></p>
<p>is specified,<i> val</i> to the specified memory<i> address</i>on the target is written.</p>
<p>Memory addresses and values must be specified in hexadecimal (with or without a leading</p>
<p>0x</p>
<p>).</p>
<p>The optional<b> -d</b> argument can be used to set the access size to byte (<b>-d1</b>), short (<b>-d2</b>), or long</p>
<p>(<b>-d4</b>). The default is<b> -d4</b>.</p>
<p>Examples:</p>
<p>&gt; m 1000</p>
<p>7ca62b78</p>
<p>&gt; m 1000=12345678</p>
<p>&gt; m -d2 1000</p>
<p>1234</p>
<p><b>nofail<i></b> command</i></p>
<p>Executes the specified<i> command</i> and always returns success.</p>
<p><i>93</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>noload</b> [all] [text] [data] [bss]</p>
<p>If no argument is specified, the current<b> noload</b> settings are displayed.</p>
<p>If one or more arguments are specified,<b> noload</b> specifies which sections to exclude from</p>
<p>host-to-target downloads.</p>
<p>.text</p>
<p>sections contain code,</p>
<p>.data</p>
<p>sections contain initialized</p>
<p>variables, and</p>
<p>.bss</p>
<p>sections contain uninitialized data. Setting the<b> all</b> option excludes all of</p>
<p>these sections from the download.</p>
<p>Use the command<b> noload bss</b> to exclude</p>
<p>.bss</p>
<p>sections from downloads. These sections are</p>
<p>cleared to all zeros by programs compiled with Green Hills tools; therefore, downloading them</p>
<p>to the target is usually unnecessary.</p>
<p><b>open<i></b> file</i></p>
<p>Opens the specified<i> file</i> for writing and returns a file descriptor.</p>
<p><b>print<i></b> string</i></p>
<p>Prints<i> string</i> with script variable expansion.</p>
<p>Example:</p>
<p>&gt; print Test</p>
<p>Test</p>
<p><b>random<i></b> max</i></p>
<p>Generates and returns a pseudo-random number between</p>
<p>0</p>
<p>and</p>
<p><i>max</i>-1</p>
<p>.</p>
<p><b>run</b> [<i>address</i>]</p>
<p>If<i> address</i> is not specified, the processor is run from the current program counter(PC).</p>
<p>If<i> address</i> is specified, it sets the program counter to<i> address</i> and then runs the processor.</p>
<p>Use this command very carefully. It is possible to run a program on the board when MULTI</p>
<p>thinks it is halted, which causes unpredictable results.</p>
<p>A common use for this command is to run a ROM monitor program so that the monitor can set</p>
<p>up the board properly before MULTI downloads a program.</p>
<p><b>script<i></b> file</i></p>
<p>Executes the commands in the specified script file,<i> file</i>, as if they were typed in line by line.</p>
<p><b>setrange<i></b> addr length</i></p>
<p>Sets a checked address range beginning at<i> addr</i> and extending for<i> length</i> bytes.</p>
<p>A checked address range is a range of addresses that are considered inaccessible. Any memory</p>
<p>access, read, or write to a checked address range can fail.</p>
<p>The<b> setrange</b> command is useful for restricting access to target memory that might be sensitive</p>
<p>or volatile.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>94</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>setup<i></b> file</i></p>
<p>Specifies a script file,<i> file</i>, to be automatically run immediately prior to every host-to-target</p>
<p>download.</p>
<p><b>sleep<i></b> n</i></p>
<p>Suspends the debug server for<i> n</i> seconds.</p>
<p><b>status</b></p>
<p>Prints and returns the current status of the debug server using the following status codes:</p>
<p>0 Running</p>
<p>1 Stopped by breakpoint</p>
<p>2 Single step completed</p>
<p>3 Exception</p>
<p>4 Halted</p>
<p>5 Process exited</p>
<p>6 Process terminated</p>
<p>7 No process</p>
<p>8 (Unassigned)</p>
<p>9 Stopped by hardware breakpoint</p>
<p>10 Failure</p>
<p>11 Process ready to run</p>
<p>12 Host system call in progress</p>
<p>13 Target reset</p>
<p><b>step</b></p>
<p>Single steps the target CPU from the current program counter location.</p>
<p><b>stepint</b> [ nomask | mask ]</p>
<p>Turns interrupts during single stepping on (</p>
<p>nomask</p>
<p>) or off (</p>
<p>mask</p>
<p>).</p>
<p>When set,<b> stepint</b> masks all interrupts during a single step. For example, on Power Architecture,</p>
<p>interrupt masking is accomplished by masking the EE bit in the MSR. Stepping over code that</p>
<p>alters the MSR with<b> stepint</b> on will result in unpredictable values in the MSR.</p>
<p>If no argument is specified, this command displays the current value.</p>
<p><b>undef<i></b> variable</i></p>
<p>Removes<i> variable</i> and releases any memory associated with it.</p>
<p>Example:</p>
<p>&gt; x=5</p>
<p>&gt; undef x</p>
<p>&gt; print $x</p>
<p>Error: variable undefined!</p>
<p><i>95</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Additional Debug Server Commands</b></p>
<p>The following table indicates where you can find information about additional</p>
<p>commands (if any) available for your particular debugging interface.</p>
<p><b>Where to find additional commands for this target</b></p>
<p><b>Debugging interface</b></p>
<p>There are no additional commands for Green Hills Monitor</p>
<p>connections.</p>
<p>Green Hills Monitor</p>
<p>“Target Commands for Renesas V850/V850E ICE (850eserv2)</p>
<p>Connections” on page 36</p>
<p>Renesas V850/V850E ICE</p>
<p>“Commands for Specific RTEs” on page 74</p>
<p>RTE Servers</p>
<p>“Additional Commands for Multi-core Simulator for V850 and</p>
<p>RH850 (simrh850) Connections” on page 84</p>
<p>Simulator for V800</p>
<p><b>The Green Hills Debug Server Scripting Language</b></p>
<p>In addition to the commands listed in “Generic Debug Server Commands”</p>
<p>on page 90, a full scripting language is available from the<b> monserv</b> command line.</p>
<p>This scripting language is described below.</p>
<p>You can run<b> monserv</b> scripts by:</p>
<p>•</p>
<p>Entering scripts one line at a time at the command prompt. When entering a</p>
<p>script line by line, nothing is executed until the top-level enclosing<b> while</b> or<b> if</b></p>
<p>statement is terminated.</p>
<p>•</p>
<p>Storing commands in a script file and then running the file using the<b> script</b></p>
<p>command.</p>
<p>•</p>
<p>Storing commands in a script file and then using the<b> -setup</b> option or<b> setup</b></p>
<p>command (or the<b> Target Setup Script</b> field in some Connection Editors) to</p>
<p>ensure that the script file is automatically executed immediately prior to every</p>
<p>host-to-target download.</p>
<p><b>General Notes</b></p>
<p>When writing<b> monserv</b> scripts, keep the following points in mind:</p>
<p>•</p>
<p>There can be no more than one statement per line.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>96</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>Any line that has the</p>
<p>#</p>
<p>character as the first non-whitespace character is treated</p>
<p>as a comment.</p>
<p>•</p>
<p>Variables do not need to be declared before they are used.</p>
<p>•</p>
<p>Variable types are determined automatically. For example, an identifier that is</p>
<p>bound to an integer variable can later be assigned to a string variable.</p>
<p>•</p>
<p>Variable and function names are not case-sensitive.</p>
<p><b>Scripting Syntax</b></p>
<p>The following sections describe and give examples of some features of the Green</p>
<p>Hills debug server scripting language supported by<b> monserv</b>.</p>
<p><b>Expressions</b></p>
<p>Expressions in the Green Hills debug server scripting language are similar to C</p>
<p>language expressions. Unlike C, each operator has its own precedence (</p>
<p>10/2*5</p>
<p>evaluates to 1, not 25), and there are no unary operators (such as</p>
<p>~</p>
<p>and unary</p>
<p>-</p>
<p>).</p>
<p>The following table contains, in order of precedence, the valid operators you can</p>
<p>use in expressions. Note that a string is treated like an integer if it contains a string</p>
<p>representation of an integer.</p>
<p><b>String Function</b></p>
<p><b>Integer Function</b></p>
<p><b>Operator</b></p>
<p>Grouping of operators to ensure desired</p>
<p>evaluation</p>
<p>Grouping of operators to ensure</p>
<p>desired evaluation</p>
<p>( )</p>
<p>Invalid</p>
<p>Multiplication</p>
<p>*</p>
<p>Invalid</p>
<p>Division</p>
<p>/</p>
<p>Invalid</p>
<p>Modulus</p>
<p>%</p>
<p>Concatenation</p>
<p>Addition</p>
<p>+</p>
<p>Invalid</p>
<p>Subtraction</p>
<p>-</p>
<p>Invalid</p>
<p>Bitwise left shift</p>
<p>&lt;&lt;</p>
<p>Invalid</p>
<p>Bitwise right shift</p>
<p>&gt;&gt;</p>
<p>Alphabetic less than</p>
<p>Less than</p>
<p>&lt;</p>
<p>Alphabetic less than or equal to</p>
<p>Less than or equal to</p>
<p>&lt;=</p>
<p>Alphabetic greater than</p>
<p>Greater than</p>
<p>&gt;</p>
<p><i>97</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Scripting Syntax</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>String Function</b></p>
<p><b>Integer Function</b></p>
<p><b>Operator</b></p>
<p>Alphabetic greater than or equal to</p>
<p>Greater than or equal to</p>
<p>&gt;=</p>
<p>Equality test</p>
<p>Equality test</p>
<p>==</p>
<p>Inequality test</p>
<p>Inequality test</p>
<p>!=</p>
<p>Invalid</p>
<p>Bitwise AND</p>
<p>&amp;</p>
<p>Invalid</p>
<p>Bitwise XOR</p>
<p>^</p>
<p>Invalid</p>
<p>Bitwise OR</p>
<p>|</p>
<p>Invalid</p>
<p>Logical AND</p>
<p>&amp;&amp;</p>
<p>Invalid</p>
<p>Logical OR</p>
<p>||</p>
<p><b>Assignments</b></p>
<p>The syntax for an assignment is:</p>
<p><i>identifier</i> =<i> expression</i></p>
<p>The<i> expression</i> is evaluated and the result is stored as a variable with the given</p>
<p><i>identifier</i>. String, integer, and array variables are supported. Identifiers can contain</p>
<p>alphanumeric characters and the underscore (</p>
<p>_</p>
<p>) character, but cannot begin with a</p>
<p>number, or have the same name as a command.</p>
<p><b>Arrays</b></p>
<p>Arrays are indexed lists of variables. Each cell in an array can contain a string, an</p>
<p>integer, or an array. Array indexing begins with the index</p>
<p>0</p>
<p>. An array can be created</p>
<p>by assigning an entire array to an identifier or by assigning a string, an integer, or</p>
<p>an array to one cell of an array. To reference a cell, follow the array identified by</p>
<p>the index contained in square brackets. If an array cell contains another array, the</p>
<p>elements in the second array are accessed by appending an additional index in square</p>
<p>brackets. The following example demonstrates the various methods of array access.</p>
<p>endl=&quot;\n&quot;</p>
<p>bar[3] = 42</p>
<p>foo = { bar, 7, &quot;hello&quot; }</p>
<p>print $foo[2] world.$endl</p>
<p>if(foo[0][3]==bar[2+1])</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>98</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>print Array indexing works.$endl</p>
<p>endif</p>
<p>Arrays are dynamically allocated in a sparse fashion. For example, making an</p>
<p>assignment to</p>
<p>foo[0]</p>
<p>and then to</p>
<p>foo[100]</p>
<p>only allocates two array cells, and</p>
<p>no space is used for the undefined array cells 1 through 99. After an array element</p>
<p>has been allocated, it can only be deallocated by using the<b> undef</b> command on the</p>
<p>top-level array identifier.</p>
<p><b>Conditionals</b></p>
<p>The following table explains the syntax for conditionals.</p>
<p><b>Effect</b></p>
<p><b>Syntax</b></p>
<p>If<i> expression</i> evaluates to zero, nothing happens. Otherwise, the block</p>
<p>of statements between the<b> if</b> and<b> endif</b> lines are executed.</p>
<p><b>if<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>endif</b></p>
<p>If<i> expression</i> evaluates to zero, the debug server executes the block</p>
<p>of statements between the<b> else</b> and<b> endif</b> lines. Otherwise, the block</p>
<p>of statements between the<b> if</b> and<b> else</b> lines are executed.</p>
<p><b>if<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>else</b></p>
<p><i>statements</i></p>
<p><b>endif</b></p>
<p>If<i> expression1</i> does not evaluate to zero, the debug server executes</p>
<p>the block of statements between the<b> if</b> and<b> elif</b> lines.</p>
<p>If<i> expression1</i> does evaluate to zero and<i> expression2</i> does not evaluate</p>
<p>to zero, the debug server executes the block of statements between</p>
<p>the<b> elif</b> and<b> endif</b> lines.</p>
<p>If both<i> expression1</i> and<i> expression2</i> evaluate to zero, the debug server</p>
<p>continues evaluating each of the subsequent<b> elif</b> expressions (if any)</p>
<p>that occur before the<b> endif</b> statement and will execute the block of</p>
<p>statement associated with each<b> elif</b> that does not evaluate to zero.</p>
<p>If none of the<b> elif</b> expressions evaluates to non-zero, the debug server</p>
<p>will not execute anything.</p>
<p><b>if<i> expression1</b></i></p>
<p><i>statements</i></p>
<p><b>elif<i> expression2</b></i></p>
<p><i>statements</i></p>
<p>[<b>elif<i> expressionX</b></i></p>
<p><i>statements</i>]...</p>
<p><b>endif</b></p>
<p><b>Loops</b></p>
<p>The following table explains the syntax for loops.</p>
<p><i>99</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Scripting Syntax</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Effect</b></p>
<p><b>Syntax</b></p>
<p>The statements between the<b> while</b> and<b> endwhile</b> lines are executed</p>
<p>as long as<i> expression</i> does not evaluate to zero.</p>
<p><b>while<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>endwhile</b></p>
<p>The statements between<b> do</b> and<b> while</b> are executed one time, then</p>
<p>continue to execute as long as<i> expression</i> does not evaluate to zero.</p>
<p><b>do</b></p>
<p><i>statements</i></p>
<p><b>dowhile<i> expression</b></i></p>
<p>Be careful to avoid infinite loops. If an infinite loop occurs, you must shut down</p>
<p>and restart the debug server.</p>
<p><b>Variable Expansion</b></p>
<p>To use script variables as arguments to Green Hills debug server commands, you</p>
<p>must prepend the variable name with one or two</p>
<p>$</p>
<p>characters.</p>
<p>•</p>
<p>To pass a variable to a command in its default text representation, prepend the</p>
<p>variable name with a single</p>
<p>$</p>
<p>character. This passes a decimal string for integer</p>
<p>variables and passes the string itself for string variables. Integers are expanded</p>
<p>as two's complement signed 32-bit integers. An entire array cannot be given</p>
<p>as an argument to a command.</p>
<p>•</p>
<p>To pass an integer variable to a command as a hexadecimal string, prepend the</p>
<p>variable name with two</p>
<p>$</p>
<p>characters. Use this method with commands such as</p>
<p><b>m</b> that require arguments in hexadecimal form. The hexadecimal string does</p>
<p>not include a leading</p>
<p>0x</p>
<p>.</p>
<p>Variable expansion must be unambiguous. The script parser attempts to use the</p>
<p>longest legal identifier name following the</p>
<p>$</p>
<p>character. In the following example,</p>
<p>the user has attempted to print the string</p>
<p>bar</p>
<p>after the expansion of the variable</p>
<p>foo</p>
<p>. The parser interprets this as printing the value of the variable</p>
<p>foobar</p>
<p>and</p>
<p>reports that the variable is not defined:</p>
<p>&gt;foo=&quot;foo&quot;</p>
<p>&gt;print $foobar</p>
<p>Error: variable undefined!</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>100</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example Scripts</b></p>
<p>You can use the following examples of the Green Hills debug server scripting</p>
<p>language as a guide when writing your own scripts.</p>
<p><b>Note</b></p>
<p>These example scripts will not work with Renesas V850/V850E ICE or</p>
<p>RTE or connections.</p>
<p><b>Example A.1. Testing Script File Access in ASCII Mode</b></p>
<p>For this example, assume that the file<b> test.ascii</b> contains the following text:</p>
<p>This is a test of script file access in ascii mode.</p>
<p>This should print 3 lines of which this is the second.</p>
<p>And this is the third.</p>
<p>The following script commands access the file<b> test.ascii</b>:</p>
<p>file = open test.ascii</p>
<p>filecontents=&quot;&quot;</p>
<p>totalchars=0</p>
<p>while(numlinechars=fread file line)</p>
<p>filecontents=filecontents+line</p>
<p>totalchars=totalchars+numlinechars</p>
<p>endwhile</p>
<p>close file</p>
<p>endl=&quot;\n&quot;</p>
<p>print Read: $filecontents$endl</p>
<p>print Total of $totalchars characters read.$endl</p>
<p>The output of this example script on a Linux/Solaris host is:</p>
<p>Read: This is a test of script file access in ascii mode.</p>
<p>This should print 3 lines of which this is the second.</p>
<p>And this is the third.</p>
<p>Total of 130 characters read.</p>
<p><b>Example A.2. Accessing a File</b></p>
<p>The following script is another example of accessing a file:</p>
<p><i>101</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Example Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<p>i=100</p>
<p>file = open temp.bin</p>
<p>while(i&gt;0)</p>
<p>fprintb file $i</p>
<p>i=i-1</p>
<p>endwhile</p>
<p>close file</p>
<p>file = open temp.bin</p>
<p>sum=0</p>
<p>while(freadb file i)</p>
<p>sum=sum+i</p>
<p>endwhile</p>
<p>close file</p>
<p>endl=&quot;\n&quot;</p>
<p>print The numbers between 1 and 100 sum to $sum!$endl</p>
<p>The output of this example script is:</p>
<p>The numbers between 1 and 100 sum to 5050!</p>
<p><b>Example A.3. Calculating a CRC32 Value</b></p>
<p>The following script calculates the CRC32 value of the memory range</p>
<p>0x010000</p>
<p>to</p>
<p>0x010100</p>
<p>and prints the result in the<b> Target</b> pane. This script demonstrates the</p>
<p>use of loops, conditional statements, expressions, variables, and other debug server</p>
<p>scripting constructs in a real application.</p>
<p># Change the following values to specify the memory</p>
<p># range you want to calculate a CRC32 for.</p>
<p># Note: locations from memstart to memend-1 are used</p>
<p># to compute the CRC32 value.</p>
<p>memstart=0x010000</p>
<p>memend=0x010100</p>
<p># This is the CRC32 polynomial. This is the same as</p>
<p># is used in ethernet packets.</p>
<p>p=2+4+16+32+128+256+1024+2048+4096+65536+4194304+8388608+67108864</p>
<p>r=0</p>
<p>ptr=memstart</p>
<p>while(ptr&lt;memend)</p>
<p>currbyte=m -d1 $$ptr</p>
<p>currbit=128</p>
<p>while(currbit)</p>
<p>test=r&amp;(1&lt;&lt;31)</p>
<p>r=r&lt;&lt;1</p>
<p>r=r|(currbyte&amp;currbit)</p>
<p>if(test)</p>
<p>r=r^p</p>
<p>endif</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>102</i></p>
<p><i>Appendix A. Green Hills Debug Server Command and Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>currbit=currbit&gt;&gt;1</p>
<p>endwhile</p>
<p>ptr=ptr+1</p>
<p>endwhile</p>
<p># This loop is for the 32 zeros appended to the</p>
<p># original memory contents</p>
<p>i=0</p>
<p>while(i&lt;32)</p>
<p>test=r&amp;(1&lt;&lt;31)</p>
<p>r=r&lt;&lt;1</p>
<p>if(test)</p>
<p>r=r^p</p>
<p>endif</p>
<p>i=i+1</p>
<p>endwhile</p>
<p># Now the resulting 32 bit CRC is in r</p>
<p># Many of the same ASCII control codes that are used</p>
<p># in C are supported in debug server scripts.</p>
<p>endl=&quot;\n&quot;</p>
<p>print CRC32 = $$r$endl</p>
<p><i>103</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Example Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix B</b></p>
<p><b>Target-Specific Trace</b></p>
<p><b>Options and Triggers</b></p>
<p><b>Contents</b></p>
<p>Renesas V850E IECUBE Target-Specific Options . . . . . . . . . . . . . . . . . . . . . .</p>
<p>106</p>
<p>Renesas V850E2RV3 IECUBE2 Target-Specific Options . . . . . . . . . . . . . . . .</p>
<p>108</p>
<p>Renesas RH850 Target-Specific Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>111</p>
<p>V850E/V850E2R RTE Target-Specific Options . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>113</p>
<p>V850 Target-Specific Trace Triggers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>116</p>
<h1 style="page-break-before:always; "></h1>
<p>This section describes the target-specific trace configuration options and triggers</p>
<p>available in the MULTI IDE. For information about generic trace options, see the</p>
<p><i>MULTI: Debugging</i> book.</p>
<p><b>Renesas V850E IECUBE Target-Specific Options</b></p>
<p>Each option in the<b> IECUBE Trace Options</b> window is described in the following</p>
<p>table.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>106</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables real-time trace mode. In this mode, some trace packets may</p>
<p>be lost, but the core executes at the same speed as it would if trace</p>
<p>was disabled. When you disable this option, no trace packets are</p>
<p>lost, but the core may stall occasionally.</p>
<p><b>Real-Time Trace</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace</p>
<p>collection device records a timestamp with each packet. Timestamps</p>
<p>are displayed in the Trace List and are used by the MULTI<b> Profile</b></p>
<p>window, PathAnalyzer, and EventAnalyzer. Timestamps are not</p>
<p>synchronized across cores on multi-core targets.</p>
<p><b>Timestamps</b></p>
<p>Enables the trigger GUI. For simple events, such as executing a</p>
<p>function, the GUI is sufficient. However, the IECUBE also supports</p>
<p>sophisticated event configuration that is not available via the trigger</p>
<p>GUI. If you need access to more advanced features, you can clear</p>
<p>this box and control all events by using debug server commands</p>
<p>such as<b> bra</b>,<b> brs</b>, and<b> trace</b>.</p>
<p><b>Use Trigger GUI</b></p>
<p>Enables branch program counter (PC) trace packets. This option is</p>
<p>sufficient for fully reconstructing the instruction sequence the target</p>
<p>executed. It is also sufficient for use with TimeMachine. For</p>
<p>information, see the documentation about TimeMachine in the</p>
<p><i>MULTI: Debugging</i> book.</p>
<p><b>Trace Branch PC</b></p>
<p>Enables instruction program counter (PC) trace packets, which results</p>
<p>in the target outputting a trace packet for each instruction. This can</p>
<p>yield more accurate timing information when timestamps are enabled.</p>
<p>It also increases the probability that the trace buffer overflows in</p>
<p>real-time trace mode.</p>
<p><b>Trace Instruction PC</b></p>
<p>Causes the target to output a program counter (PC) trace packet for</p>
<p>every instruction that performs a memory access. This option is</p>
<p>usually unnecessary.</p>
<p><b>Trace Data Access PC</b></p>
<p>Enables data/address trace packets for memory accesses.</p>
<p><b>Trace Data Address</b></p>
<p><b>and Data</b></p>
<p><b>Note</b></p>
<p>Not all combinations of trace packets are valid. The user interface prevents</p>
<p>you from selecting invalid combinations by dimming options that you</p>
<p>cannot change given the current combination of settings.</p>
<p><i>107</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Renesas V850E IECUBE Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Renesas V850E2RV3 IECUBE2 Target-Specific Options</b></p>
<p>Each option in the<b> IE Cube 2 Trace Options</b> window is described in the following</p>
<p>table.</p>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables real-time trace mode. In this mode, some trace packets may</p>
<p>be lost, but the core executes at the same speed as it would if trace</p>
<p>was disabled. When you disable this option, no trace packets are</p>
<p>lost, but the core may stall occasionally.</p>
<p><b>Real-Time Trace</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>108</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace</p>
<p>collection device records a timestamp with each packet. Timestamps</p>
<p>are displayed in the Trace List and are used by the MULTI<b> Profile</b></p>
<p>window, PathAnalyzer, and EventAnalyzer. Timestamps are not</p>
<p>synchronized across cores on multi-core targets.</p>
<p><b>Timestamps</b></p>
<p>Enables the trigger GUI. For simple events, such as executing a</p>
<p>function, the GUI is sufficient. However, the IECUBE2 also supports</p>
<p>sophisticated event configuration that is not available via the trigger</p>
<p>GUI. If you need access to more advanced features, you can clear</p>
<p>this box and control all events by using debug server commands</p>
<p>such as<b> bra</b>,<b> brs</b>, and<b> trace</b>.</p>
<p><b>Use Trigger GUI</b></p>
<p>Enables data read trace packets for memory accesses.</p>
<p><b>Trace Reads</b></p>
<p>Enables data write trace packets for memory accesses.</p>
<p><b>Trace Writes</b></p>
<p>Enables branch program counter (PC) trace packets. This option is</p>
<p>sufficient for fully reconstructing the instruction sequence the target</p>
<p>executed. It is also sufficient for use with TimeMachine. For</p>
<p>information about TimeMachine, see the documentation about</p>
<p>TimeMachine in the<i> MULTI: Debugging</i> book.</p>
<p><b>Trace PC</b></p>
<p>DMA read trace packets.</p>
<p><b>Trace DMA Reads</b></p>
<p>Enables DMA write trace packets.</p>
<p><b>Trace DMA Writes</b></p>
<p>Specifies the time resolution of trace packet timestamps. This field</p>
<p>defaults to 5000 picoseconds when timestamps are enabled.</p>
<p><b>Time resolution</b></p>
<p>Specifies the behavior when the trace buffer fills. You can choose</p>
<p>to overwrite old trace data with new data, stop trace collection, or</p>
<p>halt the process. If you stop trace collection or halt the process, note</p>
<p>that this option can only preserve trace data acquired since the last</p>
<p>time the target was halted (including for breakpoints and system</p>
<p>calls), rather than all of the data acquired since the last time data was</p>
<p>retrieved. When the Long Term Trace extension (QB-V850E2-SP</p>
<p>trace memory extension) is used with IECUBE2,<b> Stop Execution</b></p>
<p>is not supported.</p>
<p><b>Buffer Full</b></p>
<p>Specifies the behavior when a Delay Trace trigger is hit. It can be</p>
<p>configured to stop trace collection or stop execution.</p>
<p>This option is only available if a Delay Trace trigger has been set</p>
<p>up.</p>
<p><b>Trigger Hit</b></p>
<p><i>109</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Renesas V850E2RV3 IECUBE2 Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Specifies the desired position of the Delay Trace trigger in the trace</p>
<p>buffer, after trace has stopped.<b> Last</b> means trace will stop very soon</p>
<p>after hitting the trigger (so the trigger will end up being near to the</p>
<p>last thing in the trace buffer).<b> First</b> means trace will continue to be</p>
<p>collected until the trigger is near the beginning of the buffer.<b> Middle</b></p>
<p>means trace continues to be collected until half of the buffer has</p>
<p>been filled.</p>
<p>This option is only available if a Delay Trace trigger has been set</p>
<p>up.</p>
<p><b>Trigger Position</b></p>
<p><b>Note</b></p>
<p>Not all combinations of trace packets are valid. The user interface prevents</p>
<p>you from selecting invalid combinations by dimming options that you</p>
<p>cannot change given the current combination of settings.</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>110</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Renesas RH850 Target-Specific Options</b></p>
<p>Each option in the<b> RH850 Trace Options</b> window is described in the following</p>
<p>table.</p>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables real-time trace mode. In this mode, some trace packets may</p>
<p>be lost, but the core executes at the same speed as it would if trace</p>
<p>was disabled. When you disable this option, no trace packets are</p>
<p>lost, but the core may stall occasionally.</p>
<p><b>Real-Time Trace</b></p>
<p><i>111</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Renesas RH850 Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace</p>
<p>collection device records a timestamp with each packet. Timestamps</p>
<p>are displayed in the Trace List and are used by the MULTI<b> Profile</b></p>
<p>window, PathAnalyzer, and EventAnalyzer. Timestamps are not</p>
<p>synchronized across cores on multi-core targets.</p>
<p><b>Timestamps</b></p>
<p>Enables the trigger GUI. For simple events, such as executing a</p>
<p>function, the GUI is sufficient. However, the IECUBE2 also supports</p>
<p>sophisticated event configuration that is not available via the trigger</p>
<p>GUI. If you need access to more advanced features, you can clear</p>
<p>this box and control all events by using debug server commands</p>
<p>such as<b> bra</b>,<b> brs</b>, and<b> trace</b>.</p>
<p><b>Use Trigger GUI</b></p>
<p>Enables data read trace packets for memory accesses.</p>
<p><b>Trace Reads</b></p>
<p>Enables data write trace packets for memory accesses.</p>
<p><b>Trace Writes</b></p>
<p>Enables branch program counter (PC) trace packets. This option is</p>
<p>sufficient for fully reconstructing the instruction sequence the target</p>
<p>executed. It is also sufficient for use with TimeMachine. For</p>
<p>information about TimeMachine, see the documentation about</p>
<p>TimeMachine in the<i> MULTI: Debugging</i> book.</p>
<p><b>Trace PC</b></p>
<p>Causes the target to output a trace packet for each software trace</p>
<p>instruction (</p>
<p>DBCP</p>
<p>,</p>
<p>DBTAG</p>
<p>,</p>
<p>DBPUSH</p>
<p>).</p>
<p><b>Trace Software</b></p>
<p>Causes the target to output a program counter (PC) trace packet for</p>
<p>every instruction that performs a memory access. This option is</p>
<p>usually unnecessary.</p>
<p><b>Trace Data Access PC</b></p>
<p>Enables DMA read trace packets.</p>
<p><b>Trace DMA Reads</b></p>
<p>Enables DMA write trace packets.</p>
<p><b>Trace DMA Writes</b></p>
<p>Specifies the time resolution of trace packet timestamps. This field</p>
<p>defaults to 5000 picoseconds when timestamps are enabled.</p>
<p><b>Time resolution</b></p>
<p>Specifies the behavior when the trace buffer fills. You can choose</p>
<p>to overwrite old trace data with new data, stop trace collection, or</p>
<p>halt the process. If you stop trace collection or halt the process, note</p>
<p>that this option can only preserve trace data acquired since the last</p>
<p>time the target was halted, rather than all of the data acquired since</p>
<p>the last time data was retrieved.</p>
<p><b>Buffer Full</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>112</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Specifies the desired position of the Delay Trace trigger in the trace</p>
<p>buffer, after trace has stopped.<b> Last</b> means trace will stop very soon</p>
<p>after hitting the trigger (so the trigger will end up being near to the</p>
<p>last thing in the trace buffer).<b> First</b> means trace will continue to be</p>
<p>collected until the trigger is near the beginning of the buffer.<b> Middle</b></p>
<p>means trace continues to be collected until half of the buffer has</p>
<p>been filled.</p>
<p>This option is only available if a Delay Trace trigger has been set</p>
<p>up.</p>
<p><b>Trigger Position</b></p>
<p><b>Note</b></p>
<p>Not all combinations of trace packets are valid. The user interface prevents</p>
<p>you from selecting invalid combinations by dimming options that you</p>
<p>cannot change given the current combination of settings.</p>
<p><b>V850E/V850E2R RTE Target-Specific Options</b></p>
<p>Each option in the<b> RTE Trace Options</b> and<b> RTE Trace Options (V850E2R)</b></p>
<p>windows is described in the table below.</p>
<p><i>113</i></p>
<p><i>Green Hills Software</i></p>
<p><i>V850E/V850E2R RTE Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Lists boards for which MULTI knows the trace stream format.</p>
<p>Choose your board from the drop-down menu, and the relevant trace</p>
<p>stream format options are selected for you in the<b> RTE Trace Options</b></p>
<p>window. If your board is not listed, select<b> Custom</b>.</p>
<p>This option is only available in the<b> RTE Trace Options</b> window.</p>
<p><b>Board</b></p>
<p>Controls the speed at which the target runs the trace clock. Options</p>
<p>are listed as fractions of the CPU clock speed.</p>
<p><b>Clock multiplier</b></p>
<p>Controls whether the target outputs trace data on a single clock edge</p>
<p>(<b>SDR</b>) or on both clock edges (<b>DDR</b>).</p>
<p><b>Data rate</b></p>
<p>Specifies the number of trace data pins that the target uses to output</p>
<p>trace data.</p>
<p><b>Number of data pins</b></p>
<p>Specifies the target's trace packet format version.</p>
<p>This option is only available in the<b> RTE Trace Options</b> window.</p>
<p><b>Packet version</b></p>
<p>Controls what kind of trace packets the target outputs when the</p>
<p>sub-switch is on:</p>
<p>•</p>
<p><b>PC</b> — Enables basic program counter (PC) trace packets for</p>
<p>branches and jumps.</p>
<p>•</p>
<p><b>Data Read</b> — Enables data/address trace packets for memory</p>
<p>reads.</p>
<p>•</p>
<p><b>Data Write</b> — Enables data/address trace packets for memory</p>
<p>writes.</p>
<p><b>Sub-switch on</b></p>
<p>Controls what kind of trace packets the target outputs when the</p>
<p>sub-switch is off:</p>
<p>•</p>
<p><b>PC</b> — Enables basic program counter (PC) trace packets for</p>
<p>branches and jumps.</p>
<p>•</p>
<p><b>Data Read</b> — Enables data/address trace packets for memory</p>
<p>reads.</p>
<p>•</p>
<p><b>Data Write</b> — Enables data/address trace packets for memory</p>
<p>writes.</p>
<p><b>Sub-switch off</b></p>
<p>Enables DMA read trace packets.</p>
<p>This option is only available in the<b> RTE Trace Options (V850E2R)</b></p>
<p>window.</p>
<p><b>DMA read</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>114</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Option</b></p>
<p>Enables DMA write trace packets.</p>
<p>This option is only available in the<b> RTE Trace Options (V850E2R)</b></p>
<p>window.</p>
<p><b>DMA write</b></p>
<p>Enables real-time trace mode. In this mode, some trace packets may</p>
<p>be lost, but the core executes at the same speed as it would if trace</p>
<p>was disabled. When you disable this option, no trace packets are</p>
<p>lost, but the core may stall occasionally.</p>
<p><b>Use real-time trace</b></p>
<p><b>mode</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace</p>
<p>collection device records a timestamp with each packet. Timestamps</p>
<p>are displayed in the Trace List and are used by the MULTI<b> Profile</b></p>
<p>window, PathAnalyzer, and EventAnalyzer. Timestamps are not</p>
<p>synchronized across cores on multi-core targets.</p>
<p><b>Use timestamps</b></p>
<p>Enables the trigger GUI. For simple events, such as executing a</p>
<p>function, the GUI is sufficient. However, the Midas ICE also supports</p>
<p>some sophisticated event configuration that does not map well onto</p>
<p>an abstract GUI. If you need access to more advanced features, you</p>
<p>can clear this box and control all events by using debug server</p>
<p>commands such as<b> eve</b> and<b> evt</b>.</p>
<p><b>Use trigger GUI</b></p>
<p>Specifies the time resolution of trace packet timestamps.</p>
<p>This option is only available in the<b> RTE Trace Options (V850E2R)</b></p>
<p>window.</p>
<p><b>Time resolution (ns)</b></p>
<p>The amount of data that the SuperTrace Probe can handle at one time is limited.</p>
<p>Due to fast trace clock speeds, some V850E targets may exceed this data limit. The</p>
<p>following two tables list the maximum trace clock speed supported for each</p>
<p>combination of settings.</p>
<p><i>115</i></p>
<p><i>Green Hills Software</i></p>
<p><i>V850E/V850E2R RTE Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p>If<b> Use timestamps</b> is cleared (off):</p>
<p><b>DDR Max Clock Speed</b></p>
<p><b>SDR Max Clock Speed</b></p>
<p><b># Data Pins</b></p>
<p>300 MHz</p>
<p>300 MHz</p>
<p>4</p>
<p>300 MHz</p>
<p>300 MHz</p>
<p>8</p>
<p>187 MHz</p>
<p>300 MHz</p>
<p>16</p>
<p>125 MHz</p>
<p>249 MHz</p>
<p>24</p>
<p>If<b> Use timestamps</b> is selected (on):</p>
<p><b>DDR Max Clock Speed</b></p>
<p><b>SDR Max Clock Speed</b></p>
<p><b># Data Pins</b></p>
<p>266 MHz</p>
<p>266 MHz</p>
<p>4</p>
<p>187 MHz</p>
<p>249 MHz</p>
<p>8</p>
<p>125 MHz</p>
<p>187 MHz</p>
<p>16</p>
<p>125 MHz</p>
<p>249 MHz</p>
<p>24</p>
<p><b>V850 Target-Specific Trace Triggers</b></p>
<p>The following table lists V850-specific trace triggers:</p>
<p><b>Target Support</b></p>
<p><b>Description</b></p>
<p><b>Event</b></p>
<p>V850E RTE</p>
<p>Starts trace collection at the hardware level.</p>
<p>When the conditions you set for this event</p>
<p>are true, the target turns the section</p>
<p>sub-switch on. By default, the target emits</p>
<p>trace packets when the sub-switch is on.</p>
<p><b>Section</b></p>
<p><b>Sub-Switch</b></p>
<p><b>On</b></p>
<p>V850E RTE</p>
<p>Stops trace collection at the hardware level.</p>
<p>When the conditions you set for this event</p>
<p>are true, the target turns the section</p>
<p>sub-switch off. By default, the target does</p>
<p>not emit trace packets when the sub-switch</p>
<p>is off.</p>
<p><b>Section</b></p>
<p><b>Sub-Switch</b></p>
<p><b>Off</b></p>
<p>V850E RTE</p>
<p>Filters out unwanted trace data at the</p>
<p>hardware level. Trace data is only emitted</p>
<p>if this event is active and if trace has been</p>
<p>enabled by the<b> Section Sub-Switch On</b></p>
<p>event.</p>
<p><b>Qualify Sub</b></p>
<p><b>Switch</b></p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>116</i></p>
<p><i>Appendix B. Target-Specific Trace Options and Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Target Support</b></p>
<p><b>Description</b></p>
<p><b>Event</b></p>
<p>V850E IECUBE, V850E2RV3</p>
<p>IECUBE2</p>
<p>Starts trace collection at the hardware level.</p>
<p>When the conditions you set for this event</p>
<p>are true, the core starts emitting trace</p>
<p>packets.</p>
<p><b>Start Trace</b></p>
<p>V850E IECUBE, V850E2RV3</p>
<p>IECUBE2</p>
<p>Stops trace collection at the hardware level.</p>
<p>When the conditions you set for this event</p>
<p>are true, the core stops emitting trace</p>
<p>packets.</p>
<p><b>Stop Trace</b></p>
<p>V850E IECUBE, V850E2RV3</p>
<p>IECUBE2</p>
<p>Filters out unwanted trace data at the</p>
<p>hardware level. Trace data is only emitted</p>
<p>if this event is active and if trace has been</p>
<p>enabled by the<b> Start Trace</b> event.</p>
<p><b>Qualify Trace</b></p>
<p>V850E2RV3 IECUBE2</p>
<p>Stops trace collection (and optionally stops</p>
<p>execution) after the trigger is hit. The</p>
<p>behavior of this trigger can be configured</p>
<p>with the<b> When Delay Trigger is Hit</b> and</p>
<p><b>Delay Trigger Position</b> options.</p>
<p><b>Delay Trace</b></p>
<p><i>117</i></p>
<p><i>Green Hills Software</i></p>
<p><i>V850 Target-Specific Trace Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Index</b></p>
<p><b>Symbols</b></p>
<p>-2m option</p>
<p>for 850eserv2, 30</p>
<p>850eserv2 debug server</p>
<p>additional setup and configuration</p>
<p>Windows, 20</p>
<p>commands (see commands, 850eserv2)</p>
<p>connecting with, 23</p>
<p>connection command syntax, 29</p>
<p>Connection Editor, 24</p>
<p>Custom Connection Method, 29</p>
<p>examples, 33</p>
<p>error messages, 35</p>
<p>installing, 20</p>
<p>options (see options, 850eserv2)</p>
<p>Standard Connection Method, 24</p>
<p>starting, 23</p>
<p>target system requirements, 20</p>
<p>troubleshooting, 34, 35</p>
<p>Windows definition files, 21</p>
<p>850win command</p>
<p>for 850eserv2, 38</p>
<p><b>A</b></p>
<p>A command</p>
<p>for 850eserv2, 36, 39</p>
<p>example, 61</p>
<p>addressof command</p>
<p>for legacy debug scripts, 90</p>
<p>alloc command</p>
<p>for simrh850, 84</p>
<p>amask command</p>
<p>for legacy debug scripts, 90</p>
<p>arrays</p>
<p>for legacy debug scripts, 98</p>
<p>assembling code, 39</p>
<p>assignments</p>
<p>in legacy debug scripts, 98</p>
<p><b>B</b></p>
<p>B command</p>
<p>for 850eserv2, 37, 40</p>
<p>-baud option</p>
<p>for monserv, 13</p>
<p>baud rate, specifying</p>
<p>for Green Hills Monitor, 11, 13</p>
<p>bpstat command</p>
<p>for dbgcomm, 73</p>
<p>for rteserv2, 73</p>
<p>BRA command</p>
<p>for 850eserv2, 37, 41</p>
<p>example, 62</p>
<p>breaks</p>
<p>setting, 40</p>
<p>BRS command</p>
<p>for 850eserv2, 37, 42</p>
<p>-bsp option</p>
<p>for 850eserv2, 30</p>
<p>-bss option</p>
<p>for monserv, 14</p>
<p>.bss sections</p>
<p>legacy debug scripts, 93, 94</p>
<p>bus event detectors</p>
<p>setting, 41</p>
<p><b>C</b></p>
<p>-cdnw option</p>
<p>for 850eserv2, 30</p>
<p>checked address range</p>
<p>for legacy debug scripts, 91, 94</p>
<p>CLOCK command</p>
<p>for 850eserv2, 38, 43</p>
<p>close command</p>
<p>for legacy debug scripts, 91</p>
<p>code assembly, 39</p>
<p>COMBO breaks</p>
<p>displaying status, 43</p>
<p>COMBO command</p>
<p>for 850eserv2, 38, 43</p>
<p>commands</p>
<p>850eserv2, 36, 39</p>
<p>850win, 38</p>
<p>A, 36, 39</p>
<p>B, 37, 40</p>
<p>BRA, 37, 41</p>
<p>BRS, 37, 42</p>
<p>CLOCK, 38, 43</p>
<p>COMBO, 38, 43</p>
<p>CPU, 38, 44</p>
<h1 style="page-break-before:always; "></h1>
<p>data and register commands, 36</p>
<p>emulator configuration, 38</p>
<p>event, trigger, and trace setting, 37</p>
<p>execution commands, 37</p>
<p>HELP, 38, 44</p>
<p>IEPORT0, 38, 44</p>
<p>IEPORT1, 38, 44</p>
<p>LINK, 45</p>
<p>LOG, 38, 46</p>
<p>M, 36, 47</p>
<p>MAP, 38, 48</p>
<p>MODE, 38, 49</p>
<p>NOHALT, 38, 49</p>
<p>NOLOAD, 38, 49</p>
<p>other, 38</p>
<p>PIN, 38, 50</p>
<p>PINMASK, 38, 50</p>
<p>POWER, 38, 50</p>
<p>PROFILE, 38, 51</p>
<p>REG, 36, 51</p>
<p>RMEM, 39, 52</p>
<p>RRAMBASE, 39, 52</p>
<p>RST, 37, 52</p>
<p>SA, 37, 53</p>
<p>SFR, 36, 53</p>
<p>SHOWALL, 37, 53</p>
<p>T, 37, 54</p>
<p>TD, 37, 55</p>
<p>TDISPLAY, 37, 55</p>
<p>TF, 37, 56</p>
<p>TFILTER, 37, 56</p>
<p>TIMEBASE, 39, 57</p>
<p>TIMER, 39, 57</p>
<p>TMODE, 37, 58</p>
<p>trace display, 37</p>
<p>TRACE, 37, 54</p>
<p>TRUN, 37, 58</p>
<p>TS, 37, 58</p>
<p>TSEARCH, 38, 59</p>
<p>TSTOP, 37, 58</p>
<p>U, 36, 60</p>
<p>VERIFY, 39, 60</p>
<p>for the Multi-core Simulator for V850 and RH850</p>
<p>(simrh850), 84</p>
<p>legacy debug scripts, 90</p>
<p>addressof, 90</p>
<p>amask, 90</p>
<p>close, 91</p>
<p>debug, 91</p>
<p>delrange, 91</p>
<p>delrangeall, 91</p>
<p>fprint, 91</p>
<p>fprintb, 91</p>
<p>fread, 91</p>
<p>freadb, 91</p>
<p>getenv, 91</p>
<p>halt, 91</p>
<p>help, 92</p>
<p>listrange, 92</p>
<p>listvars, 92</p>
<p>load, 93</p>
<p>m, 93</p>
<p>nofail, 93</p>
<p>noload, 94</p>
<p>open, 94</p>
<p>print, 94</p>
<p>random, 94</p>
<p>run, 94</p>
<p>script, 94</p>
<p>setrange, 94</p>
<p>setup, 95, 96</p>
<p>sleep, 95</p>
<p>status, 95</p>
<p>step, 95</p>
<p>stepint, 95</p>
<p>undef, 95</p>
<p>MULTI Debugger</p>
<p>target, 36, 39, 73, 84</p>
<p>rteserv2, 73, 74, 75</p>
<p>bpstat, 73</p>
<p>dbgcomm, 73</p>
<p>debug, 73</p>
<p>env, 75</p>
<p>help, 74, 75</p>
<p>inb, 74</p>
<p>info, 73</p>
<p>inh, 74</p>
<p>init, 74, 75</p>
<p>inw, 74</p>
<p>map, 75</p>
<p>nc, 75</p>
<p>ncd, 75</p>
<p>nolaod, 73</p>
<p>outb, 74</p>
<p>outh, 74</p>
<p>outw, 74</p>
<p>reset, 75</p>
<p>rrm, 75</p>
<p>rrmb, 75</p>
<p>sfr, 75, 76</p>
<p>timer, 76</p>
<p>ver, 76</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>120</i></p>
<p><i>commands (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>simrh850</p>
<p>alloc, 84</p>
<p>freq, 84</p>
<p>help, 84</p>
<p>memmap, 84</p>
<p>snooze, 84</p>
<p>stepcount, 84</p>
<p>threads, 85</p>
<p>conditionals</p>
<p>for legacy debug scripts, 99</p>
<p>connecting MULTI to your target, viii</p>
<p>(see also Connection Editor)</p>
<p>(see also Connection Methods)</p>
<p>list of supported V850 and RH850 targets, viii</p>
<p>overview, viii</p>
<p>using a Green Hills Monitor, 8</p>
<p>Connection Editor</p>
<p>Green Hills Monitor (monserv), 9, 10, 11, 12</p>
<p>Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>connection settings, 81</p>
<p>debug settings, 81</p>
<p>Renesas V850/V850E ICE (850eserv2), 24</p>
<p>RTE (rteserv2), 71</p>
<p>debug settings, 71</p>
<p>sections and fields of, 2</p>
<p>simrh850 Simulator, 79</p>
<p>Connection Methods</p>
<p>Custom</p>
<p>Green Hills Monitor (monserv), 13, 14, 17</p>
<p>Renesas V850/V850E ICE (850eserv2), 29</p>
<p>simrh850 Simulator, 82</p>
<p>editing, 2</p>
<p>Standard, 2</p>
<p>Green Hills Monitor (monserv), 9, 10, 11, 12</p>
<p>Renesas V850/V850E ICE (850eserv2), 24</p>
<p>RTE (rteserv2), 70</p>
<p>V850 and RH850 Multi-core Simulator (simrh850),</p>
<p>78</p>
<p>conventions</p>
<p>typographical, x</p>
<p>CPU</p>
<p>resetting, 52</p>
<p>CPU command</p>
<p>for 850eserv2, 38, 44</p>
<p><b>D</b></p>
<p>-D option</p>
<p>for 850eserv2, 31</p>
<p>data and register commands</p>
<p>850eserv2, 36</p>
<p>.data sections</p>
<p>legacy debug scripts, 93, 94</p>
<p>-dbreak option</p>
<p>for monserv, 14</p>
<p>.dbs setup scripts (see board setup scripts)</p>
<p>-dck20 option</p>
<p>for 850eserv2, 31</p>
<p>debug command</p>
<p>for legacy debug scripts, 91</p>
<p>for rteserv2, 73</p>
<p>-debug option</p>
<p>for monserv, 14, 15</p>
<p>debug server commands (see commands)</p>
<p>hpserv, 84</p>
<p>debug servers</p>
<p>logging connections, 3</p>
<p>monserv, 8</p>
<p>options (see options)</p>
<p>role of, viii</p>
<p>rteserv2, 68</p>
<p>debugging interfaces</p>
<p>list of supported, viii</p>
<p>debugging level, specifying</p>
<p>for Green Hills Monitor, 14, 15</p>
<p>definition files</p>
<p>for Renesas V850/850E ICE connections, 21</p>
<p>delrange command</p>
<p>for legacy debug scripts, 91</p>
<p>delrangeall command</p>
<p>for legacy debug scripts, 91</p>
<p>-df=device_file option</p>
<p>for 850eserv2, 31</p>
<p>disassembling object code, 60</p>
<p>displaying, 44</p>
<p>displaying register values</p>
<p>changing, 51</p>
<p>displaying, 51</p>
<p>displaying settings, 53</p>
<p>document set, viii, ix</p>
<p>download suppression, 49</p>
<p><b>E</b></p>
<p>-e1jtag option</p>
<p>for 850eserv2, 31</p>
<p>-e1lpd option</p>
<p>for 850eserv2, 31</p>
<p>-e1serial option</p>
<p>for 850eserv2, 31</p>
<p>-e20jtag option</p>
<p>for 850eserv2, 31</p>
<p><i>121</i></p>
<p><i>Green Hills Software</i></p>
<p><i>commands (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>-e20lpd option</p>
<p>for 850eserv2, 31</p>
<p>-e20serial option</p>
<p>for 850eserv2, 31</p>
<p>echo command</p>
<p>for legacy debug scripts, 91</p>
<p>emulator configuration commands, 38</p>
<p>emulator memory configuration, 48</p>
<p>env command</p>
<p>for rteserv2, 75</p>
<p>-env=env_vars option</p>
<p>for 850eserv2, 31</p>
<p>error messages</p>
<p>850eserv2 connections, 35</p>
<p>Renesas V850/V850E ICE connections, 35</p>
<p>eval command, 73</p>
<p>events</p>
<p>setting with 850eserv2, 37</p>
<p>examples</p>
<p>Custom Connection Methods</p>
<p>Renesas V850/V850E ICE (850eserv2), 33</p>
<p>legacy debug scripts, 101</p>
<p>execution commands, 37</p>
<p>execution event detectors</p>
<p>setting, 42</p>
<p>execution time, 76</p>
<p>expressions</p>
<p>legacy debug scripts, 97</p>
<p><b>F</b></p>
<p>fprint command</p>
<p>for legacy debug scripts, 91</p>
<p>fprintb command</p>
<p>for legacy debug scripts, 91</p>
<p>fread command</p>
<p>for legacy debug scripts, 91</p>
<p>freadb command</p>
<p>for legacy debug scripts, 91</p>
<p>freq command</p>
<p>for simrh850, 84</p>
<p><b>G</b></p>
<p>getenv command</p>
<p>for legacy debug scripts, 91</p>
<p>Green Hills Monitor, 8</p>
<p>(see also monserv debug server)</p>
<p>baud rate, specifying, 11, 13</p>
<p>connecting MULTI to, 8</p>
<p>Connection Editor, 9, 10, 11, 12</p>
<p>Connection Methods</p>
<p>creating, 9</p>
<p>Custom, 13, 14, 17</p>
<p>editing, 9, 10, 11, 12</p>
<p>debugging level, specifying, 14, 15</p>
<p>halt signal, specifying, 12, 14, 15</p>
<p>logging host-target communications, 13</p>
<p>options (see options, monserv)</p>
<p>overview, 8</p>
<p>program sections, which to download, 12, 14, 15</p>
<p>serial port, specifying, 11, 13</p>
<p><b>H</b></p>
<p>halt command</p>
<p>for legacy debug scripts, 91</p>
<p>halt signal, specifying</p>
<p>for Green Hills Monitor, 12, 14, 15</p>
<p>hardware breakpoints, 34</p>
<p>HELP command</p>
<p>for 850eserv2, 38, 44</p>
<p>help command</p>
<p>for legacy debug scripts, 92</p>
<p>for rteserv2, 74, 75</p>
<p>for simrh850, 84</p>
<p><b>I</b></p>
<p>-I option</p>
<p>for 850eserv2, 31</p>
<p>-id key option</p>
<p>for 850eserv2, 31</p>
<p>-iecube option</p>
<p>for 850eserv2, 32</p>
<p>IEPORT0 command</p>
<p>for 850eserv2, 38, 44</p>
<p>IEPORT1 command</p>
<p>for 850eserv2, 38, 44</p>
<p>inb command</p>
<p>for rteserv2, 74</p>
<p>info command</p>
<p>for rteserv2, 73</p>
<p>inh command</p>
<p>for rteserv2, 74</p>
<p>init command</p>
<p>for rteserv2, 74, 75</p>
<p>initializing the target, 74, 75</p>
<p>installation</p>
<p>Renesas V850/V850E ICE, 20</p>
<p>RTE, 68</p>
<p>V850 and RH850 (simrh850) Multi-core Simulator, 78</p>
<p>INTEGRITY Real-Time Operating System (RTOS), ix</p>
<p>interrupts, enabling and disabling, 95</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>122</i></p>
<p><i>-e20lpd option</i></p>
<h1 style="page-break-before:always; "></h1>
<p>inw command</p>
<p>for rteserv2, 74</p>
<p><b>L</b></p>
<p>legacy debug scripts</p>
<p>arrays, 98</p>
<p>assignments, 98</p>
<p>.bss sections, 93, 94</p>
<p>conditionals, 99</p>
<p>.data sections, 93, 94</p>
<p>examples, 101</p>
<p>expressions, 97</p>
<p>loops, 99</p>
<p>running, 96</p>
<p>.text sections, 93, 94</p>
<p>variables</p>
<p>declaring, 97</p>
<p>expansion, 100</p>
<p>type, 97</p>
<p>writing, 96</p>
<p>LINK command</p>
<p>for 850eserv2, 45</p>
<p>example, 62</p>
<p>linking events with a sequencer, 45</p>
<p>Linux targets, ix</p>
<p>listrange command</p>
<p>for legacy debug scripts, 92</p>
<p>listvars command</p>
<p>for legacy debug scripts, 92</p>
<p>load command</p>
<p>for legacy debug scripts, 93</p>
<p>-loadall option</p>
<p>for monserv, 14</p>
<p>LOG command</p>
<p>for 850eserv2, 38, 46</p>
<p>logging, 73</p>
<p>debug server connections, 3</p>
<p>logging host-target communications</p>
<p>for Green Hills Monitor, 13</p>
<p>loops</p>
<p>for legacy debug scripts, 99</p>
<p><b>M</b></p>
<p>M command</p>
<p>for 850eserv2, 36, 47</p>
<p>m command</p>
<p>for legacy debug scripts, 93, 100</p>
<p>MAP command</p>
<p>for 850eserv2, 38, 48</p>
<p>map command</p>
<p>for rteserv2, 75</p>
<p>masked processor pins, 50</p>
<p>.mbs setup scripts (see board setup scripts)</p>
<p>memmap command</p>
<p>for simrh850, 84</p>
<p>memory</p>
<p>changing, 47</p>
<p>displaying, 47</p>
<p>memory mapping, 75</p>
<p>-minicube option, 32</p>
<p>-minicube2 option</p>
<p>for 850eserv2, 32</p>
<p>MODE command</p>
<p>for 850eserv2, 38, 49</p>
<p>monitors, 8</p>
<p>(see also Green Hills Monitor)</p>
<p>monserv debug server, 8</p>
<p>(see also Green Hills Monitor)</p>
<p>role of, 8</p>
<p>MULTI</p>
<p>document set, ix</p>
<p>exiting without reset, 49</p>
<p>Multi-core Simulator for V850 and RH850 (simrh850)</p>
<p>commands, 84</p>
<p>simulation modes, 85</p>
<p><b>N</b></p>
<p>nc command</p>
<p>for rteserv2, 75</p>
<p>ncd command</p>
<p>for rteserv2, 75</p>
<p>-nobss option</p>
<p>for monserv, 14</p>
<p>-nodata option</p>
<p>for monserv, 14</p>
<p>nofail command</p>
<p>for legacy debug scripts, 93</p>
<p>NOHALT command</p>
<p>for 850eserv2, 38, 49</p>
<p>-noiop option</p>
<p>for 850eserv2, 32</p>
<p>NOLOAD command</p>
<p>for 850eserv2, 38, 49</p>
<p>noload command</p>
<p>for legacy debug scripts, 94</p>
<p>for rteserv2, 73</p>
<p>-noload option</p>
<p>for monserv, 15</p>
<p>-notext option</p>
<p>for monserv, 15</p>
<p><i>123</i></p>
<p><i>Green Hills Software</i></p>
<p><i>inw command</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>O</b></p>
<p>open command</p>
<p>for legacy debug scripts, 94</p>
<p>options</p>
<p>850eserv2, 30</p>
<p>-2m, 30</p>
<p>-bsp, 30</p>
<p>-cdnw, 30</p>
<p>-D, 31</p>
<p>-dck20, 31</p>
<p>-df=device_file, 31</p>
<p>-e1jtag, 31</p>
<p>-e1lpd, 31</p>
<p>-e1serial, 31</p>
<p>-e20jtag, 31</p>
<p>-e20lpd, 31</p>
<p>-e20serial, 31</p>
<p>-env=env_vars, 31</p>
<p>-I, 31</p>
<p>-id key, 31</p>
<p>-iecube, 32</p>
<p>-minicube2, 32</p>
<p>-noiop, 32</p>
<p>-p port, 32</p>
<p>-server, 32</p>
<p>-stp ip_address, 32</p>
<p>-t3v, 32</p>
<p>-t5v, 32</p>
<p>-usb, 33</p>
<p>-X0, 33</p>
<p>monserv</p>
<p>-baud, 13</p>
<p>-bss, 14</p>
<p>-dbreak, 14</p>
<p>-debug, 14, 15</p>
<p>-loadall, 14</p>
<p>-nobss, 14</p>
<p>-nodata, 14</p>
<p>-noload, 15</p>
<p>-notext, 15</p>
<p>-sp, 13</p>
<p>-zbreak, 15</p>
<p>OS targets, ix</p>
<p>OSE targets, ix</p>
<p>outb command</p>
<p>for rteserv2, 74</p>
<p>outh command</p>
<p>for rteserv2, 74</p>
<p>outw command</p>
<p>for rteserv2, 74</p>
<p><b>P</b></p>
<p>-p port option</p>
<p>for 850eserv2, 32</p>
<p>PIN command</p>
<p>for 850eserv2, 38, 50</p>
<p>PINMASK command</p>
<p>for 850eserv2, 38, 50</p>
<p>POWER command</p>
<p>for 850eserv2, 38, 50</p>
<p>print command</p>
<p>for legacy debug scripts, 94</p>
<p>PROFILE command</p>
<p>for 850eserv2, 38, 51</p>
<p>profiling</p>
<p>simulator frequency, 85</p>
<p>profiling support, 51</p>
<p>program sections</p>
<p>download, specifying which to</p>
<p>for Green Hills Monitor, 12, 14, 15</p>
<p><b>R</b></p>
<p>RAM, 44</p>
<p>random command</p>
<p>for legacy debug scripts, 94</p>
<p>REG command</p>
<p>for 850eserv2, 36, 51</p>
<p>example, 62</p>
<p>Renesas RH850 trace options, 111</p>
<p>Renesas V850/850E ICE</p>
<p>target system requirements, 20</p>
<p>Renesas V850/V850E ICE</p>
<p>additional setup and configuration</p>
<p>Windows, 20</p>
<p>commands, 39</p>
<p>data and register, 36</p>
<p>emulator configuration, 38</p>
<p>event, trigger, and trace setting, 37</p>
<p>execution, 37</p>
<p>other, 38</p>
<p>trace display, 37</p>
<p>connecting to, 23</p>
<p>Connection Editor, 24</p>
<p>Custom Connection Method, 29</p>
<p>examples, 33</p>
<p>error messages, 35</p>
<p>installing, 20</p>
<p>options (see options, 850eserv2)</p>
<p>Standard Connection Method, 24</p>
<p>troubleshooting, 34, 35</p>
<p>Renesas V850E IECUBE trace options, 106</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>124</i></p>
<p><i>open command</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Renesas V850E2RV3 IECUBE2 trace options, 108</p>
<p>reset command</p>
<p>for rteserv2, 75</p>
<p>resetting the CPU, 52</p>
<p>RMEM command</p>
<p>for 850eserv2, 39, 52</p>
<p>ROM, 44</p>
<p>-rom option, 87</p>
<p>-rom_use_entry option, 87</p>
<p>RRAMBASE command</p>
<p>for 850eserv2, 39, 52</p>
<p>rrm command</p>
<p>for rteserv2, 75</p>
<p>rrmb command</p>
<p>for rteserv2, 75</p>
<p>RST command</p>
<p>for 850eserv2, 37, 52</p>
<p>RTE</p>
<p>checking, 68</p>
<p>commands, 74, 75</p>
<p>commands for specific RTEs, 74</p>
<p>connecting to, 70</p>
<p>Connection Editor, 71</p>
<p>debug settings, 71</p>
<p>installing, 68</p>
<p>setting up, 68</p>
<p>Standard Connection Method, 70</p>
<p>troubleshooting, 69</p>
<p>RTE (Real-Time Evaluator), 68</p>
<p>RTE-V851-IE, 76</p>
<p>rteserv2 debug server, 68</p>
<p>commands (see commands, rteserv2)</p>
<p>connecting with, 70</p>
<p>Connection Editor, 71</p>
<p>debug settings, 71</p>
<p>installing, 68</p>
<p>Standard Connection Method, 70</p>
<p>starting, 70</p>
<p>run command</p>
<p>for legacy debug scripts, 94</p>
<p>running legacy debug scripts, 96</p>
<p><b>S</b></p>
<p>SA command</p>
<p>for 850eserv2, 37, 53</p>
<p>script command</p>
<p>for legacy debug scripts, 94, 96</p>
<p>scripting language</p>
<p>monserv, 96, 97</p>
<p>scripts, 4</p>
<p>(see also board setup scripts)</p>
<p>serial port, specifying</p>
<p>for Green Hills Monitor, 11, 13</p>
<p>-server option</p>
<p>for 850eserv2, 32</p>
<p>setrange command</p>
<p>for legacy debug scripts, 94</p>
<p>setup command</p>
<p>for legacy debug scripts, 95, 96</p>
<p>-setup option</p>
<p>for all debug servers, 96</p>
<p>SFR command</p>
<p>for 850eserv2, 36, 53</p>
<p>example, 63</p>
<p>sfr command</p>
<p>for rteserv2, 75, 76</p>
<p>SFR values</p>
<p>displaying, 53</p>
<p>SHOWALL command</p>
<p>for 850eserv2, 37, 53</p>
<p>simrh850 Multi-core Simulator</p>
<p>connecting to, 78</p>
<p>installing, 78</p>
<p>Standard Connection Method, 78</p>
<p>simrh850 Simulator</p>
<p>Connection Editor, 79</p>
<p>connection settings, 81</p>
<p>debug settings, 81</p>
<p>Custom Connection Method, 82</p>
<p>features, 78</p>
<p>simulated processors, 78</p>
<p>simulated processors</p>
<p>with V850 and RH850 (simrh850) Multi-core Simulator,</p>
<p>78</p>
<p>simulation modes, 85</p>
<p>simulator</p>
<p>profiling frequency, 85</p>
<p>simulators</p>
<p>connecting to</p>
<p>V850 and RH850 (simrh850) Multi-core Simulator,</p>
<p>78</p>
<p>features</p>
<p>simrh850, 78</p>
<p>installing</p>
<p>V850 and RH850 (simrh850), 78</p>
<p>supported by MULTI, viii</p>
<p>sleep command</p>
<p>for legacy debug scripts, 95</p>
<p>snooze command</p>
<p>for simrh850, 84</p>
<p>-sp option</p>
<p><i>125</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Renesas V850E2RV3 IECUBE2 trace options</i></p>
<h1 style="page-break-before:always; "></h1>
<p>for monserv, 13</p>
<p>Standard Connection Methods, 2</p>
<p>status command</p>
<p>for legacy debug scripts, 95</p>
<p>step command</p>
<p>for legacy debug scripts, 95</p>
<p>stepcount command</p>
<p>for simrh850, 84</p>
<p>stepint command</p>
<p>for legacy debug scripts, 95</p>
<p>-stp ip_address option</p>
<p>for 850eserv2, 32</p>
<p>system requirements (see targets)</p>
<p><b>T</b></p>
<p>T command</p>
<p>for 850eserv2, 37, 54</p>
<p>example, 63</p>
<p>-t3v option</p>
<p>for 850eserv2, 32</p>
<p>-t5v option</p>
<p>for 850eserv2, 32</p>
<p>target command</p>
<p>for MULTI Debugger, 36, 39, 73, 84</p>
<p>target connections</p>
<p>Renesas V850/V850E ICE, 23</p>
<p>RTE, 70</p>
<p>V850 and RH850 (simrh850) Multi-core Simulator, 78</p>
<p>target system requirements</p>
<p>850eserv2 debug server, 20</p>
<p>Renesas V850/V850E ICE, 20</p>
<p>targets</p>
<p>Green Hills Monitor, 8</p>
<p>list of supported, viii</p>
<p>OS, ix</p>
<p>TD command</p>
<p>for 850eserv2, 37, 55</p>
<p>example, 64</p>
<p>TDISPLAY command</p>
<p>for 850eserv2, 37, 55</p>
<p>example, 64</p>
<p>.text sections</p>
<p>legacy debug scripting, 93</p>
<p>legacy debug scripts, 94</p>
<p>TF command</p>
<p>for 850eserv2, 37, 56</p>
<p>example, 64</p>
<p>TFILTER command</p>
<p>for 850eserv2, 37, 56</p>
<p>example, 64</p>
<p>threads command</p>
<p>for simrh850, 85</p>
<p>ThreadX targets, ix</p>
<p>TIMEBASE command</p>
<p>for 850eserv2, 39, 57</p>
<p>TIMER command</p>
<p>for 850eserv2, 39, 57</p>
<p>timer command</p>
<p>for rteserv2, 76</p>
<p>TMODE command</p>
<p>for 850eserv2, 37, 58</p>
<p>trace, 73</p>
<p>Renesas RH850 trace options, 111</p>
<p>Renesas V850E IECUBE trace options, 106</p>
<p>Renesas V850E2RV3 IECUBE2 trace options, 108</p>
<p>setting with 850eserv2, 37</p>
<p>targets</p>
<p>configuring, 106, 108, 111, 113</p>
<p>V850E RTE trace options, 113</p>
<p>V850E2R RTE trace options, 113</p>
<p>trace analyzer, 53</p>
<p>halting, 58</p>
<p>restarting, 58</p>
<p>trace buffer</p>
<p>displaying, 55</p>
<p>filtering, 56</p>
<p>tracing, 59</p>
<p>TRACE command</p>
<p>for 850eserv2, 37, 54</p>
<p>example, 63</p>
<p>trace commands</p>
<p>displaying, 56</p>
<p>trace data</p>
<p>displaying, 55, 58</p>
<p>trace display</p>
<p>commands, 37</p>
<p>status codes, 66</p>
<p>tracing, 54</p>
<p>troubleshooting</p>
<p>850eserv2 connections, 34, 35</p>
<p>Renesas V850/V850E ICE connections, 34, 35</p>
<p>TRUN command</p>
<p>for 850eserv2, 37, 58</p>
<p>TS command</p>
<p>for 850eserv2, 37, 58</p>
<p>TSEARCH command</p>
<p>for 850eserv2, 38, 59</p>
<p>TSERCH command</p>
<p>for 850eserv2</p>
<p>example, 65</p>
<p>TSTOP command</p>
<p><i>MULTI: Configuring Connections for V850 and RH850 Targets</i></p>
<p><i>126</i></p>
<p><i>-sp option (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>for 850eserv2, 37, 58</p>
<p>typographical conventions, x</p>
<p><b>U</b></p>
<p>U command</p>
<p>for 850eserv2, 36, 60</p>
<p>undef command, 99</p>
<p>for legacy debug scripts, 95</p>
<p>-usb option</p>
<p>for 850eserv2, 33</p>
<p><b>V</b></p>
<p>V850 and RH850 (simrh850) Multi-core Simulator</p>
<p>connecting to, 78</p>
<p>features, 78</p>
<p>installing, 78</p>
<p>simulated processors, 78</p>
<p>V850E RTE trace options, 113</p>
<p>V850E2R RTE trace options, 113</p>
<p>ver command, 75</p>
<p>for rteserv2, 76</p>
<p>VERIFY command, 60</p>
<p>for 850eserv2, 39</p>
<p>version, 75, 76</p>
<p><b>W</b></p>
<p>Windows definition files, 21</p>
<p>writing legacy debug scripts, 96</p>
<p><b>X</b></p>
<p>-X0 option</p>
<p>for 850eserv2, 33</p>
<p><b>Z</b></p>
<p>-zbreak option</p>
<p>for monserv, 15</p>
<p><i>127</i></p>
<p><i>Green Hills Software</i></p>
<p><i>TSTOP command (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
</body>
</html>
{% endraw %}