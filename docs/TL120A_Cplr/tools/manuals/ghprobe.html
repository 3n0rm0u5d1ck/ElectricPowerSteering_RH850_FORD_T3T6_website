---
layout: default
title: ghprobe
nav_order: 109
parent: Cplr (TL120A)
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p><b>Green Hills Debug Probes User's Guide</b></p>
<p><b>Green Hills Software</b></p>
<p><b>30 West Sola Street</b></p>
<p><b>Santa Barbara, California 93101</b></p>
<p><b>USA</b></p>
<p><b>Tel: 805-965-6044</b></p>
<p><b>Fax: 805-965-6343</b></p>
<p><b>www.ghs.com</b></p>
<h1 style="page-break-before:always; "></h1>
<p><b>DISCLAIMER</b></p>
<p>GREEN HILLS SOFTWARE MAKES NO REPRESENTATIONS OR WARRANTIES WITH RESPECT TO THE</p>
<p>CONTENTS HEREOF AND SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTIES OF MERCHANTABILITY</p>
<p>OR FITNESS FOR ANY PARTICULAR PURPOSE. Further, Green Hills Software reserves the right to revise this</p>
<p>publication and to make changes from time to time in the content hereof without obligation of Green Hills Software to</p>
<p>notify any person of such revision or changes.</p>
<p>Copyright © 1983-2014 by Green Hills Software. All rights reserved. No part of this publication may be reproduced, stored</p>
<p>in a retrieval system, or transmitted, in any form or by any means, electronic, mechanical, photocopying, recording, or</p>
<p>otherwise, without prior written permission from Green Hills Software.</p>
<p>Green Hills, the Green Hills logo, CodeBalance, GMART, GSTART, INTEGRITY, MULTI, and Slingshot are registered</p>
<p>trademarks of Green Hills Software. AdaMULTI, Built with INTEGRITY, EventAnalyzer, G-Cover, GHnet, GHnetLite,</p>
<p>Green Hills Probe, Integrate, ISIM, u-velOSity, PathAnalyzer, Quick Start, ResourceAnalyzer, Safety Critical Products,</p>
<p>SuperTrace Probe, TimeMachine, TotalDeveloper, DoubleCheck, and velOSity are trademarks of Green Hills Software.</p>
<p>All other company, product, or service names mentioned in this book may be trademarks or service marks of their respective</p>
<p>owners.</p>
<p>For a partial listing of Green Hills Software and periodically updated patent marking information, please visit</p>
<p>http://www.ghs.com/copyright_patent.html.</p>
<p>PubID: ghprobe-525955</p>
<p>Branch: http://toolsvc/branches/probe-branch-5.2</p>
<p>Date: February 19, 2015</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p><b>Preface</b></p>
<p><b>xi</b></p>
<p>About This Book . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xii</p>
<p>Conventions Used in the MULTI Document Set . . . . . . . . . . . . . . . . . . . . .</p>
<p>xii</p>
<p>Green Hills Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xv</p>
<p>SuperTrace Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xvi</p>
<p><b>1. Administering Your Probe</b></p>
<p><b>1</b></p>
<p>Status LEDs And The User Button . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>2</p>
<p>Green Hills Probe v2 and SuperTrace Probe v1 Status LEDs . . . . . . .</p>
<p>2</p>
<p>Green Hills Probe v3 and SuperTrace Probe v3 Status LEDs . . . . . . .</p>
<p>2</p>
<p>TraceEverywhere Target Adapter LEDs . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>3</p>
<p>TraceEverywhere Pod LEDs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>4</p>
<p>ColdFire Active Pod LEDs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>4</p>
<p>Trace Pod Status LEDs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>4</p>
<p>The User Button . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>5</p>
<p>Ports Used by the Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>5</p>
<p>The Graphical Probe Administrator . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>6</p>
<p>Starting the Graphical Probe Administrator . . . . . . . . . . . . . . . . . . . . . .</p>
<p>6</p>
<p>Using the Probe List Window . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>7</p>
<p>Using the Probe Administration Window . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>12</p>
<p>Updating Firmware with the Probe Administrator . . . . . . . . . . . . . . .</p>
<p>17</p>
<p>The Command Line mpadmin Utility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>19</p>
<p>mpadmin Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>19</p>
<p>mpadmin Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Running mpadmin's Interactive Setup Utility . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Loading and Saving Configuration Files . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>20</p>
<p>Updating Firmware with mpadmin . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>21</p>
<p><i>iii</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>2. Configuring Target Resources</b></p>
<p><b>23</b></p>
<p>Customizing MULTI Board Setup Scripts . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>24</p>
<p>Additional Considerations for High-Speed Serial Trace . . . . . . . . . . .</p>
<p>28</p>
<p>Testing Individual Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>29</p>
<p>Useful Commands for MULTI Board Setup Scripts . . . . . . . . . . . . . .</p>
<p>29</p>
<p>Customizing Linker Directives Files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>31</p>
<p>Testing Target Resources . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>31</p>
<p>Testing Register Access . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>32</p>
<p>Testing Memory Access . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>33</p>
<p>Testing Run Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>34</p>
<p>Troubleshooting Run Control Problems . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>35</p>
<p>Using Timestamps to Collect Real World Timing Information . . . . . . . . .</p>
<p>36</p>
<p><b>3. Probe Connection Reference</b></p>
<p><b>39</b></p>
<p>Creating a Standard Connection Method for Green Hills Debug Probe</p>
<p>(mpserv) Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>40</p>
<p>The Green Hills Debug Probe (mpserv) Connection Editor . . . . . . . . . . . .</p>
<p>41</p>
<p>Green Hills Debug Probe (mpserv) Connection Settings . . . . . . . . . .</p>
<p>42</p>
<p>Green Hills Debug Probe (mpserv) Probe Config Settings . . . . . . . .</p>
<p>43</p>
<p>Green Hills Debug Probe (mpserv) INTEGRITY Settings . . . . . . . .</p>
<p>43</p>
<p>Green Hills Debug Probe (mpserv) Advanced Settings . . . . . . . . . . .</p>
<p>44</p>
<p>Green Hills Debug Probe (mpserv) Debug Settings . . . . . . . . . . . . . .</p>
<p>46</p>
<p>Using Your New Connection Method to Connect . . . . . . . . . . . . . . . . . . . .</p>
<p>46</p>
<p>Using Custom Connection Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>47</p>
<p>Options for Custom Connection Methods . . . . . . . . . . . . . . . . . . . . . .</p>
<p>49</p>
<p>Specifying Setup Scripts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>55</p>
<p>Using MULTI (.mbs) Setup Scripts When Connecting to Your</p>
<p>Target . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>55</p>
<p>Using Legacy (.dbs) Setup Scripts When Connecting to Your</p>
<p>Target . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>56</p>
<p>Running Setup Scripts Manually . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>57</p>
<p>Probe Run Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>59</p>
<p>Connecting to a Running Kernel . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>59</p>
<p>Serial Port Forwarding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>60</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>iv</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Using External Trace Triggers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>61</p>
<p>General Purpose IO Port Drive Characteristics . . . . . . . . . . . . . . . . . . . . . .</p>
<p>63</p>
<p><b>4. Probe Option Reference</b></p>
<p><b>65</b></p>
<p>Setting Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>66</p>
<p>Generic Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>66</p>
<p>Setting the IP Address . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>70</p>
<p>Selecting the Target Communication Protocol . . . . . . . . . . . . . . . . . . .</p>
<p>71</p>
<p>Enabling and Disabling DHCP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>71</p>
<p>Setting the Number of Receive Lanes . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<p>Setting the Netmask . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<p>Setting the Gateway . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>73</p>
<p>Setting the Target Adapter Type . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>74</p>
<p>Setting the I/O Interface Voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>75</p>
<p>Specifying Your Target . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>76</p>
<p>Setting the Serial Communication Speed . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>82</p>
<p>Enabling or Disabling the Status Checker . . . . . . . . . . . . . . . . . . . . . .</p>
<p>82</p>
<p>Setting the JTAG or SWD Clock Speed . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>82</p>
<p>Enabling or Disabling Target Power Detection . . . . . . . . . . . . . . . . . .</p>
<p>83</p>
<p>Configuring Probe Run Mode Behavior on Host Disconnect . . . . . .</p>
<p>83</p>
<p>Configuring Probe Run Mode Behavior on Target Reset . . . . . . . . . .</p>
<p>84</p>
<p>Enabling or Disabling the Serial Terminal . . . . . . . . . . . . . . . . . . . . . .</p>
<p>84</p>
<p>Setting the User String . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>Disabling Multiple Binary Connections . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>85</p>
<p>Setting the CPU Reset Pulse Length . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>86</p>
<p>Setting the JTAG TAP Reset Pulse Length . . . . . . . . . . . . . . . . . . . . . .</p>
<p>86</p>
<p>Setting the Reset Settle Length . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>86</p>
<p>Setting the JTAG TAP Reset Settle Length . . . . . . . . . . . . . . . . . . . . .</p>
<p>87</p>
<p>Setting Reset Pin and JTAG TAP Interaction . . . . . . . . . . . . . . . . . . . .</p>
<p>87</p>
<p>Setting the Drive Strength of TraceEverywhere Pods (SuperTrace</p>
<p>Probe)</p>
<p>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>88</p>
<p>Setting the Byte Order (Endianness) . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>88</p>
<p>Setting the Trace Clock Source (SuperTrace Probe) . . . . . . . . . . . . . .</p>
<p>88</p>
<p>Setting the Trace Clock Phase (SuperTrace Probe) . . . . . . . . . . . . . . .</p>
<p>89</p>
<p>Setting the Trace Clock Delay (SuperTrace Probe) . . . . . . . . . . . . . . .</p>
<p>90</p>
<p>Setting Trace Termination Control on TraceEverywhere Pods</p>
<p>(SuperTrace Probe) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>91</p>
<p><i>v</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Setting the User Button Behavior . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>91</p>
<p>Specifying Download Verification . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>91</p>
<p>Target-Specific Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>92</p>
<p>ARC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>92</p>
<p>ARM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>94</p>
<p>Blackfin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>114</p>
<p>ColdFire . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>115</p>
<p>MIPS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>119</p>
<p>PowerPC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>124</p>
<p>SH . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>156</p>
<p>V800 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>156</p>
<p>x86 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>157</p>
<p>XScale . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>159</p>
<p>Target-Specific Trace Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>163</p>
<p>ARM ETM and PTM Target-Specific Options . . . . . . . . . . . . . . . . .</p>
<p>163</p>
<p>ColdFire Target-Specific Options . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>167</p>
<p>Nexus e200 Target-Specific Options . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>168</p>
<p>Power Architecture QorIQ Nexus Target-Specific Options . . . . . . .</p>
<p>169</p>
<p>PowerPC 405, 440, and 460 Target-Specific Options . . . . . . . . . . . .</p>
<p>171</p>
<p><b>5. Probe Command Reference</b></p>
<p><b>173</b></p>
<p>Green Hills Debug Probe Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>174</p>
<p>Configuration Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>175</p>
<p>Front Panel I/O Pin Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>179</p>
<p>Group Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>181</p>
<p>JTAG and SWD Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>183</p>
<p>System Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>187</p>
<p>Target</p>
<p>Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>190</p>
<p>Target-Specific Special Registers . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>209</p>
<p>Test Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>212</p>
<p>Specifying Numbers with Green Hills Debug Probe Commands . .</p>
<p>215</p>
<p>Data Types for Green Hills Debug Probe Commands . . . . . . . . . . .</p>
<p>216</p>
<p>Other Green Hills Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>218</p>
<p>Generic Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>218</p>
<p>Green Hills Probe and SuperTrace Probe Terminal Prompts . . . . . . . . . .</p>
<p>224</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>vi</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>A. Legacy Scripting Reference</b></p>
<p><b>227</b></p>
<p>The Green Hills Debug Server Scripting Language . . . . . . . . . . . . . . . . .</p>
<p>228</p>
<p>General Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>228</p>
<p>Scripting Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>228</p>
<p>Example Scripts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>232</p>
<p><b>B. Pin Tables</b></p>
<p><b>235</b></p>
<p>Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>236</p>
<p>Green Hills Probe Connector Pin Assignments . . . . . . . . . . . . . . . . . . . . .</p>
<p>237</p>
<p>CPU Families and Debug Connectors . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>237</p>
<p>Analog Devices DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>239</p>
<p>ARM Legacy 14-Pin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>241</p>
<p>ARM Legacy 20-Pin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>243</p>
<p>ARM CoreSight 20-Pin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>245</p>
<p>ARM CoreSight 10-Pin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>247</p>
<p>Intel</p>
<p>XDP-60 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>249</p>
<p>Intel XDP-SSA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>252</p>
<p>Intel XDP-SFF-24 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>254</p>
<p>MIPS EJTAGV2.0 and lower . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>255</p>
<p>MIPS EJTAG V2.5 and higher . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>257</p>
<p>ColdFire BDM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>259</p>
<p>PowerPC BDM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>264</p>
<p>PowerPC COP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>266</p>
<p>PowerPC 4xx Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>269</p>
<p>Generic Nexus . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>271</p>
<p>EOnCE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>273</p>
<p>Texas Instruments DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>275</p>
<p>Renesas H-UDI . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>277</p>
<p>SuperTrace Probe Trace Pod Pin Assignments . . . . . . . . . . . . . . . . . . . . .</p>
<p>279</p>
<p>ARM ETM/PTM/CoreSight MICTOR . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>280</p>
<p>ARM ETMv3/PTM/CoreSight MIPI-60 . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>283</p>
<p>PowerPC 405/440/460 MICTOR . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>286</p>
<p>PowerPC 405 20-Pin Header . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>288</p>
<p>PowerPC 55xx/56xx/57xx Nexus . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>289</p>
<p>ColdFire . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>290</p>
<p><i>vii</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p>SuperTrace Probe TE Trace Pod and Green Hills Probe TE Adapter Pin</p>
<p>Assignments . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>291</p>
<p>Nexus HP50 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>291</p>
<p>SuperTrace Probe High-Speed Serial Trace Pin Assignments . . . . . . . . .</p>
<p>294</p>
<p>ARM CoreSight HSSTP (ERF8-020) . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>294</p>
<p>QorIQ Nexus Trace (ERF35) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>295</p>
<p>QorIQ Nexus Trace (ERF11) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>297</p>
<p><b>C. CPU-Specific Bit Tables</b></p>
<p><b>299</b></p>
<p>Virtual and Physical Tags . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>300</p>
<p>Cache Tags . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>309</p>
<p><b>D. Troubleshooting and Usage Notes</b></p>
<p><b>317</b></p>
<p>Troubleshooting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>318</p>
<p>Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>318</p>
<p>Using vb to Diagnose Connection Problems . . . . . . . . . . . . . . . . . . .</p>
<p>318</p>
<p>Diagnosing Reset Line Problems . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>319</p>
<p>Some Board Components Retain Power After Target Power is</p>
<p>Removed . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>320</p>
<p>Resetting a Single Core in a Multi-Core System . . . . . . . . . . . . . . . .</p>
<p>321</p>
<p>Recovering From Accidental USB Disconnection . . . . . . . . . . . . . .</p>
<p>322</p>
<p>Grounding Your Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>322</p>
<p>Changing the Target Communication Protocol . . . . . . . . . . . . . . . . .</p>
<p>323</p>
<p>ERROR 71 After Changing the Probe TTM . . . . . . . . . . . . . . . . . . .</p>
<p>323</p>
<p>Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>324</p>
<p>Breakpoint Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>324</p>
<p>Trace Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>332</p>
<p>MULTI Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>333</p>
<p>ARC Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>335</p>
<p>ARM Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>337</p>
<p>Blackfin Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>344</p>
<p>ColdFire Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>346</p>
<p>MIPS Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>346</p>
<p>PowerPC Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>351</p>
<p>SH Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>364</p>
<p>x86 Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>366</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>viii</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>E. Supported Devices and Adapter Types</b></p>
<p><b>367</b></p>
<p>Supported Devices . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>368</p>
<p>Supported ARM Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>368</p>
<p>Supported ARC Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>371</p>
<p>Supported Blackfin Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>371</p>
<p>Supported ColdFire Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>372</p>
<p>Supported Lexra Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>373</p>
<p>Supported MIPS/EJTAG Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>373</p>
<p>Supported PowerPC Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>375</p>
<p>Supported SH Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>382</p>
<p>Supported V800 Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>383</p>
<p>Supported x86 Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>383</p>
<p>Supported Generic JTAG Devices . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>383</p>
<p>Green Hills Probe Target Adapter Types . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>383</p>
<p>SuperTrace Probe Trace Pod Types . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>385</p>
<p>Trace Feature Support . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>387</p>
<p><b>F. Probe Error Codes</b></p>
<p><b>391</b></p>
<p><b>G. ARM Register Names</b></p>
<p><b>395</b></p>
<p>General</p>
<p>Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>396</p>
<p>Register Names For ARM1136 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>396</p>
<p>Register Names For ARM1156 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>398</p>
<p>Register Names For ARM1176 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>399</p>
<p>Register Names For ARM11MP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>402</p>
<p>Register Names For PJ4v6 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>405</p>
<p>Register Names For PJ4v7 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>408</p>
<p>Register Names For Cortex-R4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>411</p>
<p>Register Names For Cortex-R5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>413</p>
<p>Register Names For Cortex-A5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>417</p>
<p>Register Names For Cortex-A8 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>420</p>
<p>Register Names For Cortex-A9 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>426</p>
<p><i>ix</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Register Names For Cortex-A15 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>430</p>
<p><b>H. Third-Party Licensing and Copyright</b></p>
<p><b>Information</b></p>
<p><b>437</b></p>
<p>MD5 Message-Digest Algorithm License Agreement . . . . . . . . . . . . . . .</p>
<p>438</p>
<p>Third-Party DES Copyright Information . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>438</p>
<p><b>I. Declaration of Conformity</b></p>
<p><b>441</b></p>
<p><b>Index</b></p>
<p><b>449</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>x</i></p>
<p><i>Contents</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Preface</b></p>
<p><b>Contents</b></p>
<p>About This Book . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xii</p>
<p>Conventions Used in the MULTI Document Set . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xii</p>
<p>Green Hills Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xv</p>
<p>SuperTrace Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>xvi</p>
<h1 style="page-break-before:always; "></h1>
<p>This preface discusses the purpose of the manual, the MULTI documentation set,</p>
<p>and typographical conventions used.</p>
<p><b>About This Book</b></p>
<p>This book contains reference information for the Green Hills Probe and SuperTrace</p>
<p>Probe. For installation information, see the<i> Getting Started</i> book for your probe.</p>
<p>For instructions that explain how to use the MULTI Debugger, see the<i> MULTI:</i></p>
<p><i>Debugging</i> book.</p>
<p>(SuperTrace Probe users only) For specific information about using the TimeMachine</p>
<p>debugging tools, which are licensed separately from the MULTI Debugger, see the</p>
<p>documentation about analyzing trace data with the TimeMachine tool suite in the</p>
<p><i>MULTI: Debugging</i> book.</p>
<p><b>Note</b></p>
<p>New or updated information may have become available while this book</p>
<p>was in production. For additional material that was not available at press</p>
<p>time, or for revisions that may have become necessary since this book</p>
<p>was printed, please check your installation directory for release notes,</p>
<p><b>README</b> files, and other supplementary documentation.</p>
<p><b>Conventions Used in the MULTI Document Set</b></p>
<p>All Green Hills documentation assumes that you have a working knowledge of your</p>
<p>host operating system and its conventions, including its command line and graphical</p>
<p>user interface (GUI) modes.</p>
<p>Green Hills documentation uses a variety of notational conventions to present</p>
<p>information and describe procedures. These conventions are described below.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>xii</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example</b></p>
<p><b>Indication</b></p>
<p><b>Convention</b></p>
<p><b>C:\MyProjects</b></p>
<p>Filename or pathname</p>
<p><b>bold</b> type</p>
<p><b>setup</b> command</p>
<p>Command</p>
<p><b>-G</b> option</p>
<p>Option</p>
<p>The<b> Breakpoints</b> window</p>
<p>Window title</p>
<p>The<b> File</b> menu</p>
<p>Menu name or menu choice</p>
<p><b>Working Directory:</b></p>
<p>Field name</p>
<p>The<b> Browse</b> button</p>
<p>Button name</p>
<p><b>-o<i> filename</b></i></p>
<p>Replaceable text</p>
<p><i>italic</i> type</p>
<p>A task may be called a<i> process</i></p>
<p>or a<i> thread</i></p>
<p>A new term</p>
<p><i>MULTI: Debugging</i></p>
<p>A book title</p>
<p>Type</p>
<p>help<i> command_name</i></p>
<p>Text you should enter as presented</p>
<p>monospace</p>
<p>type</p>
<p>The<b> wait</b> [-global] command</p>
<p>blocks command processing,</p>
<p>where</p>
<p>-global</p>
<p>blocks</p>
<p>command processing for all</p>
<p>MULTI processes.</p>
<p>A word or words used in a</p>
<p>command or example</p>
<p>int a = 3;</p>
<p>Source code</p>
<p>&gt; print Test</p>
<p>Test</p>
<p>Input/output</p>
<p>GHS_System()</p>
<p>A function</p>
<p><b>debugbutton</b> [<i>name</i>]...</p>
<p>The preceding argument or option</p>
<p>can be repeated zero or more times.</p>
<p>ellipsis (...)</p>
<p>(in command line</p>
<p>instructions)</p>
<p>&gt; print Test</p>
<p>Test</p>
<p>Represents a prompt. Your actual</p>
<p>prompt may be a different symbol</p>
<p>or string. The &gt; prompt helps to</p>
<p>distinguish input from output in</p>
<p>examples of screen displays.</p>
<p>greater than sign ( &gt; )</p>
<p><b>call<i></b> proc</i> |<i> expr</i></p>
<p>One (and only one) of the</p>
<p>parameters or options separated by</p>
<p>the pipe or pipes should be</p>
<p>specified.</p>
<p>pipe ( | )</p>
<p>(in command line</p>
<p>instructions)</p>
<p><i>xiii</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Conventions Used in the MULTI Document Set</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example</b></p>
<p><b>Indication</b></p>
<p><b>Convention</b></p>
<p>.macro<i> name</i> [<i>list</i>]</p>
<p>Optional argument, command,</p>
<p>option, and so on. You can either</p>
<p>include or omit the enclosed</p>
<p>elements. The square brackets</p>
<p>should not appear in your actual</p>
<p>command.</p>
<p>square brackets ( [ ] )</p>
<p>(in command line</p>
<p>instructions)</p>
<p>The following command description demonstrates the use of some of these</p>
<p>typographical conventions.</p>
<p><b>gxyz</b> [<i>-option</i>]...<i> filename</i></p>
<p>The formatting of this command indicates that:</p>
<p>•</p>
<p>The command<b> gxyz</b> should be entered as shown.</p>
<p>•</p>
<p>The option</p>
<p><i>-option</i></p>
<p>should either be replaced with one or more appropriate</p>
<p>options or be omitted.</p>
<p>•</p>
<p>The word</p>
<p><i>filename</i></p>
<p>should be replaced with the actual filename of an</p>
<p>appropriate file.</p>
<p>The square brackets and the ellipsis should not appear in the actual command you</p>
<p>enter.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>xiv</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Green Hills Probe</b></p>
<p>The Green Hills Probe is a high-speed, network-enabled, stand-alone debugging</p>
<p>instrument that:</p>
<p>•</p>
<p>Allows downloading at speeds exceeding 5 MBps.</p>
<p>•</p>
<p>Gives you extensive visibility and control of your target through Ethernet or</p>
<p>USB host interface ports. (Support via USB is available only on Windows XP</p>
<p>or newer.)</p>
<p>•</p>
<p>Can be re-targeted to support different CPU families by changing the target</p>
<p>adapter and updating your firmware.</p>
<p>•</p>
<p>Allows debugging of large multiple-core systems.</p>
<p>•</p>
<p>Includes a telnet server and USB connectivity to allow convenient configuration</p>
<p>and control of your target.</p>
<p><i>xv</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe</b></p>
<p>The SuperTrace Probe is a network-enabled hardware debugging instrument that</p>
<p>provides unprecedented speed and the largest trace memory available in a hardware</p>
<p>debugging interface. The SuperTrace Probe shares the basic capabilities of the</p>
<p>Green Hills Probe, but can also collect trace data. The SuperTrace Probe:</p>
<p>•</p>
<p>Can collect up to four gigabytes of trace data.</p>
<p>•</p>
<p>Can collect trace data at speeds up to 300 MHz.</p>
<p>•</p>
<p>Can be used with the Green Hills TimeMachine tools to vastly expand the trace</p>
<p>and debugging features of the MULTI Debugger.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>xvi</i></p>
<p><i>Preface</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 1</b></p>
<p><b>Administering Your Probe</b></p>
<p><b>Contents</b></p>
<p>Status LEDs And The User Button . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>2</p>
<p>Ports Used by the Probe . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>5</p>
<p>The Graphical Probe Administrator . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>6</p>
<p>The Command Line mpadmin Utility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>19</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Status LEDs And The User Button</b></p>
<p>The front of your probe has three status LEDs that indicate various statuses for the</p>
<p>probe and your target. This section describes what these LEDs indicate, and how</p>
<p>to use the User button on the front your probe. It also covers the status LEDs on</p>
<p>included trace pods and active pods.</p>
<p><b>Green Hills Probe v2 and SuperTrace Probe v1 Status LEDs</b></p>
<p>The Green Hills Probe v2 and SuperTrace Probe v1 have three single-color status</p>
<p>LEDs on the right-hand side. From top to bottom, they are:</p>
<p><b>Indication When Lit</b></p>
<p><b>Color</b></p>
<p><b>Label</b></p>
<p>The target is halted after a reset.</p>
<p>Red</p>
<p><b>RST</b></p>
<p>The target is in debug mode because it has been halted or is stopped</p>
<p>at a breakpoint.</p>
<p>Amber</p>
<p><b>HALT</b></p>
<p>The target is running.</p>
<p>Green</p>
<p><b>RUN</b></p>
<p>All three LEDs blink while the probe is tri-stated (for more information, see “The</p>
<p>User Button” on page 5). Multiple LEDs light up during system operations (such</p>
<p>as firmware updates).</p>
<p>These probes also have a power LED that is solid green when the probe is powered.</p>
<p><b>Green Hills Probe v3 and SuperTrace Probe v3 Status LEDs</b></p>
<p>The Green Hills Probe v3 has three LEDs on the right-hand side. From top to bottom,</p>
<p>they are:</p>
<p><b>Indication</b></p>
<p><b>State</b></p>
<p><b>Label</b></p>
<p>A host is connected to the probe via Ethernet.</p>
<p>Solid Green</p>
<p><b>Host</b></p>
<p>A host is connected to the probe via USB.</p>
<p>Solid Amber</p>
<p>The probe is communicating over Ethernet.</p>
<p>Blinking Green</p>
<p>The probe is communicating over USB.</p>
<p>Blinking Amber</p>
<p>The probe is communicating with the target. The speed</p>
<p>of the blinks roughly correlates with the density of</p>
<p>communication.</p>
<p>Blinking Green</p>
<p><b>Debug</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>2</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Indication</b></p>
<p><b>State</b></p>
<p><b>Label</b></p>
<p>The target is running.</p>
<p>Solid Green</p>
<p><b>CPU</b></p>
<p>The target is in debug mode (for any reason).</p>
<p>Solid Amber</p>
<p>The probe is on.</p>
<p>Solid Green (STP)</p>
<p><b>Power</b></p>
<p>The power supplied to the probe is inadequate.</p>
<p>Solid Red (STP)</p>
<p>The probe is booting.</p>
<p>Blinking Green (STP)</p>
<p>The probe is on.</p>
<p>Solid Green (GHP)</p>
<p>Contact Green Hills support.</p>
<p>Other (GHP)</p>
<p>The probe is ready and properly connected to the trace</p>
<p>pod over the parallel interface.</p>
<p>Solid Green</p>
<p><b>Parallel</b></p>
<p>(STP)</p>
<p>The probe is partially configured but not ready. May also</p>
<p>mean that no adapter is connected.</p>
<p>Solid Orange</p>
<p>The probe is ready, but is unable to communicate to the</p>
<p>trace pod. It may not be properly connected.</p>
<p>Solid Red</p>
<p>The probe is ready and properly connected to the target</p>
<p>over the serial (HSST) interface.</p>
<p>Solid Green</p>
<p><b>Serial</b></p>
<p>(STP)</p>
<p>The probe is partially configured but not ready.</p>
<p>Solid Orange</p>
<p>The probe is ready, but is unable to communicate to the</p>
<p>target. It may not be properly connected.</p>
<p>Solid Red</p>
<p>The<b> Debug</b> and<b> CPU</b> LEDs both blink while the probe is tri-stated. While updating</p>
<p>the probe's firmware, all three LEDs blink and cycle through different colors.</p>
<p><b>TraceEverywhere Target Adapter LEDs</b></p>
<p>TraceEverywhere (TE) kits have an adapter attached to the target end of the TE</p>
<p>trace pod. This adapter has a single status LED. If the LED is green, the adapter is</p>
<p>properly connected to the probe. If it is red or off, there is a problem with the</p>
<p>connection.</p>
<p><b>Note</b></p>
<p>The LEDs on the TE trace pod are described in the following section.</p>
<p><i>3</i></p>
<p><i>Green Hills Software</i></p>
<p><i>TraceEverywhere Target Adapter LEDs</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>TraceEverywhere Pod LEDs</b></p>
<p>TraceEverywhere (TE) kits for the SuperTrace Probe contain a TE pod that has five</p>
<p>LEDs. The LED on the top of the pod nearest the ribbon cable indicates whether</p>
<p>or not the pod has power. The other four LEDs on the top and bottom of the pod</p>
<p>indicate one of the following statuses:</p>
<p><b>Indication</b></p>
<p><b>Color</b></p>
<p>No power is detected or the outputs are disabled (the probe is tri-stated).</p>
<p>Orange</p>
<p>No trace clock is present. If the light is flickering, there is JTAG activity.</p>
<p>Green</p>
<p>The trace clock is present. If the light is flickering, there is JTAG activity.</p>
<p>White</p>
<p><b>ColdFire Active Pod LEDs</b></p>
<p>The ColdFire active pod has the following status LEDs:</p>
<p><b>Indication When Lit</b></p>
<p><b>Label</b></p>
<p>The target is powered. This LED corresponds to the</p>
<p>TVcc</p>
<p>signal from the target.</p>
<p><b>V</b></p>
<p>There is activity going in or out the BDM port.</p>
<p><b>H</b></p>
<p>The Green Hills Probe is powered.</p>
<p><b>T</b></p>
<p><b>Trace Pod Status LEDs</b></p>
<p>Trace pods for SuperTrace probes have several status LEDs that indicate the state</p>
<p>of the probe's connection to your target. These LEDs are located on the backside</p>
<p>of the trace pod, opposite the heat sink. While different LEDs are different colors,</p>
<p>each LED has only one color. The following table describes what each LED indicates</p>
<p>when lit:</p>
<p><b>Indication When Lit</b></p>
<p><b>Label</b></p>
<p><b>Order</b></p>
<p>The trace pod is powered.</p>
<p><b>PROBE</b></p>
<p><b>POWER</b></p>
<p>1</p>
<p>The SuperTrace Probe can communicate with the trace pod.</p>
<p><b>READY</b></p>
<p>2</p>
<p>The SuperTrace Probe is collecting trace data.</p>
<p><b>TRACING</b></p>
<p>3</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>4</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Indication When Lit</b></p>
<p><b>Label</b></p>
<p><b>Order</b></p>
<p>The SuperTrace Probe has encountered a trigger event and will</p>
<p>stop collecting trace data when the specified percentage of the trace</p>
<p>buffer has filled.</p>
<p><b>TRIGGER</b></p>
<p>4</p>
<p>There is JTAG traffic. This LED blinks to indicate traffic, but the</p>
<p>traffic is often so fast that the LED looks solid.</p>
<p><b>RUN CTL</b></p>
<p>5</p>
<p>The trace clock is present, or, if you are using a phase locked loop</p>
<p>(PLL), the PLL is locked.</p>
<p><b>STATUS 1</b></p>
<p>6</p>
<p>This LED is reserved for future use and is never lit.</p>
<p><b>STATUS 2</b></p>
<p>7</p>
<p>The trace clock is present. If you are not using a PLL, this light</p>
<p>indicates the same thing as</p>
<p>STATUS 1</p>
<p>.</p>
<p><b>STATUS 3</b></p>
<p>8</p>
<p><b>Note</b></p>
<p>If your trace pod's LEDs are not labeled, the previous table lists them</p>
<p>from top to bottom, where the top LED is closest to the Green Hills</p>
<p>Software logo.</p>
<p><b>The User Button</b></p>
<p>The<b> User</b> button is located on the front left side of the probe. You can use the<b> User</b></p>
<p>button to:</p>
<p>•</p>
<p>Toggle the target outputs on (normal operation) and off (tri-stated). This is</p>
<p>equivalent to issuing the<b> jp on</b> and<b> jp off</b> commands. When outputs are</p>
<p>tri-stated, the status LEDs blink, and you can connect and disconnect the target</p>
<p>adapter while the probe is still powered and/or the target is running. Never</p>
<p>connect a powered probe to a running target unless the outputs are off.</p>
<p>•</p>
<p>Perform a serial boot. This is helpful if you need to update firmware on a probe</p>
<p>that cannot boot or has a bad firmware image. For more information, see</p>
<p>“Updating Probe Firmware to a Working Probe” on page 17.</p>
<p><b>Ports Used by the Probe</b></p>
<p>Green Hills Debug Probes use the following TCP/IP ports:</p>
<p>•</p>
<p>23 — Telnet</p>
<p><i>5</i></p>
<p><i>Green Hills Software</i></p>
<p><i>The User Button</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>5000 — Communication with MULTI, probe administration utilities, and</p>
<p><b>mpserv</b>.</p>
<p><b>The Graphical Probe Administrator</b></p>
<p>The Green Hills Graphical Probe Administrator allows you to easily configure your</p>
<p>Green Hills Probes. You can also update the firmware for your probes, in addition</p>
<p>to viewing probe status and opening consoles to the probes.</p>
<p><b>Starting the Graphical Probe Administrator</b></p>
<p>To start the Graphical Probe Administrator, either:</p>
<p>•</p>
<p>From the MULTI Launcher, select<b> Utilities</b> →<b> Probe Administrator</b>; or</p>
<p>•</p>
<p>Run<b> gpadmin</b> from a command prompt.</p>
<p><b>Command Line Options</b></p>
<p>When you run the Graphical Probe Administrator from the command line, you can</p>
<p>specify command line options to allow you to open a<b> Probe Administration</b> window</p>
<p>on a single probe. Additionally, you can specify that you want to update the firmware</p>
<p>for a single probe.</p>
<p>Opening a Probe Administration Window</p>
<p>To open a<b> Probe Administration</b> window for a single probe connected over</p>
<p>Ethernet, enter:</p>
<p><b>gpadmin<i></b> probe_ip</i></p>
<p>where<i> probe_ip</i> is either the hostname or IP address of your probe.</p>
<p>To open a<b> Probe Administration</b> window for a single Probe connected via USB,</p>
<p>enter:</p>
<p><b>gpadmin</b> -usb</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>6</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For more information about the<b> Probe Administration</b> window, see “Using the</p>
<p>Probe Administration Window” on page 12.</p>
<p>Updating Probe Firmware</p>
<p>To update the probe firmware for a probe connected via Ethernet from the command</p>
<p>line, use the following syntax:</p>
<p><b>gpadmin</b> -update<i> probe_ip</i> [<i>firmware_file</i>]</p>
<p>where<i> probe_ip</i> is used to specify the probe's IP address or hostname.<i> firmware_file</i></p>
<p>is an optional parameter to specify the firmware file to flash to your probe.</p>
<p>To update the probe firmware for a probe connected via USB from the command</p>
<p>line, use the following syntax:<b> gpadmin</b> -update -usb [<i>firmware_file</i>]</p>
<p>where<i> firmware_file</i> optionally specifies the firmware file to flash to your probe.</p>
<p>If you do not specify a firmware file, the<b> Update Probe Firmware</b> dialog box</p>
<p>appears to allow you to select the firmware file to flash to your probe.</p>
<p>If you do specify a firmware file, the file is automatically flashed to your probe.</p>
<p>For more information about updating probe firmware, see “Updating Probe Firmware</p>
<p>to a Working Probe” on page 17.</p>
<p><b>Using the Probe List Window</b></p>
<p>The primary interface of the Graphical Probe Administrator is the<b> Probe List</b></p>
<p>window, shown next.</p>
<p><i>7</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Probe List Window</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Managing the Probe List</b></p>
<p>The<b> Probe List</b> window displays information about probes you have added.</p>
<p>Adding Probes to the Probe List</p>
<p>To manually add probes to the<b> Probe List</b> window:</p>
<p>•</p>
<p>Select<b> File</b> →<b> New Probe</b>; or</p>
<p>•</p>
<p>Right-click in the<b> Probe List</b> window, and select<b> New Probe</b>.</p>
<p>These commands will open the<b> New Probe</b> dialog box that allows you to enter</p>
<p>information about the new probe so that the Graphical Probe Administrator can</p>
<p>connect to it. The<b> New Probe</b> window is shown in the following.</p>
<p>1.</p>
<p>To add a new probe, enter a name to identify the probe. This name is only used</p>
<p>to help you identify the probe while using the Graphical Probe Administrator.</p>
<p>2.</p>
<p>Select the method that the Graphical Probe Administrator should use to connect</p>
<p>to the probe.</p>
<p>•</p>
<p>If you have a probe connected via USB, select the<b> USB</b> radio button.</p>
<p>•</p>
<p>If you have a probe connected over Ethernet, select<b> Ethernet</b>. Enter the</p>
<p>IP address for this probe, which can be entered as either a numeric IP</p>
<p>address or using the hostname assigned to the probe.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>8</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Modifying Probes in the Probe List</p>
<p>Once a probe appears in the<b> Probe List</b>, you can edit its name and connection</p>
<p>method by either:</p>
<p>•</p>
<p>Double-click the probe, and select<b> File</b> →<b> Edit Probe</b>; or</p>
<p>•</p>
<p>Right-click a probe, and select<b> Edit Probe</b>.</p>
<p>This opens the<b> Edit Probe</b> dialog box, which allows you to modify the name and</p>
<p>connection method for the probe.</p>
<p>Removing Probes from the Probe List</p>
<p>You can remove a probe from the Probe List by either:</p>
<p>•</p>
<p>Double-click the probe, and select<b> File</b> →<b> Remove Probe</b>; or</p>
<p>•</p>
<p>Right-click the probe and select<b> Remove Probe</b>.</p>
<p>Removing a probe has no effect other than displacing it from the<b> Probe List</b>. Once</p>
<p>a probe has been removed, you can add it back later if you need access to it.</p>
<p><b>Probe List Data</b></p>
<p>For each probe in the<b> Probe List</b> window, the Graphical Probe Administrator opens</p>
<p>a connection to the probe and retrieves some information. It then collects some</p>
<p>information from the probe and disconnects from it.</p>
<p>For each probe in the<b> Probe List</b>, the following information is displayed:</p>
<p><b>Description</b></p>
<p><b>Column</b></p>
<p>A user-defined name to uniquely identify this probe.</p>
<p>Name</p>
<p>The user string for this probe. For more information about the</p>
<p>user string, see “Setting the User String” on page 85.</p>
<p>User String</p>
<p>The connection type that the Graphical Probe Administrator</p>
<p>uses to connect to this probe (USB or Ethernet). If the probe is</p>
<p>connected by Ethernet, this column displays the Ethernet address</p>
<p>in brackets.</p>
<p>Connection</p>
<p>The target type that is configured for this probe.</p>
<p>Target</p>
<p><i>9</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Probe List Window</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Column</b></p>
<p>The status of the target connected to this probe. This status</p>
<p>could be running, halted, stopped at a breakpoint, or one of</p>
<p>several other states.</p>
<p>Status</p>
<p>The state of the Graphical Probe Administrator's connection to</p>
<p>this target. This column is useful so that you can see whether</p>
<p>it is currently connected to a probe, trying to connect to a probe,</p>
<p>or if it is unable to connect to a probe.</p>
<p>Connected</p>
<p>Refreshing Probe Data</p>
<p>After this information is collected from the target, the Graphical Probe Administrator</p>
<p>disconnects from each probe. The information might become stale after a period of</p>
<p>time. You can force the<b> Probe List</b> to refresh a single probe by right-clicking it,</p>
<p>and selecting<b> Refresh</b> from the context menu. The Graphical Probe Administrator</p>
<p>connects to the probe and updates the information in the<b> Probe List</b>.</p>
<p>Additionally, you can refresh the information for all probes in the<b> Probe List</b> by</p>
<p>selecting<b> File</b> →<b> Refresh All</b>. The Graphical Probe Administrator then connects</p>
<p>to each of the probes and updates the information in the<b> Probe List</b>.</p>
<p>Maintaining Probe Connections</p>
<p>You can also use the<b> Probe List</b> to monitor the status of the processors that are</p>
<p>connected to each probe. You can tell the<b> Probe List</b> to stay connected to a probe.</p>
<p>When the Graphical Probe Administrator is connected to a probe, the<b> Status</b> column</p>
<p>updates as the target status changes. To tell the Graphical Probe Administrator to</p>
<p>maintain a connection to a probe:</p>
<p>•</p>
<p>Double-click the probe, and select<b> Probe</b> →<b> Stay Connected</b>; or</p>
<p>•</p>
<p>Right-click the probe, and select<b> Stay Connected</b>.</p>
<p>When you select<b> Stay Connected</b>, the Graphical Probe Administrator connects to</p>
<p>the probe and maintains a connection so that the target status stays up to date. In</p>
<p>addition, a check mark appears next to the<b> Stay Connected</b> menu item.</p>
<p>To disconnect from a probe that has<b> Stay Connected</b> enabled, select<b> Stay Connected</b></p>
<p>again. The Graphical Probe Administrator disconnects from the probe (unless a</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>10</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Probe Administration</b> window is still open) and the<b> Stay Connected</b> menu item</p>
<p>is disabled.</p>
<p><b>Probe List Colors</b></p>
<p>The probes that appear in the<b> Probe List</b> are color coded so that you can quickly</p>
<p>tell the status of the connection to each probe. The various colors are:</p>
<p>•</p>
<p>Black — Indicates that the Graphical Probe Administrator was able to connect</p>
<p>and retrieve the status, but has since disconnected from this probe.</p>
<p>•</p>
<p>Green — Indicates that the Graphical Probe Administrator is actively connected</p>
<p>to this probe.</p>
<p>•</p>
<p>Blue — Indicates that the Graphical Probe Administrator is actively attempting</p>
<p>to establish a connection to this probe.</p>
<p>•</p>
<p>Red — Indicates that the Graphical Probe Administrator was unable to connect</p>
<p>to this probe.</p>
<p><b>Probe List Operations</b></p>
<p>From the<b> Probe List</b> window, you can configure the settings for a probe, upgrade</p>
<p>the firmware for a probe, and reboot a probe.</p>
<p>Opening a Probe Administration Window</p>
<p>To configure the settings for a probe or to access a terminal to it, do one of the</p>
<p>following:</p>
<p>•</p>
<p>Highlight a probe, and then select<b> Probe</b> →<b> Configure Probe;</b></p>
<p>•</p>
<p>Right-click a probe, and select<b> Configure Probe</b>; or</p>
<p>•</p>
<p>Double-click a probe in the<b> Probe List</b>.</p>
<p>This opens a<b> Probe Administration</b> window. For more information about the<b> Probe</b></p>
<p><b>Administration</b> window, see “Using the Probe Administration Window”</p>
<p>on page 12.</p>
<p><i>11</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Probe List Window</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Updating Probe Firmware</p>
<p>To update the firmware for a probe, either:</p>
<p>•</p>
<p>Highlight a probe, and select<b> Probe</b> →<b> Update Firmware</b>; or</p>
<p>•</p>
<p>Right-click a probe, and select<b> Update Firmware</b>.</p>
<p>For more information about updating the firmware for your probe, see “Updating</p>
<p>Firmware with the Probe Administrator” on page 17.</p>
<p>Rebooting a Probe</p>
<p>You may want to reboot a probe so that certain settings that require a reboot can</p>
<p>take effect. To reboot a probe, either:</p>
<p>•</p>
<p>Highlight the probe in the<b> Probe List</b> window, and select<b> Probe</b> →<b> Reboot</b></p>
<p><b>Probe</b>; or</p>
<p>•</p>
<p>Right-click a probe in the<b> Probe List</b>, and select<b> Reboot Probe</b>.</p>
<p>This sends a reboot command to the probe and it reboots. The<b> Probe List</b> indicates</p>
<p>that the selected probe is rebooting, waits for a short time, and then attempts to</p>
<p>reconnect to the probe. After reconnecting, it reads information from the probe and</p>
<p>displays it in the<b> Probe List</b>.</p>
<p>Any<b> Probe Administration</b> windows that are open for the selected probe close</p>
<p>when a reboot is requested.</p>
<p><b>Note</b></p>
<p>The<b> reboot</b> command is not supported in the<b> Prompt</b> pane of the<b> Probe</b></p>
<p><b>Administration</b> window.</p>
<p><b>Using the Probe Administration Window</b></p>
<p>The<b> Probe Administration</b> window allows you to configure the options for your</p>
<p>probe, and offers a command prompt that can be used to interact with the probe.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>12</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Viewing Probe Information with the Info Pane</b></p>
<p>The<b> Info</b> pane displays some general information about your probe, including the</p>
<p>firmware version, its serial number, and a list of the current connections to the</p>
<p>probe. The<b> Info</b> pane is displayed below:</p>
<p>The left side of the<b> Info</b> pane displays the firmware version, the probe serial number</p>
<p>and other information about the firmware.</p>
<p>The right side of the<b> Info</b> pane displays a list of the connections and the number of</p>
<p>seconds since there was communication over each connection.</p>
<p><b>Setting Probe Options with the Configuration Pane</b></p>
<p>The<b> Configuration</b> pane allows you to view and modify probe options. The</p>
<p><b>Configuration</b> pane is shown below.</p>
<p><i>13</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Probe Administration Window</i></p>
<h1 style="page-break-before:always; "></h1>
<p>The left side of this pane contains a list of all of the current probe options as well</p>
<p>as their current values. The options that appear in this list depend on what type of</p>
<p>probe you are connected to, what version of probe firmware you are using, and</p>
<p>what target you have configured.</p>
<p>When you select an option, documentation for this option is displayed on the right</p>
<p>side of this window. Additionally, there are controls that allow you to change the</p>
<p>value of the selected option.</p>
<p>There are several controls that may appear to change the current value of an option</p>
<p>depending on the type of option. The possible controls are:</p>
<p>•</p>
<p>A text field, for options that require a string to be entered. To change the value</p>
<p>of these options, type a new value and click<b> Enter</b>.</p>
<p>•</p>
<p>A pull down control, for options that have a fixed set of values. To alter the</p>
<p>value of these options, change the selection in the pull down control. Once a</p>
<p>new value is selected, it is automatically changed on the probe.</p>
<p>For more information about probe options, see Chapter 4, “Probe Option Reference”</p>
<p>on page 65.</p>
<p>Saving and Restoring Probe Options</p>
<p>You can save and restore the options configured in the<b> Configuration</b> pane. This</p>
<p>allows you to save the probe configuration for a specific target and restore it later.</p>
<p>This is very useful if you have two or three different targets that you connect to</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>14</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p>regularly. It is also convenient to copy the settings from one probe to another, and</p>
<p>enables sharing probe settings across an entire development group.</p>
<p>To save the current set of options, select<b> File</b> →<b> Save Options to File</b>, and then</p>
<p>select a filename. The options are saved to this file.</p>
<p>To load the options from a previously saved file, select<b> File</b> →<b> Load Options from</b></p>
<p><b>File</b>. The options saved in the file are loaded to the probe, and the<b> Configuration</b></p>
<p>pane is updated to reflect the new option values.</p>
<p><b>Note</b></p>
<p>Configuration files ending in<b> .ghpcfg</b> are not supported in the Graphical</p>
<p>Probe Administrator. To load them, see “Loading and Saving</p>
<p>Configuration Files” on page 20.</p>
<p>Refreshing the Configuration Pane</p>
<p>If probe options are changed through an interface other than the Graphical Probe</p>
<p>Administrator (that is, through a telnet console or a connection through MULTI),</p>
<p>you can refresh the values in the<b> Configuration</b> pane.</p>
<p>To refresh the<b> Configuration</b> pane, select<b> File</b> →<b> Refresh</b>. All configuration options</p>
<p>are then read from the probe and the display is updated.</p>
<p><b>The Prompt Pane</b></p>
<p>The<b> Probe Administration</b> pane offers a command pane so that you can interact</p>
<p>directly with the probe. The<b> Prompt</b> pane is shown below.</p>
<p><i>15</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using the Probe Administration Window</i></p>
<h1 style="page-break-before:always; "></h1>
<p>From this pane, you can issue nearly all of the probe commands, including</p>
<p>run-control commands, register commands, memory read and write commands, and</p>
<p>many others. For more information about the commands you can use to interact</p>
<p>with this prompt, see Chapter 5, “Probe Command Reference” on page 173.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>16</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Updating Firmware with the Probe Administrator</b></p>
<p>You can update the firmware for your probe using the Graphical Probe</p>
<p>Administrator.</p>
<p>If your probe is functioning normally, then you can update the firmware over USB</p>
<p>or Ethernet using the steps outlined in “Updating Probe Firmware to a Working</p>
<p>Probe” on page 17.</p>
<p>However, if your probe firmware has been corrupted, you must recover your probe</p>
<p>by downloading new firmware over the serial port. For more information about</p>
<p>how to do this, see “Recovering a Probe that Has Corrupt Firmware” on page 18.</p>
<p><b>Updating Probe Firmware to a Working Probe</b></p>
<p>If your probe is communicating successfully over Ethernet or USB, you can update</p>
<p>the firmware by performing the following:</p>
<p>1.</p>
<p>Select the probe you want to update in the<b> Probe List</b> window. After selecting</p>
<p>the probe, either select<b> Probe</b> →<b> Update Firmware</b> or right-click it and select</p>
<p><b>Update Firmware</b>. This opens the<b> Update Probe Firmware</b> dialog box:</p>
<p>2.</p>
<p>Select the firmware file you want to load onto your probe. You can either type</p>
<p>the full path to the firmware file in the<b> Firmware File</b> text field or click the</p>
<p>button. Clicking the</p>
<p>button opens a file chooser so that you can select</p>
<p>the firmware file.</p>
<p><i>17</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Updating Firmware with the Probe Administrator</i></p>
<h1 style="page-break-before:always; "></h1>
<p>3.</p>
<p>After you select a firmware file, the release notes are displayed so that you can</p>
<p>read about the new firmware, and verify that you want to flash this firmware</p>
<p>image.</p>
<p>4.</p>
<p>Click<b> Flash Probe</b> and the firmware flash process begins. The<b> Reloading</b></p>
<p><b>Probe Firmware</b> dialog box displays the download and flash status.</p>
<p>5.</p>
<p>The probe is rebooted and the new firmware is now loaded.</p>
<p>6.</p>
<p>Click<b> Done</b> to dismiss the progress dialog.</p>
<p><b>Recovering a Probe that Has Corrupt Firmware</b></p>
<p>If your probe has invalid firmware loaded to it and is unable to communicate over</p>
<p>Ethernet or USB, you can use the following steps to load a new firmware image</p>
<p>over the serial port.</p>
<p><b>Warning</b></p>
<p>If you have special feature keys installed by Green Hills Support, they</p>
<p>will be removed during recovery and must be re-installed.</p>
<p>1.</p>
<p>Turn your probe off, and connect it to your host machine through the serial</p>
<p>port using a null modem cable.</p>
<p>2.</p>
<p>On your host machine, run MULTI. In the MULTI Launcher, select<b> Utilities</b></p>
<p>→<b> Probe Administrator</b>.</p>
<p>3.</p>
<p>In the<b> Probe Administrator</b> window, select<b> Probe</b> →<b> Recover Probe</b>. A</p>
<p>dialog box opens to confirm that you want to update your firmware. Click<b> OK</b>.</p>
<p>4.</p>
<p>The<b> Update Probe Firmware</b> window opens. Enter the full path to a firmware</p>
<p>file in the<b> Firmware File</b> box, or click the</p>
<p>button and select it in the file</p>
<p>chooser. Click the<b> Flash Probe</b> button.</p>
<p>5.</p>
<p>The<b> Serial Boot</b> dialog box opens. If the correct serial port is not already</p>
<p>displayed, type the name of the serial port to which your probe is connected.</p>
<p>Click<b> OK</b>.</p>
<p>6.</p>
<p>A dialog box opens. Turn your probe on while holding down the<b> User</b> button</p>
<p>(as instructed by the dialog). After turning on your probe, click the<b> OK</b> button.</p>
<p>7.</p>
<p>The<b> Reloading Probe Firmware</b> dialog box opens and displays the status of</p>
<p>the update. When it is finished, click<b> Done</b>.</p>
<p>8.</p>
<p>Power cycle your probe. The new firmware is now loaded and running.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>18</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>The Command Line mpadmin Utility</b></p>
<p><b>mpadmin</b> is a command line utility program with many administrative functions.</p>
<p>You can use it to set or check your configuration settings, to update your firmware,</p>
<p>to load a configuration file, and to test your connection.</p>
<p><b>mpadmin Syntax</b></p>
<p>To invoke<b> mpadmin</b>, enter:</p>
<p><i><b>install_dir</i>/mpadmin</b> [<i>options</i>]...<i> connection firmware_file</i></p>
<p>where:</p>
<p>•</p>
<p><i><b>connection</b></i> is required and specifies the type of connection and, if applicable,</p>
<p>the IP address of the target, as listed in the following.</p>
<p>○</p>
<p>For Green Hills Probe Ethernet connections,<i> connection</i> is the hostname</p>
<p>or IP address of the target.</p>
<p>○</p>
<p>For Green Hills Probe USB connections,<i> connection</i> is<b> -usb</b></p>
<p><b>[<i>serial_number</i>]</b>, where<i> serial_number</i> is optional and can be used to</p>
<p>specify a particular probe if multiple probes are connected to a single host.</p>
<p>If multiple probes are connected over USB, we recommend using a serial</p>
<p>number; if you do not, the probe is selected in a non-deterministic way.</p>
<p>○</p>
<p>For Green Hills serial connections,<i> connection</i> is<b> -serial<i> port</b></i>, where<i> port</i></p>
<p>specifies the serial port connected to the probe.</p>
<p>•</p>
<p><i><b>firmware_file</b></i> is required and specifies the firmware image file supplied by</p>
<p>Green Hills Software.</p>
<p>The<i> firmware_file</i> argument must follow the<i> connection</i> argument.</p>
<p>•</p>
<p><i>options</i> can be any non-conflicting combination of the options listed in the</p>
<p>following section.</p>
<p><i>19</i></p>
<p><i>Green Hills Software</i></p>
<p><i>The Command Line mpadmin Utility</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>mpadmin Options</b></p>
<p><b>mpadmin</b> has the following options:</p>
<p><b>Effect</b></p>
<p><b>Option</b></p>
<p>Loads configuration information from a configuration file into the probe.</p>
<p>Configuration files may set probe feature keys, may set or clear probe</p>
<p>xswitches, and may set probe options. Loading a configuration file may</p>
<p>require the probe to reboot one or more times.</p>
<p><b>-cfgload</b></p>
<p>Saves configuration information from the probe into a configuration file.</p>
<p><b>-cfgsave</b></p>
<p>Fully format the probe's flash on update.</p>
<p><b>-full_format</b></p>
<p>Lists contents of firmware file (no connection).</p>
<p><b>-list</b></p>
<p>Restores all probe settings to factory defaults</p>
<p><b>-reset</b></p>
<p>Prompts the user for common settings to configure the probe, such as IP</p>
<p>address and target type.</p>
<p><b>-setup</b></p>
<p>Updates the probe firmware.</p>
<p><b>-update</b></p>
<p>Runs the update in verbose mode.</p>
<p><b>-v</b></p>
<p><b>Running mpadmin's Interactive Setup Utility</b></p>
<p><b>mpadmin</b> includes a setup utility that prompts you for common probe settings and</p>
<p>reboots the probe. To run the utility and configure a probe, type the following at</p>
<p>the command line:</p>
<p>&gt; mpadmin -setup<i> connection</i></p>
<p>For example, to configure a Green Hills Probe over USB, use:</p>
<p>&gt; mpadmin -setup -usb</p>
<p><b>Loading and Saving Configuration Files</b></p>
<p>You can use<b> mpadmin</b> to load and save configuration files that store your probe's</p>
<p>settings. To save a configuration file<i><b> mysetup</i>.ghpcfg</b>, type the following at the</p>
<p>command line:</p>
<p>&gt; mpadmin -cfgsave<i> connection mysetup</i>.ghpcfg</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>20</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p>To load the configuration file<i><b> mysetup</i>.ghpcfg</b>, type the following at the command</p>
<p>line:</p>
<p>&gt; mpadmin -cfgload<i> connection mysetup</i>.ghpcfg</p>
<p>For example, to save the settings from a probe on the network with the hostname</p>
<p>probe_1</p>
<p>into<b> config.ghpcfg</b> and load them into a probe connected to your host</p>
<p>over USB, type the following commands:</p>
<p>&gt; mpadmin -cfgsave probe_1 config.ghpcfg</p>
<p>&gt; mpadmin -cfgload -usb config.ghpcfg</p>
<p><b>-cfgsave</b> and<b> -cfgload</b> are not supported over serial port connections.</p>
<p>Loading a<b> .ghpcfg</b> file may reboot the probe, depending on the contents of the file.</p>
<p><b>Note</b></p>
<p>You can load legacy<b> .cfg</b> files using<b> mpadmin</b> in the same manner as</p>
<p><b>.ghpcfg</b> files. Loading a<b> .cfg</b> file never reboots the probe, so you may</p>
<p>need to do so manually to make sure all settings take effect.</p>
<p><b>Updating Firmware with mpadmin</b></p>
<p>When new versions are available, you can update your Green Hills Probe firmware.</p>
<p>Firmware updates usually include new features, add new CPU support, and/or</p>
<p>enhance the performance of the probe. To update the probe's firmware through the</p>
<p>serial, USB, or Ethernet port, type the following at the command line:</p>
<p>&gt; mpadmin -update<i> connection firmware</i>.frm</p>
<p>To update the probe over an Ethernet or USB connection, a valid firmware image</p>
<p>must already be present and running on the probe, and the probe must be able to</p>
<p>boot correctly. Otherwise, you must update the firmware through the serial port.</p>
<p>For example, if your probe is booting properly and you want to update the firmware</p>
<p>to the image<b> new_firmware.frm</b> over USB, type the following at the command</p>
<p>line:</p>
<p>&gt; mpadmin -update -usb new_firmware.frm</p>
<p><i>21</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Updating Firmware with mpadmin</i></p>
<h1 style="page-break-before:always; "></h1>
<p>If the probe does not boot correctly and you need to update the firmware over the</p>
<p>serial port</p>
<p>com1</p>
<p>:</p>
<p>•</p>
<p>Type the following command:</p>
<p>&gt; mpadmin -update -serial com1 new_firmware.frm</p>
<p>•</p>
<p>Follow the instructions displayed by<b> mpadmin</b> by turning the probe off and</p>
<p>on while holding down the<b> User</b> button. This causes the probe to boot from</p>
<p>code received on the serial port, which allows it to be reprogrammed even if</p>
<p>there is not a valid image present on the probe.</p>
<p>•</p>
<p>After the programming is completed, reboot the probe.</p>
<p>•</p>
<p>Verify that the update did not change or erase probe settings using<b> mpadmin</b></p>
<p>or a probe console. Make sure to check your settings before attempting to debug</p>
<p>any programs with your probe.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>22</i></p>
<p><i>Chapter 1. Administering Your Probe</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2</b></p>
<p><b>Configuring Target</b></p>
<p><b>Resources</b></p>
<p><b>Contents</b></p>
<p>Customizing MULTI Board Setup Scripts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>24</p>
<p>Customizing Linker Directives Files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>31</p>
<p>Testing Target Resources . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>31</p>
<p>Using Timestamps to Collect Real World Timing Information . . . . . . . . . . . . .</p>
<p>36</p>
<h1 style="page-break-before:always; "></h1>
<p>Every Top Project contains a<b> Target Resources</b> project (<b>tgt/resources.gpj</b>) that</p>
<p>holds the files that help MULTI connect to and configure your target board,</p>
<p>including:</p>
<p>•</p>
<p>a<i> board setup script</i> — MULTI uses this file to initialize your target before</p>
<p>downloading and debugging a program. The default board setup script is</p>
<p><b>mpserv_standard.mbs</b>.</p>
<p>•</p>
<p><i>linker directives files</i> — The linker uses one of these files to determine how</p>
<p>how to link your executable and load it into memory. By default, your program</p>
<p>is linked to and executes out of RAM, using the information in</p>
<p><b>standalone_ram.ld</b>.</p>
<p>If your target board is not listed in the<b> Project Wizard</b> or you experience problems</p>
<p>when downloading and debugging programs, you may need to customize these</p>
<p>files. This section provides customization guidelines and diagnostics that you can</p>
<p>use to make sure that your target resources are configured correctly.</p>
<p><b>Customizing MULTI Board Setup Scripts</b></p>
<p>A board setup script is a file that MULTI uses to initialize your target before</p>
<p>downloading and debugging a program. The default board setup script is</p>
<p><b>mpserv_standard.mbs</b>, located in your target resources project.</p>
<p>Setup scripts in MULTI use the following commands and conventions:</p>
<p>•</p>
<p>The MULTI scripting language described in the documentation about MULTI</p>
<p>scripts in the<i> MULTI: Scripting</i> book.</p>
<p>•</p>
<p>Commands described in the<i> MULTI: Debugging Command Reference</i> book.</p>
<p>You can find an overview of useful board setup script commands in “Useful</p>
<p>Commands for MULTI Board Setup Scripts” on page 29.</p>
<p>•</p>
<p>Additional probe commands listed in Chapter 5, “Probe Command Reference”</p>
<p>on page 173. When specifying any of these additional commands, you must</p>
<p>prepend the<b> target</b> command.</p>
<p><b>Note</b></p>
<p>If you want to use a legacy script generated by MULTI 4 or older, see</p>
<p>“Using Legacy (.dbs) Setup Scripts When Connecting to Your Target”</p>
<p>on page 56.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>24</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p>To edit a MULTI board setup script to make it suitable for your system:</p>
<p>1.</p>
<p>Obtain your board and processor's documentation. You will need it to gather</p>
<p>information about memory resources, registers, interrupts, etc.</p>
<p>2.</p>
<p>Double-click<b> mpserv_standard.mbs</b> in your target resources project to open</p>
<p>it in an editor.</p>
<p>3.</p>
<p>Determine whether your board can initialize itself, and then proceed as follows:</p>
<p>•</p>
<p>If your target does not have a valid ROM image that initializes the target</p>
<p>upon reset, skip to the next step.</p>
<p>•</p>
<p>If your target has a valid ROM image that initializes the target upon reset,</p>
<p>comment out the contents of the MULTI board setup script you are editing,</p>
<p>using the hash character ('</p>
<p>#</p>
<p>'). Replace the script with the command</p>
<p>sequence shown in the following (or an equivalent command sequence).</p>
<p>// Reset and halt the board</p>
<p>reset</p>
<p>// Let the ROM image run the target</p>
<p>c</p>
<p>// Give the ROM image 3 seconds to set up the board</p>
<p>wait -time 3000</p>
<p>// Halt the board to get ready for debugging</p>
<p>halt</p>
<p><b>Note</b></p>
<p>You may need to alter the<b> wait</b> command, depending on how</p>
<p>long your board takes to set itself up.</p>
<p>If you need to initialize your board further, continue to the next step.</p>
<p>Otherwise, save the setup script and skip to “Customizing Linker</p>
<p>Directives Files” on page 31.</p>
<p>4.</p>
<p>Verify that your setup script begins with a command that resets the target, such</p>
<p>as the MULTI Debugger<b> reset</b> or debug server<b> target tr</b> commands. You must</p>
<p>halt any target before beginning any debugging activity, or the state of the</p>
<p>target might be unpredictable.</p>
<p>5.</p>
<p>Disable any interrupt sources that can disrupt the setup or destabilize the board's</p>
<p>memory. The following steps provide a general procedure for disabling interrupt</p>
<p>sources:</p>
<p><i>25</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Customizing MULTI Board Setup Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<p>a.</p>
<p>Determine whether your processor has any interrupt sources that might</p>
<p>disturb your debugging session.</p>
<p>b.</p>
<p>Using your processor's documentation, determine which registers affect</p>
<p>interrupt sources. Then, determine the values those registers must have</p>
<p>to disable the interrupt sources.</p>
<p>c.</p>
<p>Enter the commands necessary to configure your memory resources into</p>
<p>your setup script (see “Useful Commands for MULTI Board Setup</p>
<p>Scripts” on page 29 for more information).</p>
<p>6.</p>
<p>Configure your target's memory controller based on your board's memory</p>
<p>resources.</p>
<p>If your memory controller and memory resources are already properly</p>
<p>configured, skip to item number 6. The following are general steps for</p>
<p>configuring memory using a setup script:</p>
<p>a.</p>
<p>Determine what memory resources your board has by answering the</p>
<p>following:</p>
<p>•</p>
<p>How fast and how big is the board's memory, and where do you want</p>
<p>to map it?</p>
<p>•</p>
<p>Does the board have SRAM? If so, where is it?</p>
<p>•</p>
<p>Does the board have DRAM? If so, where is it, and where is the</p>
<p>DRAM controller for it?</p>
<p>•</p>
<p>Does the DRAM controller need refresh timing information or</p>
<p>knowledge of any special modes the DRAM chips may have, such</p>
<p>as Synchronous DRAM?</p>
<p>•</p>
<p>Does the board require a peripheral memory base register to access</p>
<p>memory controllers or other on-chip peripherals?</p>
<p>b.</p>
<p>If your processor requires you to set up the base register before you can</p>
<p>access your memory controllers or other on-chip peripherals, set the base</p>
<p>register.</p>
<p>c.</p>
<p>Using your processor's documentation and memory resources, determine</p>
<p>which memory-related registers you must set. Additionally, determine</p>
<p>what values those registers must have to properly configure your memory</p>
<p>resources.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>26</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p>d.</p>
<p>Enter the commands necessary to configure your memory resources into</p>
<p>your setup script (see “Useful Commands for MULTI Board Setup</p>
<p>Scripts” on page 29 for more information).</p>
<p>7.</p>
<p>Save your setup script. For information about specifying and running the script,</p>
<p>see the documentation about specifying setup scripts in the<i> MULTI: Debugging</i></p>
<p>book.</p>
<p><i>27</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Customizing MULTI Board Setup Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Additional Considerations for High-Speed Serial Trace</b></p>
<p>If your target uses high speed serial trace (HSST), and is not available in the New</p>
<p>Project Wizard, you may need to update your setup script further to initialize trace</p>
<p>properly. A setup script for an HSST target should be organized as follows:</p>
<p>reset</p>
<p>// configure memory and peripherals</p>
<p>target set hsst_rx_lanes<i> lanes</i></p>
<p>target tracereg aurora_linerate=<i>rate</i></p>
<p>target tracereg aurora_rx_reset=1</p>
<p>// reset and bring up the target side of the HSST link</p>
<p>where:</p>
<p>•</p>
<p><i>lanes</i> is the number of</p>
<p>rx</p>
<p>lanes in the connection</p>
<p>•</p>
<p><i>rate</i> is the data rate of each lane in Mbps</p>
<p>This information, along with the information about how to start the target side of</p>
<p>the link, should be available in the documentation for your hardware.</p>
<p>Useful diagnostic functions for HSST are included in your probe installation at</p>
<p><i><b>comp_install</i>/ghprobe/hsst_debug.rc</b>. To include these functions in your setup</p>
<p>script for troubleshooting problems, put the following line at the top of the script:</p>
<p>&lt;<i> comp_install</i>/ghprobe/hsst_debug.rc</p>
<p>For more information about these functions, see the comments in<b> hsst_debug.rc</b>.</p>
<p><b>Note</b></p>
<p>MULTI tests the lane and line rate settings immediately after target reset,</p>
<p>and disables trace if the Aurora link is not functional. If you previously</p>
<p>had trace enabled, you may need to re-enable trace after running your</p>
<p>board setup script.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>28</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Testing Individual Commands</b></p>
<p>If you have connected MULTI to your target (see Chapter 3, “Probe Connection</p>
<p>Reference” on page 39), you can use the MULTI Debugger's<b> cmd</b> pane to confirm</p>
<p>the success or failure of each command individually instead of trying to debug an</p>
<p>entire setup script.</p>
<p>Some commands cannot be tested individually because they must be executed within</p>
<p>a certain time period in relation to other commands. In this case, put the relevant</p>
<p>commands into a small script and run the script from the Debugger's<b> cmd</b> pane</p>
<p>using the<b> &lt;</b> command, or type them in the same command line, separated by</p>
<p>semicolons (</p>
<p>;</p>
<p>).</p>
<p><b>Useful Commands for MULTI Board Setup Scripts</b></p>
<p>You can find a complete list of MULTI commands in the<i> MULTI: Debugging</i></p>
<p><i>Command Reference</i> book. However, only a small subset of these commands are</p>
<p>useful for most setup scripts. The list below outlines these commands.</p>
<p><b>addhook</b></p>
<p>Adds a hook to a Debugger action.</p>
<p><b>c</b></p>
<p>Continues a stopped process.</p>
<p><b>clearhooks</b></p>
<p>Removes hooks.</p>
<p><b>eval</b></p>
<p>Evaluates an expression without printing the result.</p>
<p><b>halt</b></p>
<p>Halts the current process.</p>
<p><b>memread</b></p>
<p>Performs a sized memory read from the target, and prints the result.</p>
<p><b>memwrite</b></p>
<p>Performs a sized memory write to the target.</p>
<p><b>reset</b></p>
<p>Resets the target.</p>
<p><i>29</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Testing Individual Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>target</b></p>
<p>Transmits commands directly to the debug server,<b> mpserv</b>.</p>
<p>The commands available to<b> mpserv</b> are described in Chapter 5, “Probe Command Reference”</p>
<p>on page 173. For example, to pass the<b> tr</b> command to<b> mpserv</b> using the Debugger, type:</p>
<p>target tr</p>
<p>To pass the output of a MULTI command to a debug server command, use the following syntax:</p>
<p>target<i> command</i> %EVAL{<i>multi_command</i>}</p>
<p><b>wait</b></p>
<p>Blocks command processing.</p>
<p>$<i>register</i> =<i> value</i></p>
<p>Sets a register named<i> register</i> on your target board to<i> value</i>. For example:</p>
<p>&gt; $ivor0 = 0x10</p>
<p>$<i>register</i>.<i>field</i> =<i> value</i></p>
<p>Sets a field in<i> register</i> to<i> value</i>. For example:</p>
<p>&gt; $CPSR.F = 1</p>
<p>If the name you specify for<i> register</i> is not a named register, MULTI creates a new variable using</p>
<p>the name provided. For example, the following command creates a new variable called</p>
<p>$FOO</p>
<p>and sets its value to</p>
<p>6</p>
<p>:</p>
<p>&gt; $FOO = 6</p>
<p>You can also use C-style expressions for complex memory manipulation. For example:</p>
<p>&gt; *((unsigned int *) 0x8000) |= 0x10</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>30</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Customizing Linker Directives Files</b></p>
<p>A linker directives (<b>.ld</b>) file controls how the linker links your executable and loads</p>
<p>it into memory. When you create a project for a target running Stand-Alone programs</p>
<p>using the<b> Project Wizard</b>, it creates several linker directives files and places them</p>
<p>in the target resources project (<b>tgt/resources.gpj</b>). The linker links any project you</p>
<p>add to your Top Project using one of these files, depending on that project's<b> Program</b></p>
<p><b>Layout</b> setting.</p>
<p>By default, the<b> Project Wizard</b> sets the<b> Program Layout</b> setting for new</p>
<p>Stand-Alone program projects to<b> Link to and Execute out of RAM</b>. Because of</p>
<p>this setting, the linker links the program using the<b> standalone_ram.ld</b> linker</p>
<p>directives file in your target resources project. There is another reference to this file</p>
<p>as<b> tgt/standalone_ram.ld</b> inside your program's project.</p>
<p><b>Note</b></p>
<p>You can change the<b> Program Layout</b> for your project by right-clicking</p>
<p>the project and choosing<b> Configure</b>. If you change the<b> Program Layout</b>,</p>
<p>you will need to edit a different linker directives file.</p>
<p>To edit your linker directives file:</p>
<p>1.</p>
<p>In the Project Manager, double-click the linker directives file in your program's</p>
<p>project to open it in an editor.</p>
<p>2.</p>
<p>Modify and save the edited linker directives file.</p>
<p>3.</p>
<p>Select the project (<b>.gpj</b>) file in the Project Manager and click</p>
<p>to rebuild it.</p>
<p>For more information about linker directives files, see the<i> MULTI: Building</i></p>
<p><i>Applications</i> book for your processor family.</p>
<p><b>Testing Target Resources</b></p>
<p>After you have created your new setup script, open your project in the MULTI</p>
<p>Debugger. At the bottom of the Debugger window is the<b> cmd</b> pane, which you can</p>
<p>use to send commands to MULTI. To run your project's default setup script:</p>
<p>•</p>
<p>In the<b> cmd</b> pane, type</p>
<p>setup</p>
<p>.</p>
<p><i>31</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Customizing Linker Directives Files</i></p>
<h1 style="page-break-before:always; "></h1>
<p>After running this command, test that your target is correctly initialized by</p>
<p>performing the diagnostics in the following sections.</p>
<p><b>Testing Register Access</b></p>
<p>To test the probe's ability to access your target's registers:</p>
<p>1.</p>
<p>In the Debugger's<b> cmd</b> pane, enter the following command to halt your target:</p>
<p>&gt; target th</p>
<p>target</p>
<p>is required because</p>
<p>th</p>
<p>is a debug server command, meaning that it is</p>
<p>sent directly to your probe and is not interpreted by MULTI.</p>
<p>2.</p>
<p>Run the register access test by entering the following command:</p>
<p>&gt; target vr</p>
<p>This command writes to all general purpose registers and reads back the values</p>
<p>to verify that they have changed. If the test is successful, you should see the</p>
<p>following message:</p>
<p>Testing registers. [100%]</p>
<p>Test passed.</p>
<p>The test was not successful if you see a number lower than</p>
<p>100%</p>
<p>.</p>
<p>3.</p>
<p>Perform a JTAG stress test by repeating the test 100 times with the following</p>
<p>command:</p>
<p>&gt; target vr 100</p>
<p>If the test does not pass, you may need to lower your JTAG clock speed. If</p>
<p>you continue to have problems, it is likely that there is a problem with your</p>
<p>debug connection.</p>
<p>4.</p>
<p>If register access is working, enter the following command to make sure that</p>
<p>you can read all named registers:</p>
<p>&gt; target rr *</p>
<p>If the output from this command is reasonable, the test was successful. If all</p>
<p>registers have a value of</p>
<p>0</p>
<p>, your target may be held in reset.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>32</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p>After running the<b> vr</b> diagnostic, you should also test that you can access an explicit</p>
<p>register. To test your ability to access a register:</p>
<p>1.</p>
<p>Select a general purpose register (for example,</p>
<p>r1</p>
<p>).</p>
<p>2.</p>
<p>Read the register:</p>
<p>&gt; $r1</p>
<p>3.</p>
<p>Write a different value to the same register:</p>
<p>&gt; $r1=0xdeadbeef</p>
<p>4.</p>
<p>Read the register again and see if it has changed to the new value. If the new</p>
<p>value is incorrect, but some of the bits match, check the definition of that</p>
<p>register. It is possible that some of the bits in the register are reserved and the</p>
<p>test was successful.</p>
<p><b>Testing Memory Access</b></p>
<p>To test the your ability to access the target's memory:</p>
<p>1.</p>
<p>If you have not run your setup script, enter</p>
<p>setup</p>
<p>in the Debugger's<b> cmd</b> pane.</p>
<p>2.</p>
<p>Select a location in memory where you plan to download a program (for</p>
<p>example,</p>
<p>0x8000</p>
<p>).</p>
<p>3.</p>
<p>Read the memory at this location by entering the following command:</p>
<p>&gt; memread 4 0x8000</p>
<p>4.</p>
<p>Write a different value to the same memory location:</p>
<p>&gt; memwrite 4 0x8000 0xdeadbeef</p>
<p>5.</p>
<p>Read the memory location again and see if it has changed to the new value. If</p>
<p>it has, the debugging interface is successfully accessing your target's memory.</p>
<p>If you can successfully read and write memory at a single address, test a greater</p>
<p>range of addresses using the<b> vm</b> diagnostic. For example, use the following command</p>
<p>to test 16 KB of memory starting at</p>
<p>0x8000</p>
<p>, using 4-byte accesses:</p>
<p>target vm 4 0x8000 0x4000</p>
<p><i>33</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Testing Memory Access</i></p>
<h1 style="page-break-before:always; "></h1>
<p>If<b> vm</b> passes, you should see</p>
<p>test passed</p>
<p>in its output. Try repeating the test</p>
<p>with different access sizes (1, 2, 4, and 8). If it fails, use the following steps to</p>
<p>determine if it is the read or the write that is causing the failure:</p>
<p>1.</p>
<p>Read the same range of memory multiple times using the<b> md</b> command and</p>
<p>compare the results. For example, enter the following command multiple times:</p>
<p>&gt; target md 0x8000 0x4000</p>
<p>If the test output is different each time, the read is failing.</p>
<p>2.</p>
<p>If the data is the same each time, it is likely that the write is failing. To</p>
<p>determine if certain writes fail, write to the memory using the<b> mf</b> command</p>
<p>and read it back using<b> md</b>. Try writing both zero and non-zero values. For</p>
<p>example:</p>
<p>&gt; target mf 0x8000 0x100 0x0</p>
<p>&gt; target md 0x8000 0x100</p>
<p>&gt; target mf 0x8000 0x100 0xffffff</p>
<p>&gt; target md 0x8000 0x100</p>
<p>If you find that accesses to memory ending in</p>
<p>0x0</p>
<p>to</p>
<p>0x3</p>
<p>work, but accesses</p>
<p>ending in</p>
<p>0x4</p>
<p>to</p>
<p>0x7</p>
<p>are incorrect, you may need to configure the<b> 32_bit_bus</b></p>
<p>option. For more information, see “PowerPC” on page 124.</p>
<p>3.</p>
<p>If the writes are all failing, try writing just</p>
<p>0x20</p>
<p>bytes at a time. If that works,</p>
<p>double this number until it fails. If this happens, it may indicate that there is</p>
<p>a stuck address bit or a memory controller initialization problem that causes</p>
<p>the same data to be read back from multiple addresses.</p>
<p><b>Testing Run Control</b></p>
<p>After confirming that you can access your target's registers and memory, confirm</p>
<p>that run control is functioning by performing the following tests:</p>
<p>1.</p>
<p>Make sure that exceptions and external interrupts are disabled on your target.</p>
<p>2.</p>
<p>In the Debugger's<b> cmd</b> pane, type the following command:</p>
<p>&gt; target vc<i> address</i></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>34</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p>where<i> address</i> is a location in memory to which<b> vc</b> can download a small test</p>
<p>program. This command runs several different tests to verify that run control</p>
<p>works.</p>
<p>3.</p>
<p>If<b> vc</b> passes, run control is probably working. If it fails, try running each</p>
<p>individual test to determine which part of the test is failing. These test</p>
<p>commands, documented in “Test Commands” on page 212, are:</p>
<p>•</p>
<p>ve<i> address</i></p>
<p>— verifies endianness.</p>
<p>•</p>
<p>vrh<i> address</i></p>
<p>— verifies the probe's ability to run and halt the target.</p>
<p>•</p>
<p>vsi<i> address</i></p>
<p>— verifies the probe's ability to single step the target.</p>
<p>•</p>
<p>vbp<i> address</i></p>
<p>— verifies the probe's ability to set software breakpoints.</p>
<p>•</p>
<p>vbph<i> address</i></p>
<p>— verifies the probe's ability to set hardware execute</p>
<p>breakpoints.</p>
<p>If these tests seem to fail randomly, the JTAG clock speed may be set too high. Try</p>
<p>lowering the clock speed using the<b> set clock</b> command and running the tests again.</p>
<p><b>Note</b></p>
<p>If your target does not have hardware breakpoints,<b> vc</b> does not test them.</p>
<p>If your target has only one hardware breakpoint that is reserved to enable</p>
<p>software breakpoints,<b> vc</b> does not test hardware breakpoints. If you disable</p>
<p>software breakpoints on one of these targets (for example, with</p>
<p>disable_swbp</p>
<p>),<b> vc</b> tests hardware breakpoints but not software</p>
<p>breakpoints.</p>
<p><b>Troubleshooting Run Control Problems</b></p>
<p>This section covers common problems you may encounter when testing run control.</p>
<p><b>All Run Control Tests Pass Except vbp and vbph</b></p>
<p>If<b> ve</b>,<b> vrh</b>, and<b> vsi</b> pass, but<b> vbp</b> and<b> vbph</b> do not, try turning off the instruction</p>
<p>cache and putting the data caches into write-through mode.</p>
<p><i>35</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Troubleshooting Run Control Problems</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>vc Causes Exceptions On Some Power Architecture Targets</b></p>
<p>If you get an exception when running<b> vc</b> on an 85xx, 55xx, 56xx, P1xxx, or P2xxx,</p>
<p>you may need to set the</p>
<p>MSR[SPE]</p>
<p>bit.</p>
<p>If your target is a 55xx or 56xx, the address you specify for<b> vc</b> must be located in</p>
<p>memory where VLE is disabled.</p>
<p><b>vc or vrh Issues Error 13</b></p>
<p>If you get an error similar to the following when running<b> vc</b> or<b> vrh</b>:</p>
<p>ERROR 13 (test failed): PC (0x00000500) &lt; base address</p>
<p>(0x00009000)</p>
<p>the probe is indicating that the program counter is outside the expected range. This</p>
<p>happens when an exception takes place, causing the processor to jump to the</p>
<p>exception vector. It may also indicate that the registers do not match, because they</p>
<p>were overwritten by the exception vector:</p>
<p>ERROR 13 (test failed): Mask register (0) was corrupted.</p>
<p>It should be 0xf8d0f1a1 but it is 0x000032d8.</p>
<p>If you receive either of these errors, disable external interrupts and try running the</p>
<p>test again.</p>
<p><b>Tip</b></p>
<p>On Power Architecture, external interrupts are enabled by the</p>
<p>MSR[EE]</p>
<p>bit (</p>
<p>0x8000)</p>
<p>.</p>
<p><b>Using Timestamps to Collect Real World Timing Information</b></p>
<p>When you collect trace data from your target using the SuperTrace probe, MULTI</p>
<p>trace analysis tools normally display the duration of function calls in terms of the</p>
<p>number of instructions executed for each call. While this information is very useful</p>
<p>for uncovering some inefficiencies, it does not provide real world time measurements</p>
<p>that show when one event happens relative to another.<i> Timestamps</i> provide timing</p>
<p>information for each event, including time where the target is sleeping or halted.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>36</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Because they describe events in terms of when they happen, timestamps are</p>
<p>especially useful for:</p>
<p>•</p>
<p>debugging performance problems with asynchronous control flow</p>
<p>•</p>
<p>determining time intervals between specific events</p>
<p>For example, timestamps might help you determine how long your target is left</p>
<p>waiting on an interrupt, or whether a specific interrupt is happening in regular or</p>
<p>irregular intervals.</p>
<p>Timestamp information is accurate to about 1 microsecond, but varies by target. It</p>
<p>is collected using the probe's trace clock, which has a crystal error of +/- 50 ppm</p>
<p>and may cause visible differences in data collected over very long periods of time.</p>
<p>It is displayed in the<b> Trace List</b> in two columns: the amount of time elapsed during</p>
<p>the event, and the total time elapsed since the probe began collecting trace data. On</p>
<p>average, trace data with timestamps uses 15-20% more of the trace buffer than trace</p>
<p>data without timestamps.</p>
<p>To enable timestamps:</p>
<p>1.</p>
<p>Open the<b> Trace Options</b> window, select the<b> Collection</b> tab, and click the</p>
<p><b>Target Specific Options</b> button.</p>
<p>2.</p>
<p>Select the<b> Timestamps</b> option and click<b> OK</b>.</p>
<p>The timestamp clock resets each time it begins collecting trace data.</p>
<p>Targets usually group instructions and buffer trace data. Grouped instructions are</p>
<p>all stamped with the same time. In the trace list, the first instruction in the group</p>
<p>displays the time difference from the previous instruction, and the remaining</p>
<p>instructions in the group all display a difference of</p>
<p>0</p>
<p>. For this reason, timestamps</p>
<p>are not particularly helpful for determining the specific run time of individual</p>
<p>instructions; they are much better suited for finding the wall-clock time between</p>
<p>bigger picture events.</p>
<p><b>Note</b></p>
<p>Some ETM implementations keep a single byte of trace data in their</p>
<p>internal buffers instead of outputting it over the trace port. This behavior</p>
<p>results in inaccurate timestamps near points where trace is enabled and</p>
<p>disabled. When using trace filters, there are many points at which trace</p>
<p><i>37</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Timestamps to Collect Real World Timing Information</i></p>
<h1 style="page-break-before:always; "></h1>
<p>is enabled or disabled, which increases the likelihood of inaccurate</p>
<p>timestamps. Reducing the port size to 8 bits may help, but in general,</p>
<p>using timestamps with filters may be unreliable on these ETM</p>
<p>implementations.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>38</i></p>
<p><i>Chapter 2. Configuring Target Resources</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3</b></p>
<p><b>Probe Connection Reference</b></p>
<p><b>Contents</b></p>
<p>Creating a Standard Connection Method for Green Hills Debug Probe (mpserv)</p>
<p>Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>40</p>
<p>The Green Hills Debug Probe (mpserv) Connection Editor . . . . . . . . . . . . . . . .</p>
<p>41</p>
<p>Using Your New Connection Method to Connect . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>46</p>
<p>Using Custom Connection Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>47</p>
<p>Specifying Setup Scripts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>55</p>
<p>Probe Run Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>59</p>
<p>Serial Port Forwarding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>60</p>
<p>Using External Trace Triggers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>61</p>
<p>General Purpose IO Port Drive Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>63</p>
<h1 style="page-break-before:always; "></h1>
<p>Before you can begin debugging with MULTI, you must first connect MULTI to</p>
<p>the target through a<i> debug server</i> that runs on the host. The debug server that</p>
<p>supports Green Hills Probe and SuperTrace Probe connections is called<b> mpserv</b>.</p>
<p><b>mpserv</b> is provided in your MULTI installation. This chapter explains how to</p>
<p>connect MULTI to your target using<b> mpserv</b>.</p>
<p>MULTI allows you to create and save<i> Connection Methods</i> that correspond to your</p>
<p>particular host, target systems, and your desired debugging options. Once you have</p>
<p>created at least one Connection Method, you can connect to a target by selecting a</p>
<p>Connection Method from a list of available methods in the<b> Connection Chooser</b></p>
<p>or the<b> Connection Organizer</b>.</p>
<p>For a full explanation of how to create and work with Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p>The following sections describe how to configure the specific settings available for</p>
<p>connections to Green Hills Debug Probes.</p>
<p><b>Creating a Standard Connection Method for Green Hills Debug</b></p>
<p><b>Probe (mpserv) Connections</b></p>
<p>To create a Connection Method for your Green Hills Debug Probe:</p>
<p>1.</p>
<p>Click</p>
<p>from the MULTI Launcher and select<b> Connect</b> to open the<b> Connection</b></p>
<p><b>Chooser</b>:</p>
<p><b>Note</b></p>
<p>You can also open the Connection Chooser from the MULTI Project</p>
<p>Manager or Debugger. For instructions, see the documentation about</p>
<p>connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>40</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>2.</p>
<p>Click</p>
<p>to open the<b> Create New Connection Method</b> dialog box.</p>
<p>3.</p>
<p>Enter a name for your Connection Method (for example,</p>
<p>Green Hills Probe</p>
<p>to my board</p>
<p>).</p>
<p>4.</p>
<p>Select<b> Green Hills Debug Probe (mpserv)</b> from the drop-down list of</p>
<p>connection types.</p>
<p>5.</p>
<p>Click<b> Create</b>.</p>
<p>The<b> Green Hills Debug Probe (mpserv) Connection Editor</b> for your new</p>
<p>Connection Method opens. You must use the fields and settings described in the</p>
<p>next section to edit your Connection Method before you use it for the first time.</p>
<p><b>The Green Hills Debug Probe (mpserv) Connection Editor</b></p>
<p>A<b> Connection Editor</b> is a target-specific GUI that allows you to configure and edit</p>
<p>Connection Methods. The<b> Connection Editor</b> window for Standard Connection</p>
<p>Methods is divided into the following four sections:</p>
<p>•</p>
<p>General information</p>
<p>•</p>
<p>Target-specific fields</p>
<p>•</p>
<p>Command line viewer</p>
<p>•</p>
<p>Action buttons</p>
<p>The command line viewer, the action buttons, and the fields that appear in the</p>
<p>general information section, are consistent across all<b> Connection Editors</b>, and are</p>
<p>described in detail in the documentation about the Connection Editor in the<i> MULTI:</i></p>
<p><i>Configuring Connections</i> book.</p>
<p><i>41</i></p>
<p><i>Green Hills Software</i></p>
<p><i>The Green Hills Debug Probe (mpserv) Connection Editor</i></p>
<h1 style="page-break-before:always; "></h1>
<p>In addition to these generic fields that appear on all Connection Editors for Standard</p>
<p>Connection Methods, the<b> Green Hills Debug Probe (mpserv) Connection Editor</b></p>
<p>includes that provide settings and options specific to your target and host operating</p>
<p>systems.</p>
<p>When the<b> Connection Editor</b> is first displayed after you create a new Connection</p>
<p>Method, the settings and options are set to default values. Settings and options that</p>
<p>are not available on your host operating system may appear dimmed. Some of the</p>
<p>fields may require user input before the Connection Method can be used.</p>
<p><b>Green Hills Debug Probe (mpserv) Connection Settings</b></p>
<p>Specifies an Ethernet/IP connection.</p>
<p>If you select an Ethernet connection, you must provide a</p>
<p>hostname or IP address in the<b> Probe Name or IP Address</b> text</p>
<p>field.</p>
<p><b>Ethernet/IP Connection</b></p>
<p>Specifies the hostname or IP address of your Green Hills Probe.</p>
<p>This field is only available if you select the Ethernet/IP radio</p>
<p>button.</p>
<p><b>Probe Name or IP Address</b></p>
<p>Specifies a USB connection. This button is only enabled if you</p>
<p>are running Windows.</p>
<p><b>USB Connection</b></p>
<p>Specifies the serial number of your probe to determine which</p>
<p>probe to use if multiple probes are connected to your computer</p>
<p>over USB.</p>
<p><b>Probe Serial Number</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>42</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Green Hills Debug Probe (mpserv) Probe Config Settings</b></p>
<p>Specifies the probe configuration file to load onto the probe</p>
<p>when the connection starts.<b> Note:</b> Some probe configuration</p>
<p>files require rebooting the probe. Loading these files at</p>
<p>connection is only supported with MULTI 7 and later.</p>
<p><b>Probe Configuration File</b></p>
<p>For more information about probe configuration files, see “Loading and Saving</p>
<p>Configuration Files” on page 20.</p>
<p><b>Green Hills Debug Probe (mpserv) INTEGRITY Settings</b></p>
<p><i>43</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Debug Probe (mpserv) Probe Config Settings</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Specifies the run-mode connection that the</p>
<p>Debugger automatically attempts to establish</p>
<p>when you boot an INTEGRITY kernel via the</p>
<p>current freeze-mode connection.</p>
<p><b>Run-Mode Partner Connection</b></p>
<p>For more information about this connection mode for an INTEGRITY system, see</p>
<p>the documentation about automatically establishing run-mode connections in the</p>
<p><i>MULTI: Debugging</i> book.</p>
<p>For information about Probe Run Mode, a feature that allows you to create a</p>
<p>run-mode partner when your target does not have Ethernet or serial drivers, see</p>
<p>“Probe Run Mode” on page 59.</p>
<p><b>Green Hills Debug Probe (mpserv) Advanced Settings</b></p>
<p><b>Warning</b></p>
<p>Use this tab carefully, since changing the advanced options from their</p>
<p>default settings can cause problems with your connection.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>44</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Limits the collection of debug information to a subset of cores.</p>
<p>This option allows you to use multiple instances of MULTI to</p>
<p>connect to different subsets of cores in a multi-core system,</p>
<p>including connection to a single core.</p>
<p>If you select this option, you must enter core ID(s) in the text</p>
<p>field. For information about specifying cores ID(s) see</p>
<p><b>-force_coreid</b> in “Options for Custom Connection Methods”</p>
<p>on page 49. Use the probe command<b> tl</b> to view a list of cores</p>
<p>and their corresponding IDs.</p>
<p>This option is only supported by the Green Hills Probe.</p>
<p><b>Force core ID#</b></p>
<p>Enables host-based system calls.</p>
<p>If this box is selected, system calls are enabled and are</p>
<p>implemented with a single software breakpoint. This box is</p>
<p>checked by default.</p>
<p>If you are running from ROM and software breakpoints cannot</p>
<p>be used, it may be desirable to disable host-based system calls</p>
<p>by clearing this box.</p>
<p><b>Service system calls</b></p>
<p>If this box is selected, the probe will enforce that the cores are</p>
<p>either all running or all halted, which is useful for debugging</p>
<p>SMP and other multicore systems. Run and halt will affect all</p>
<p>cores, and a breakpoint hit on one core will cause all other cores</p>
<p>to halt. We recommend selecting this option if you plan to use</p>
<p>software breakpoints in code that is shared by multiple cores.</p>
<p>This feature is only supported with MULTI 7 and later. The</p>
<p>feature is currently only supported with ARM Cortex-A and</p>
<p>POWER e500mc, e5500, and e6500 targets. This option will be</p>
<p>ignored if connecting to a single core.</p>
<p>Use the<b> Force Core ID</b> field to limit this behavior to a subset</p>
<p>of cores.</p>
<p><b>Halt cores synchronously</b></p>
<p>Controls which sections of your program will be downloaded to</p>
<p>the target, as follows:</p>
<p>•</p>
<p><b>Text</b> — If this box is checked, the</p>
<p>.text</p>
<p>(code) sections</p>
<p>of your program will be downloaded to the target. This box</p>
<p>is checked by default.</p>
<p>•</p>
<p><b>Data</b> — If this box is checked, the</p>
<p>.data</p>
<p>(initialized data)</p>
<p>sections of your program will be downloaded to the target.</p>
<p>This box is checked by default.</p>
<p>•</p>
<p><b>BSS</b> — If this box is checked, the</p>
<p>.bss</p>
<p>(uninitialized data)</p>
<p>sections of your program will be cleared. This box is not</p>
<p>checked by default.</p>
<p><b>Load Sections</b></p>
<p><i>45</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Debug Probe (mpserv) Advanced Settings</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Green Hills Debug Probe (mpserv) Debug Settings</b></p>
<p><b>Warning</b></p>
<p>Do not change the settings on the<b> Debug</b> tab unless you are instructed to</p>
<p>do so by Green Hills Technical Support.</p>
<p>Allows you to add other, optional arguments directly to the</p>
<p>command line. You should only use this field if directed to do</p>
<p>so by Green Hills Technical Support.</p>
<p><b>Other Options</b></p>
<p><b>Using Your New Connection Method to Connect</b></p>
<p>After you have specified your desired settings for your new Connection Method,</p>
<p>click<b> OK</b> to apply your changes and save the Connection Method. The<b> Connection</b></p>
<p><b>Editor</b> closes and returns you to the<b> Connection Chooser</b>, which displays the name</p>
<p>of your new connection. Click<b> Connect</b> to connect to your target.</p>
<p>For information about other ways to connect to your target, as well as information</p>
<p>about temporary connections and how to use the<b> Connection Chooser</b> and</p>
<p><b>Connection Organizer</b> to edit and manage your Connection Methods, see the</p>
<p>documentation about connecting to your target in the<i> MULTI: Debugging</i> book.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>46</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Using Custom Connection Methods</b></p>
<p>Advanced users and/or users of earlier versions of MULTI who prefer to use</p>
<p>command line options rather than the GUI interface can create<i> Custom Connection</i></p>
<p><i>Methods</i>. Like Standard Connection Methods, Custom Connection Methods can be</p>
<p>saved, invoked quickly using the<b> Connection Chooser</b>, and managed using the</p>
<p><b>Connection Organizer</b>. General instructions for using Custom Connection Methods</p>
<p>are given in the documentation about Custom Connection Methods in the<i> MULTI:</i></p>
<p><i>Debugging</i> book.</p>
<p>This section gives the specific commands and syntax for<b> mpserv</b> Custom Connection</p>
<p>Methods.</p>
<p>To create a Custom Connection Method for your Green Hills Debug Probe:</p>
<p>1.</p>
<p>Click</p>
<p>from the MULTI Launcher and select<b> Connect</b> to open the<b> Connection</b></p>
<p><b>Chooser</b>:</p>
<p>2.</p>
<p>Click<b> Custom</b>. The dialog box displays<b> Start a Custom Connection</b> and a</p>
<p>text field.</p>
<p>3.</p>
<p>Enter the following command:</p>
<p><i>47</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using Custom Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>[setup=<i>filename</i>.mbs] mpserv<i></b> connection</i> [<i>options</i>]...</p>
<p>where:</p>
<p>•</p>
<p><b>setup=<i>filename</i>.mbs</b> is optional and specifies the target setup script. This</p>
<p>argument is optional because not all targets require setup scripts.</p>
<p><b>Note</b></p>
<p>This option can only be used to specify an<b> .mbs</b> setup script.</p>
<p>If you are using an older<b> .dbs</b> script, you must use the<b> -setup</b></p>
<p>option, which must precede the<b> mpserv</b> command. See Chapter</p>
<p>2, “Configuring Your Probe” in the<i> Getting Started</i> book for</p>
<p>your probe for more information about setup scripts.</p>
<p>•</p>
<p><i><b>connection</b></i> is required and specifies the type of connection and, if</p>
<p>applicable, the IP address of the target, as listed below.</p>
<p>○</p>
<p>For Green Hills Probe Ethernet connections,<i> connection</i> is the</p>
<p>hostname or IP address of the target.</p>
<p>○</p>
<p>For Green Hills Probe USB connections,<i> connection</i> is<b> -usb [<i>serial</i>]</b>,</p>
<p>where<i> serial</i> is optional. It can be used to specify a particular probe</p>
<p>if multiple probes are connected to a single host. If<i> serial</i> is not</p>
<p>specified, the probe is selected in a non-deterministic way.</p>
<p>•</p>
<p><i>options</i> can be any non-conflicting combination of the<b> mpserv</b> options</p>
<p>listed in “Options for Custom Connection Methods” on page 49.</p>
<p>4.</p>
<p>Click<b> Connect</b>.</p>
<p>MULTI will connect to your target and save your Custom Connection Method. In</p>
<p>the future, the new method appears in the list of available Connection Methods in</p>
<p>the<b> Connection Chooser</b> and the<b> Connection Organizer</b>. The name of your Custom</p>
<p>Connection Method is the command line you entered. You can change this name</p>
<p>using the<b> Custom Connection Editor</b>. See the documentation about Custom</p>
<p>Connection Methods in the<i> MULTI: Debugging</i> book for more information.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>48</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Options for Custom Connection Methods</b></p>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Blackfin only.</p>
<p>Forces<b> mpserv</b> to treat the downloaded program as one</p>
<p>compiled with the ADI VDSP compiler. This affects the way</p>
<p>system calls are handled by the debugger.</p>
<p><b>-adi</b></p>
<p>Sets passive attachment mode, which allows<b> mpserv</b> to</p>
<p>attach to a running target without disturbing the target.</p>
<p><b>-attach</b></p>
<p>Sets downloading of</p>
<p>.bss</p>
<p>(uninitialized data) sections. By</p>
<p>default,</p>
<p>.bss</p>
<p>downloading is disabled because the default</p>
<p>Green Hills startup code clears</p>
<p>.bss</p>
<p>sections. This option</p>
<p>allows you to clear</p>
<p>.bss</p>
<p>sections upon download.</p>
<p><b>-bss</b></p>
<p>Specifies the probe configuration file to load onto the probe</p>
<p>when the connection starts.</p>
<p>Note that some probe configuration files require rebooting</p>
<p>the probe. Loading these files at connection is only supported</p>
<p>with MULTI 7 and later.</p>
<p><b>-cfgload</b></p>
<p>Sets initialized data downloading. By default, initialized data</p>
<p>(</p>
<p>.data</p>
<p>) sections are always downloaded, so this switch</p>
<p>should never be used. This option is documented for</p>
<p>backward compatibility only.</p>
<p><b>-data</b></p>
<p><i>49</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Options for Custom Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Limits the collection of debug information to a subset of</p>
<p>cores specified by<i> cores</i>.</p>
<p><i>cores</i> is a comma separated list of core groups. A core group</p>
<p>can be specified as follows:</p>
<p>•</p>
<p>*</p>
<p>— selects all cores.</p>
<p>•</p>
<p>A single decimal number — selects one core.</p>
<p>•</p>
<p><i>startcore</i>..<i>endcore</i></p>
<p>— selects a contiguous group</p>
<p>of cores. For example, both</p>
<p>1..3</p>
<p>and</p>
<p>3..1</p>
<p>select cores</p>
<p>1, 2, and 3. Additionally, only one of the bounds is</p>
<p>required, so</p>
<p>1..</p>
<p>selects cores 1, 2, 3, etc., and</p>
<p>..5</p>
<p>selects cores 0, 1, 2, 3, 4 and 5.</p>
<p>There should be no whitespace within the<i> cores</i> string. Core</p>
<p>groups may overlap, and it will not result in MULTI seeing</p>
<p>the same core twice. Non-debuggable cores in core groups</p>
<p>are ignored. This option allows you to use multiple instances</p>
<p>of MULTI to connect to different subsets of cores in a</p>
<p>multi-core system, including connection to a single core.</p>
<p>When you use this option, MULTI will act only on the cores</p>
<p>specified, except that<b> groupaction</b> on the</p>
<p>@All</p>
<p>group will</p>
<p>still affect all cores, even those not included in the<i> cores</i></p>
<p>subset. To direct<b> groupaction</b> commands to only the tasks</p>
<p>listed in the Debugger, first create a task group corresponding</p>
<p>to those cores, and then use it as the</p>
<p>@task_group</p>
<p>parameter</p>
<p>to the<b> groupaction</b> command. For more information, see</p>
<p>“groupaction” in Chapter 18, “Task Group Command</p>
<p>Reference” in<i> MULTI: Debugging Command Reference</i>.</p>
<p>Use the probe command<b> tl</b> to view a list of acceptable values</p>
<p>for<i> cores</i>.</p>
<p>The<b> -force_coreid</b> option only applies to Green Hills Probe</p>
<p>connections.</p>
<p><b>-force_coreid<i> cores</b></i></p>
<p>Specifies that the probe uses a hardware breakpoint (instead</p>
<p>of a software breakpoint) to catch system calls made by the</p>
<p>program running on the target. This option requires that the</p>
<p>target has at least one execute hardware breakpoint available,</p>
<p>and that execute hardware breakpoints are precise. This</p>
<p>argument may be useful when the system call function is in</p>
<p>memory where software breakpoints do not work (such as</p>
<p>read-only memory).</p>
<p><b>-hwbpsc</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>50</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Enables downloading of all program sections. By default,</p>
<p>all sections are loaded except for uninitialized data (</p>
<p>.bss</p>
<p>)</p>
<p>sections, which are cleared by the default Green Hills startup</p>
<p>code. The<b> -loadall</b> option allows you to download all</p>
<p>sections, including</p>
<p>.bss</p>
<p>.</p>
<p><b>-loadall</b></p>
<p>Adds support for ELF files created by the ARM Ltd.</p>
<p>toolchain. Use this option only if your program was compiled</p>
<p>or linked using this toolchain.</p>
<p><b>-load_pheader_translate</b></p>
<p>Creates a log of actions performed by<b> mpserv</b> and stores it</p>
<p>in a file named<b> db.log</b>. If you have problems using<b> mpserv</b></p>
<p>with your target, this log file can help Green Hills Technical</p>
<p>Support find a solution.</p>
<p><b>-log</b></p>
<p>Specifies the core from which to collect trace data on Nexus</p>
<p>targets. The default is 0. To specify the second core, pass the</p>
<p>option</p>
<p>-nexus_trace_coreid 1</p>
<p>.</p>
<p><b>-nexus_trace_coreid<i> n</b></i></p>
<p><i>51</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Options for Custom Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Disables access to ARM trace registers until the</p>
<p><b>trace_registers on</b> command is used.</p>
<p>When a probe is first connected to the target, MULTI</p>
<p>attempts to read some registers on the target to determine</p>
<p>what trace capabilities the target has. If your target requires</p>
<p>setup before those registers can be safely accessed, you can</p>
<p>use the<b> -no_trace_registers</b> command line argument and</p>
<p>the<b> trace_registers</b> command to do that setup.</p>
<p>Create a setup script with the following structure:</p>
<p>MBS_OPT=&quot;early&quot;</p>
<p>define trace_register_setup() {</p>
<p>// Put any necessary trace setup here</p>
<p>...</p>
<p>target trace_registers on</p>
<p>}</p>
<p>clearhooks</p>
<p>addhook -after connect {</p>
<p>trace_register_setup()</p>
<p>}</p>
<p>addhook -before reset {</p>
<p>target trace_registers off</p>
<p>}</p>
<p>addhook -after reset {</p>
<p>trace_register_setup()</p>
<p>}</p>
<p>Then, pass the<b> -no_trace_registers</b> argument to<b> mpserv</b>.</p>
<p>This will ensure that your target's trace registers are enabled</p>
<p>on connect and after a reset, and will prevent MULTI from</p>
<p>trying to read the trace registers prior to initialization. Using</p>
<p>the<b> trace_registers</b> command outside a setup script hook</p>
<p>like the one described is not supported and may result in</p>
<p>incorrect trace capture.</p>
<p>Supported on ARM only.</p>
<p>For more information, see the documentation for the</p>
<p><b>trace_registers</b> command in “Other Commands” on page 207.</p>
<p><b>-no_trace_registers</b></p>
<p>Blackfin only.</p>
<p>Forces<b> mpserv</b> to treat the downloaded program as one</p>
<p>compiled with the Green Hills Compiler. This affects the</p>
<p>way system calls are handled by the debugger.</p>
<p><b>-noadi</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>52</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Disables uninitialized data (</p>
<p>.bss</p>
<p>) clearing by<b> ocdserv</b>. This</p>
<p>option is enabled by default and is documented for backward</p>
<p>compatibility only.</p>
<p><b>-nobss</b></p>
<p>Disables downloading of initialized data (</p>
<p>.data</p>
<p>) sections.</p>
<p><b>-nodata</b></p>
<p>Disables downloading of any of the program sections in an</p>
<p>executable file.</p>
<p>This option is useful when debugging an executable that is</p>
<p>already loaded on the target. For example, use this option</p>
<p>when debugging an executable in ROM or flash memory.</p>
<p>This option does not disable stack setup processes, such as</p>
<p>setting the stack pointer, writing the stack to memory, or</p>
<p>setting the system call breakpoint.</p>
<p><b>-noload</b></p>
<p>Disables system calls. By default,<b> mpserv</b> places a breakpoint</p>
<p>on the</p>
<p>.syscall</p>
<p>section to service system calls on the target.</p>
<p>However, some applications may place the</p>
<p>.syscall</p>
<p>in</p>
<p>read-only memory, while others may implement their own</p>
<p>system call mechanism with</p>
<p>.syscall</p>
<p>. The<b> -nosyscalls</b></p>
<p>switch prevents conflicts between<b> mpserv</b> and such</p>
<p>applications.</p>
<p><b>-nosyscalls</b></p>
<p>Disables downloading of program sections containing</p>
<p>executable code (</p>
<p>.text</p>
<p>sections).</p>
<p><b>-notext</b></p>
<p>Specifies the core used to start Probe Run Mode.</p>
<p>Use the probe command<b> tl</b> to view a list of acceptable values</p>
<p>for<i> core</i>. Specifying an invalid<i> core</i> prevents Probe Run</p>
<p>Mode from starting.</p>
<p>This option overrides any checks that the probe would</p>
<p>normally make to test your target for live memory access. It</p>
<p>overrides these checks so that you can start on one core while</p>
<p>dedicating a different core to live memory access (such as</p>
<p>on x86).</p>
<p><b>-prm_coreid<i> core</b></i></p>
<p><i>53</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Options for Custom Connection Methods</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Specifies that you are using profiling on the executable</p>
<p><i>filename</i>. Use this option if you have enabled profiling and</p>
<p>at least one of the following is true:</p>
<p>•</p>
<p>You are using the<b> -attach</b> option.</p>
<p>•</p>
<p>You used the<b> Program already present on target</b> or</p>
<p><b>Program Flash ROM</b> option in the<b> Prepare Target</b></p>
<p>dialog box.</p>
<p>•</p>
<p>Your linker directives (<b>.ld</b>) file allocates program text</p>
<p>to ROM, whether or not startup code copies it from</p>
<p>ROM to RAM.</p>
<p><b>-profileon<i> filename</b></i></p>
<p>Sets the configuration option,<i> option</i>, to<i> value</i> before</p>
<p>beginning the current session.</p>
<p>Any configuration changes made using this option is saved</p>
<p>to</p>
<p>EEPROM</p>
<p>. See Chapter 4, “Probe Option Reference”</p>
<p>on page 65 for a complete description of the available</p>
<p>configuration options.</p>
<p><b>-set<i> option</i>=<i>value</b></i></p>
<p>Specifies a setup script file,<i> filename</i>, to be run by the</p>
<p><b>mpserv</b> command interpreter before each download.</p>
<p>This option can only be used to specify<b> .dbs</b> setup scripts.</p>
<p>See Chapter 2, “Configuring Your Probe” in the<i> Getting</i></p>
<p><i>Started</i> book for your probe for information about specifying</p>
<p><b>.mbs</b> setup scripts.</p>
<p><b>-setup<i> filename</b></i></p>
<p>Specifies a synchronous run control environment, where all</p>
<p>cores on the target are always resumed and halted at the same</p>
<p>time. For more information, see the documentation for<b> Halt</b></p>
<p><b>cores synchronously</b> in “Green Hills Debug Probe (mpserv)</p>
<p>Advanced Settings” on page 44.</p>
<p><b>-synccores</b></p>
<p>Enables trace triggers for PowerPC 405, 440, and 460.</p>
<p>Passing this option has the same effect as issuing the</p>
<p>following command in the MULTI command pane:</p>
<p>target trace_triggers on</p>
<p>For more information, see the documentation for the</p>
<p><b>trace_triggers</b> command in “Other Commands” on page 207.</p>
<p><b>-trace_triggers</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>54</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Action</b></p>
<p><b>Options</b></p>
<p>Connects to a Green Hills Probe using the USB port. The</p>
<p>optional<i> serial</i> parameter can be used to specify a particular</p>
<p>probe by serial number if multiple probes are connected to</p>
<p>a single host. If multiple probes are connected and no<i> serial</i></p>
<p>is specified, the probe is selected in a non-deterministic way.</p>
<p><b>-usb</b> [<i>serial</i>]</p>
<p><b>Specifying Setup Scripts</b></p>
<p>After you have a working setup script, you should run it prior to every download</p>
<p>to ensure that your target is clean, stable, and properly configured. The following</p>
<p>sections explain how to specify and run board setup scripts depending on how you</p>
<p>are connecting to your target and whether you are using a MULTI (<b>.mbs</b>) or legacy</p>
<p>(<b>.dbs</b>) board setup script.</p>
<p><b>Using MULTI (.mbs) Setup Scripts When Connecting to Your Target</b></p>
<p>The method for specifying an<b> .mbs</b> setup script at the time of connection varies</p>
<p>depending upon the procedure you use to connect MULTI to your target:</p>
<p>•</p>
<p>To run an<b> .mbs</b> setup script every time you connect using a particular Standard</p>
<p>Connection Method, specify the filename of the script in the<b> Target Setup</b></p>
<p><b>script</b> field of the<b> Connection Editor</b> for the Connection Method and select</p>
<p>the<b> MULTI</b> radio button immediately below the field.</p>
<p>If you are using a default Connection Method created by the<b> Project Wizard</b>,</p>
<p>the necessary setup script file for your processor-board combination (if</p>
<p>applicable) is specified automatically and the<b> MULTI</b> button will be selected.</p>
<p>•</p>
<p>To run an<b> .mbs</b> setup script and connect to your target using a Custom</p>
<p>Connection Method:</p>
<p>○</p>
<p>If you are editing the Custom Connection Method using the<b> Connection</b></p>
<p><b>Editor</b>, specify the filename of the target setup script in the<b> Target Setup</b></p>
<p><b>script</b> field.</p>
<p><i>55</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Specifying Setup Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<p>○</p>
<p>If you are entering the connection command using the<b> Start a Custom</b></p>
<p><b>Connection</b> field of the<b> Connection Chooser</b>, precede the debug server</p>
<p>command with the option<b> setup=<i>filename</b></i> (where<i> filename</i> is the<b> .mbs</b></p>
<p>setup script filename). Click<b> Connect</b> to continue.</p>
<p>•</p>
<p>To run an<b> .mbs</b> setup script when connecting from the Debugger command</p>
<p>pane, use the following syntax:</p>
<p><b>connect setup=<i>filename</i>.mbs<i> dbserv</b></i> [<i>args</i>]... [<i>opts</i>]...</p>
<p>where<i><b> filename</i>.mbs</b> is the setup script filename,<i> dbserv</i> is the name of the</p>
<p>debug server to be used, and<i> args</i> and<i> opts</i> are appropriate arguments for your</p>
<p>debug server and target.</p>
<p>For more information about the<b> connect</b> command, see the documentation</p>
<p>about general target connection commands in the<i> MULTI: Debugging Command</i></p>
<p><i>Reference</i> book and the documentation about connecting to your target in the</p>
<p><i>MULTI: Debugging</i> book.</p>
<p><b>Using Legacy (.dbs) Setup Scripts When Connecting to Your Target</b></p>
<p>The method for specifying a legacy (<b>.dbs</b>) setup script at the time of connection</p>
<p>varies depending upon the procedure you use to connect MULTI to your target.</p>
<p>The various methods are:</p>
<p>•</p>
<p>To run a legacy setup script every time you connect using a particular Standard</p>
<p>Connection Method, specify the filename of the target setup script in the<b> Target</b></p>
<p><b>Setup script</b> field of the<b> Connection Editor</b> for the Connection Method. Select</p>
<p>the<b> Legacy</b> radio button immediately below the field.</p>
<p>•</p>
<p>To run an<b> .dbs</b> setup script and connect to your target using a Custom</p>
<p>Connection Method:</p>
<p>○</p>
<p>If you are editing the Custom Connection Method using the<b> Connection</b></p>
<p><b>Editor</b>, include the<b> -setup<i> filename</i>.dbs</b> debug server option in the</p>
<p><b>Arguments</b> field.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>56</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>○</p>
<p>If you are entering the connection command using the<b> Start a Custom</b></p>
<p><b>Connection</b> field of the<b> Connection Chooser</b>, include the<b> -setup</b></p>
<p><i><b>filename</i>.dbs</b> debug server option in the command you enter and click</p>
<p><b>Connect</b>. See the appropriate debug server chapter later in this book for</p>
<p>more information about connecting to your specific target this way.</p>
<p>To run a legacy setup script and connect to your target using a Custom</p>
<p>Connection Method, include the<b> -setup<i> filename</i>.dbs</b> debug server option in</p>
<p>the command you enter into the<b> Start a Custom Connection</b> field of the</p>
<p><b>Connection Chooser</b> and then click<b> Connect</b>. See the appropriate debug server</p>
<p>chapter later in this book for more information about connecting to your specific</p>
<p>target this way.</p>
<p>•</p>
<p>To run a<b> .dbs</b> setup script from the Debugger command pane, use the following</p>
<p>syntax:</p>
<p><b>connect<i> dbserv</b></i> -setup<i> filename<b></i>.dbs</b> [<i>args</i>]... [<i>opts</i>]...</p>
<p>where<i><b> filename</i>.dbs</b> is the setup script filename,<i> dbserv</i> is the name of the</p>
<p>debug server to be used, and<i> args</i> and<i> opts</i> are appropriate arguments for your</p>
<p>debug server and target.</p>
<p><b>Running Setup Scripts Manually</b></p>
<p>In addition to running setup scripts as part of the connecting process, you can also</p>
<p>run setup scripts manually at other times using any of the following methods:</p>
<p>•</p>
<p>(MULTI<b> .mbs</b> scripts) Run your setup script file manually from the Debugger</p>
<p>command pane using the<b> &lt;</b> command.</p>
<p>•</p>
<p>(MULTI<b> .mbs</b> scripts) Use the MULTI<b> setup<i> filename</i>.mbs</b> command. If this</p>
<p>command is used with a connection command, the setup script runs prior to</p>
<p>downloading and debugging. The<b> setup</b> command can also be used without a</p>
<p>specific script name if you are connected and specified a setup script when you</p>
<p>connected. The script you specified for the connection is run if you issue the</p>
<p><b>setup</b> command with no specified file. See MULTI: Debugging Command</p>
<p>Reference for more information about the<b> setup</b> command.</p>
<p>•</p>
<p>(Legacy<b> .dbs</b> scripts) Use the<b> target script<i> filename</i>.dbs</b> command from the</p>
<p>Debugger command pane.</p>
<p><i>57</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Running Setup Scripts Manually</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Early MULTI Board Setup Scripts with Debugger Hooks</b></p>
<p>Ordinarily, MULTI (<b>.mbs</b>) board setup scripts are run every time you download a</p>
<p>program to your target, just before the download begins. However, in certain</p>
<p>circumstances and for certain targets (such as multi-core boards), it is not appropriate</p>
<p>to re-initialize the entire board every time you download a program to a given CPU</p>
<p>on that board.</p>
<p>If you write a setup script with a comment on the first line containing the marker</p>
<p>MBS_OPT=&quot;early&quot;</p>
<p>, the entire board setup script will be run once immediately</p>
<p>after you connect to your target instead of every time just before you download a</p>
<p>program. The comment should look similar to the following:</p>
<p>// MBS_OPT=&quot;early&quot;</p>
<p>When combined with the<b> Hook Commands</b> described in the documentation about</p>
<p>scripting commands in the<i> MULTI: Debugging Command Reference</i> book, the</p>
<p>&quot;early&quot; MULTI board setup script mechanism gives you fine-grained control over</p>
<p>how and when MULTI will set up your target. For example, you can install hooks</p>
<p>in your setup script to reinitialize the entire board upon reset by using reset hooks</p>
<p>to cause certain initializations to take place before reset and certain others to take</p>
<p>place afterwards.</p>
<p>addhook -before reset { /* Before reset work /* }</p>
<p>addhook -after reset -core 0 { /* After reset, core 0 work */ }</p>
<p>addhook -after reset -core 1 { /* After reset, core 1 work */ }</p>
<p>You can also add a hook to reset the board upon connecting, which causes your</p>
<p>reset hooks to run whenever you connect to the target with MULTI.</p>
<p>addhook -after connect { reset }</p>
<p>Lastly, you might decide to reinitialize a selected subset of the board circuitry every</p>
<p>time you download a program to one of the CPUs, while leaving the other CPUs</p>
<p>alone.</p>
<p>addhook -before download -core 0 { /* Core 0's initialization commands */ }</p>
<p>addhook -before download -core 1 { /* Core 1's initialization commands */ }</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>58</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Probe Run Mode</b></p>
<p>Traditionally, INTEGRITY run-mode connections are made by connecting the host</p>
<p>machine to the same network as the target. INTEGRITY then sends information</p>
<p>over Ethernet to the host machine for use by the Debugger. This technique requires</p>
<p>that your hardware has Ethernet or serial drivers. Probe Run Mode allows you make</p>
<p>both a freeze-mode and run-mode connection to your target using just the probe's</p>
<p>debug connection. Probe Run Mode requires the following:</p>
<p>•</p>
<p>Live memory access support on the target</p>
<p>•</p>
<p>An INTEGRITY BSP that supports Probe Run Mode (GipcTarget)</p>
<p>•</p>
<p>The probe must be connected to the host using Ethernet; Probe Run Mode</p>
<p>connections are not supported over USB</p>
<p>INTEGRITY 11 and earlier provide BSP support through patches. To see if your</p>
<p>target is supported, contact Green Hills support. For newer versions of INTEGRITY,</p>
<p>see the BSP notes.</p>
<p>Most of the time, probe run-mode is handled properly by the Debugger's automatic</p>
<p>run-mode partner feature. To connect to Probe Run Mode manually, use your probe's</p>
<p>IP address or hostname and port</p>
<p>2222</p>
<p>for the INDRT2 connection. For example:</p>
<p>rtserv2 192.168.1.101:2222</p>
<p>Similarly, you can connect to the MULTI<b> ResourceAnalyzer</b> using the probe's IP</p>
<p>address or hostname.</p>
<p>If you are using MULTI 6.1.4 or earlier, and your target is capable of both Probe</p>
<p>Run Mode and run mode over Ethernet, the automatic run mode partnering feature</p>
<p>picks one in a non-deterministic way.</p>
<p>At this time, only one Probe Run Mode Proxy can run at a time on a probe, even if</p>
<p>you are running independent programs on multiple cores of a multi-core system.</p>
<p>The last Probe Run Mode-capable kernel that is loaded is always the active one.</p>
<p><b>Connecting to a Running Kernel</b></p>
<p>Follow these steps to connect to a running kernel (either downloaded previously or</p>
<p>started from some other means such as a boot loader):</p>
<p><i>59</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Probe Run Mode</i></p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Optionally use the<b> prm subscribe all</b> command to monitor the progress of the</p>
<p>connection.</p>
<p>2.</p>
<p>Use the<b> prm start</b> command (for more information, see “Other Commands”</p>
<p>on page 207) with one of the following methods:</p>
<p>•</p>
<p>If you are attached to the kernel in MULTI and halted in a kernel context</p>
<p>(such as the Idle loop or a Kernel Task) you can simply run</p>
<p>target prm</p>
<p>start</p>
<p>and the address will be automatically determined.</p>
<p>•</p>
<p>If the target is running or not halted in the kernel, you need to determine</p>
<p>the physical address of the kernel's</p>
<p>.gipctarget</p>
<p>section and run</p>
<p>target</p>
<p>prm start<i> address</i>p</p>
<p>where</p>
<p><i>address</i></p>
<p>is the address of the</p>
<p>.gipctarget</p>
<p>section. Note that the</p>
<p>p</p>
<p>suffix is required on the address</p>
<p>to denote it as physical. One way to determine the proper address is to</p>
<p>connect to PRM automatically the first time, run</p>
<p>target prm status</p>
<p>,</p>
<p>and use the address on the</p>
<p>Base Address</p>
<p>line.</p>
<p>3.</p>
<p>Resume the kernel (if it was halted in or before step 2).</p>
<p>4.</p>
<p>Wait for<b> Probe Run Mode Communication Established</b>. If Step 1 was</p>
<p>skipped, run</p>
<p>prm status</p>
<p>to check the current status.</p>
<p>5.</p>
<p>Establish the rtserv2 connection to the target manually with a command such</p>
<p>as</p>
<p>rtserv2<i> probe_ip</i>:2222</p>
<p>, where</p>
<p><i>probe_ip</i></p>
<p>is your probe's hostname</p>
<p>or IP address.</p>
<p>See also the documentation for<b> prm_ignore_disconnect</b> and<b> prm_ignore_reset</b></p>
<p>options in “Generic Configuration Options” on page 66, which can be useful for</p>
<p>situations involving an externally loaded kernel.</p>
<p><b>Serial Port Forwarding</b></p>
<p>Green Hills Debug Probes can forward information from the RS-232 serial port to</p>
<p>a telnet session. This feature allows you to connect your target to your probe using</p>
<p>the serial port, and initiate a serial terminal session from your host machine over</p>
<p>Ethernet. To forward the serial port:</p>
<p>1.</p>
<p>Make sure the<b> serial_terminal</b> option is set to</p>
<p>off</p>
<p>.</p>
<p>2.</p>
<p>Connect your target to the probe's RS-232 serial port using a null modem cable</p>
<p>or straight-through cable, depending on your target.</p>
<p>3.</p>
<p>On your host machine, open a telnet session to your probe.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>60</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>4.</p>
<p>In the telnet session, type</p>
<p>pterminal serial -baud<i> rate</i></p>
<p>, where<i> rate</i> is</p>
<p>a baud rate compatible with your target. You may need to specify additional</p>
<p>options for this command (see “System Commands” on page 188).</p>
<p>The telnet session now behaves like a serial terminal to your target. You should</p>
<p>now see serial output in the session running<b> pterminal</b>. To quit the forwarding</p>
<p>session, press the following three keys, in order:</p>
<p>1.</p>
<p>Enter</p>
<p>2.</p>
<p>Tilde (</p>
<p>~</p>
<p>)</p>
<p>3.</p>
<p>Period (</p>
<p>.</p>
<p>)</p>
<p><b>Using External Trace Triggers</b></p>
<p>The SuperTrace Probe v3 has SMB connectors on the front panel for external trace</p>
<p>trigger input and output that are always enabled. External trace triggers are useful</p>
<p>for observing the relationship between code running on the CPU and a set of signals</p>
<p>on the target. Generally:</p>
<p>•</p>
<p>To observe what signal behavior causes or is caused by particular code, connect</p>
<p>the probe's<b> TRIGGER OUT</b> connector to an external device that is monitoring</p>
<p>the signals on the target, and configure MULTI to trigger on the code.</p>
<p>•</p>
<p>To observe what code causes or is caused by particular signal behavior, connect</p>
<p>the probe's<b> TRIGGER IN</b> connector to an external device that can trigger the</p>
<p>probe when that behavior occurs.</p>
<p>External trace triggers are supported for all trace architectures except PowerPC 405.</p>
<p>When configuring a device to accept trace trigger input from your probe's</p>
<p><b>TRIGGER OUT</b> connector, use the following settings:</p>
<p>•</p>
<p>Edge — rising</p>
<p>•</p>
<p>Voltage — 900 mV</p>
<p>•</p>
<p>Coupling — DC</p>
<p>When configuring a device to send trace triggers to the probe's<b> TRIGGER IN</b></p>
<p>connector, make sure the triggers have the following characteristics:</p>
<p><i>61</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Using External Trace Triggers</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>Voltage — 1.5 V</p>
<p>•</p>
<p>Length — &gt; 100 ns</p>
<p>For example, the following image shows a Tektronix TDS5104 configured to capture</p>
<p>data when it receives a trace trigger from the probe.</p>
<p>The probe emits a pulse on the<b> TRIGGER OUT</b> connector for any trace trigger</p>
<p>event, including an external input trigger. Whenever the probe detects a pulse on</p>
<p>the<b> TRIGGER IN</b> connector, it triggers trace collection. To stop using the probe's</p>
<p>external trace trigger in or out functionality, disconnect the appropriate cable.</p>
<p>For information about configuring trace triggers based on program events, see the</p>
<p>documentation about configuring trace collection in the<i> MULTI: Debugging</i> book.</p>
<p><b>Note</b></p>
<p>Due to buffering on your target and trace pod, when the probe acts on an</p>
<p>external trigger from the<b> TRIGGER IN</b> port, there may be some skew</p>
<p>between the trigger event in the trace list and the code or signal that</p>
<p>happened at that time. The skew is dependent on your target; it is typically</p>
<p>about 200 nanoseconds, but may be as much as 1 microsecond.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>62</i></p>
<p><i>Chapter 3. Probe Connection Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>General Purpose IO Port Drive Characteristics</b></p>
<p>All probe models except the SuperTrace Probe v3 have general purpose IO (GPIO)</p>
<p>pins. The electrical drive characteristics of these pins are 3.3 V, 16mA. The connector</p>
<p>should be similar to the Molex 50-57-9404 (4 position .100 with latch).</p>
<p><i>63</i></p>
<p><i>Green Hills Software</i></p>
<p><i>General Purpose IO Port Drive Characteristics</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4</b></p>
<p><b>Probe Option Reference</b></p>
<p><b>Contents</b></p>
<p>Setting Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>66</p>
<p>Generic Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>66</p>
<p>Target-Specific Configuration Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>92</p>
<p>Target-Specific Trace Options . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>163</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter provides descriptions of options that you can use to customize your</p>
<p>debugging configuration.</p>
<p><b>Setting Configuration Options</b></p>
<p>The Green Hills Debug Probe configuration options described in this chapter are</p>
<p>divided into two groups:</p>
<p>•</p>
<p>The options listed in “Generic Configuration Options” on page 66 are available</p>
<p>for all target architectures (unless otherwise noted).</p>
<p>•</p>
<p>The options listed in “Target-Specific Configuration Options” on page 92 work</p>
<p>only for certain target architectures (as indicated in the tables in that section).</p>
<p>To display or configure any of the options listed in this chapter, use the Probe</p>
<p>Administrator. For more information about the Probe Administrator, see “The</p>
<p>Graphical Probe Administrator” on page 6.</p>
<p>Alternatively, you can use the<b> set</b> command:</p>
<p>•</p>
<p>In the MULTI Debugger<b> Target</b> pane.</p>
<p>•</p>
<p>In the MULTI Debugger<b> Command</b> pane (if prefixed with the<b> target</b></p>
<p>command).</p>
<p>•</p>
<p>In a telnet or serial terminal window.</p>
<p>For a description of the<b> set</b> command, refer to the table in “Green Hills Debug Probe</p>
<p>Commands” on page 174.</p>
<p><b>Note</b></p>
<p>Some options, such as those relating to network configuration, require</p>
<p>the probe to be rebooted before they can take effect.</p>
<p><b>Generic Configuration Options</b></p>
<p>This section briefly describes configuration options that are applicable to most</p>
<p>targets. Unless otherwise indicated, these options work independently of both the</p>
<p>target architecture type and the type of Green Hills Debug Probe being used. If an</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>66</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>option is not supported for all probe configurations, use the following abbreviations</p>
<p>determine which configurations the option applies to:</p>
<p>•</p>
<p><b>STP</b> — SuperTrace Probe</p>
<p>•</p>
<p><b>V3</b> — Green Hills Probe v3.</p>
<p>•</p>
<p><b>TEP</b> — TraceEverywhere Pod</p>
<p>For more details about the syntax and possible settings for each of these general</p>
<p>configuration options, and for further information about the features controlled by</p>
<p>each option, follow the cross references provided in the table.</p>
<p>For additional configurations options that are available for your particular target,</p>
<p>see “Target-Specific Configuration Options” on page 92.</p>
<p>For general information about setting configuration options, see “Setting</p>
<p>Configuration Options” on page 66.</p>
<p><b>adapter</b></p>
<p>Specifies which type of target adapter is attached to your probe. See “Setting the</p>
<p>Target Adapter Type” on page 74.</p>
<p><b>baudrate</b></p>
<p>Sets the serial communication speed. See “Setting the Serial Communication</p>
<p>Speed” on page 82.</p>
<p><b>checker</b></p>
<p>Turns the status checker on or off. See “Enabling or Disabling the Status Checker”</p>
<p>on page 82.</p>
<p><b>clock</b></p>
<p>Sets the JTAG clock speed. See “Setting the JTAG or SWD Clock Speed”</p>
<p>on page 82.</p>
<p><b>debug_type</b></p>
<p>Selects the protocol to use for target communication. See “Selecting the Target</p>
<p>Communication Protocol” on page 71.</p>
<p><b>dhcp</b></p>
<p>(Ethernet connections only.)</p>
<p>Allows you to use dynamically assigned IP addresses. See “Enabling and Disabling</p>
<p>DHCP” on page 71.</p>
<p><i>67</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Configuration Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>dhcp_lease</b></p>
<p>(Ethernet connections only.)</p>
<p>Sets the lease time in days requested for a DHCP address. Set the lease time to</p>
<p>0 days for an infinite lease. The default setting is an infinite lease. See “Enabling</p>
<p>and Disabling DHCP” on page 71.</p>
<p><b>endianness</b></p>
<p>Specifies the byte order of the target. See “Setting the Byte Order (Endianness)”</p>
<p>on page 88.</p>
<p><b>gateway</b></p>
<p>Sets the gateway of the probe. See “Setting the Gateway” on page 73.</p>
<p><b>hostname</b></p>
<p>(Ethernet connections only.)</p>
<p>Sets the hostname that DHCP requests send. The default setting is<b> ghprobe</b> with</p>
<p>the probe's serial number appended. For example, a probe with a serial number</p>
<p>of 4000 would use<b> ghprobe4000</b> as its default DHCP hostname. See “Enabling</p>
<p>and Disabling DHCP” on page 71.</p>
<p><b>STP v3</b></p>
<p><b>only</b></p>
<p><b>hsst_rx_lanes</b></p>
<p>Sets the number of lanes in the Aurora link from the target to the probe. See</p>
<p>“Setting the Number of Receive Lanes” on page 73.</p>
<p><b>ip</b></p>
<p>Sets the IP address of the probe. See “Setting the IP Address” on page 70.</p>
<p><b>jrst_pulse</b></p>
<p>Specifies how long the nTRST line will be held low. See “Setting the JTAG TAP</p>
<p>Reset Pulse Length” on page 86.</p>
<p><b>jrst_settle</b></p>
<p>Specifies how long to wait after an nTRST pulse. See “Setting the JTAG TAP</p>
<p>Reset Settle Length” on page 87.</p>
<p><b>TEP only</b></p>
<p><b>jtag_drive</b></p>
<p>Specifies the JTAG signal drive strength for TraceEverywhere pods. See “Setting</p>
<p>the Drive Strength of TraceEverywhere Pods (SuperTrace Probe)” on page 88.</p>
<p><b>logic_high</b></p>
<p>Specifies the I/O interface voltage. See “Setting the I/O Interface Voltage”</p>
<p>on page 75.</p>
<p><b>netmask</b></p>
<p>Sets the netmask of the probe. See “Setting the Netmask” on page 73.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>68</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>power_detect</b></p>
<p>Enables or disables power detection. See “Enabling or Disabling Target Power</p>
<p>Detection” on page 83.</p>
<p><b>power_on_settle</b></p>
<p>Sets the time (ms) in addition to</p>
<p>rst_settle</p>
<p>that the probe waits after detecting</p>
<p>power on, before attempting any other communication with the target. See “Setting</p>
<p>the Reset Settle Length” on page 86.</p>
<p><b>prm_ignore_disconnect</b></p>
<p>Specifies whether or not the Probe Run Mode Proxy persists when the connection</p>
<p>that started the Proxy exits. See “Configuring Probe Run Mode Behavior on Host</p>
<p>Disconnect” on page 83.</p>
<p><b>prm_ignore_reset</b></p>
<p>Specifies whether or not the Probe Run Mode Proxy continues running when a</p>
<p>target reset is initiated. See “Configuring Probe Run Mode Behavior on Target</p>
<p>Reset” on page 84.</p>
<p><b>rst_pulse</b></p>
<p>Specifies how long the nRST will be held low during a reset. See “Setting the</p>
<p>CPU Reset Pulse Length” on page 86.</p>
<p><b>rst_settle</b></p>
<p>Specifies how long to wait after an nRST pulse is issued. See “Setting the Reset</p>
<p>Settle Length” on page 86.</p>
<p><b>V3 and</b></p>
<p><b>STP v3</b></p>
<p><b>only</b></p>
<p><b>serial_terminal</b></p>
<p>Turns the probe's serial terminal console interface on or off. See “Enabling or</p>
<p>Disabling the Serial Terminal” on page 84.</p>
<p><b>single_mpserv_only</b></p>
<p>Specifies whether the probe allows multiple binary<b> mpserv</b> connections. See</p>
<p>“Disabling Multiple Binary Connections” on page 85.</p>
<p><b>target</b></p>
<p>Configures your target. See “Specifying Your Target” on page 76.</p>
<p><b>target_reset_pin</b></p>
<p>Specifies to the probe how asserting the reset pin (nRST) affects JTAG TAP. See</p>
<p>“Setting Reset Pin and JTAG TAP Interaction” on page 87.</p>
<p><b>TEP</b></p>
<p><b>trace_clock_delay</b></p>
<p>Adjusts the clock-to-data timing requirements of the SuperTrace Probe. See</p>
<p>“Setting the Trace Clock Delay (SuperTrace Probe)” on page 90.</p>
<p><i>69</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Configuration Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>STP</b></p>
<p><b>trace_clock_phase</b></p>
<p>Adjusts the clock-to-data timing requirements of the SuperTrace Probe. See</p>
<p>“Setting the Trace Clock Phase (SuperTrace Probe)” on page 89.</p>
<p><b>STP</b></p>
<p><b>trace_clock_source</b></p>
<p>Controls clock-to-data timing used for capturing trace data. See “Setting the Trace</p>
<p>Clock Source (SuperTrace Probe)” on page 88.</p>
<p><b>TEP only</b></p>
<p><b>trace_logic_high</b></p>
<p>Specifies the trace input voltage on TraceEverywhere Trace Pods. See “Setting</p>
<p>the I/O Interface Voltage” on page 75.</p>
<p><b>TEP</b></p>
<p><b>trace_term_enable</b></p>
<p>Controls the trace termination circuitry on TraceEverywhere pods. See “Setting</p>
<p>Trace Termination Control on TraceEverywhere Pods (SuperTrace Probe)”</p>
<p>on page 91</p>
<p><b>user_button</b></p>
<p>Controls what happens when you press the<b> User</b> button on the probe's front panel.</p>
<p>See “Setting the User Button Behavior” on page 91.</p>
<p><b>user_string</b></p>
<p>Sets the user string of the probe. See “Setting the User String” on page 85.</p>
<p><b>verify_download</b></p>
<p>Specifies whether a downloaded image is read back from the target to compare</p>
<p>to the downloaded image, and if so, whether the full image is read back and</p>
<p>compared, or a small subset of the downloaded image is read back and compared.</p>
<p>See “Specifying Download Verification” on page 91.</p>
<p><b>Setting the IP Address</b></p>
<p>To set the IP address for your Green Hills Probe or SuperTrace Probe, use the</p>
<p>command:</p>
<p>set ip<i> ip</i></p>
<p>where<i> ip</i> is the IP address, specified in dotted quad notation. This setting does not</p>
<p>take effect until the next reboot.</p>
<p>Example:</p>
<p>set ip 192.168.0.5</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>70</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>This command sets the probe IP address to</p>
<p>192.168.0.5</p>
<p>.</p>
<p><b>Selecting the Target Communication Protocol</b></p>
<p>To select the protocol to use for target communication, use the command:</p>
<p>set debug_type<i> protocol</i></p>
<p>where<i> protocol</i> is one of the following:</p>
<p>•</p>
<p><b>JTAG</b>— [default] IEEE 1149.1.</p>
<p>•</p>
<p><b>SWD</b> — ARM Single Wire Debug. In SWD mode, nTRST and TDI are unused,</p>
<p>TMS becomes SWDIO and is bidirectional, and TDO becomes SWO and is</p>
<p>unused.</p>
<p>•</p>
<p><b>cJTAG</b> — Compact JTAG IEEE 1149.7 in a 2-wire T4+ TAP.7 configuration.</p>
<p>In cJTAG mode, TMS becomes TMSC and is bidirectional, TDI is unused,</p>
<p>and TDO is unused. The probe uses either the OSCAN1 or the OSCAN2 scan</p>
<p>format depending on target support.</p>
<p>This option is ignored when debugging BDM targets; use of BDM is determined</p>
<p>by the connected adapter.</p>
<p><b>Note</b></p>
<p>Changing this option requires cycling the power on some targets. For</p>
<p>more information, see “Changing the Target Communication Protocol”</p>
<p>on page 323.</p>
<p><b>Enabling and Disabling DHCP</b></p>
<p>Green Hills Debug Probes support the Dynamic Host Configuration Protocol</p>
<p>(DHCP), which allows you to use dynamically assigned IP addresses rather than</p>
<p>assigning a permanent, static address for your probe. You must have a properly</p>
<p>configured DHCP server on the same network as the probe for DHCP to function.</p>
<p>DHCP is enabled by default on new probes. If you have disabled DHCP on your</p>
<p>probe and want to enable it again, open a serial terminal to the probe and enter the</p>
<p>command:</p>
<p>set dhcp on</p>
<p><i>71</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Selecting the Target Communication Protocol</i></p>
<h1 style="page-break-before:always; "></h1>
<p>If your DHCP server supports hostname and lease requests, you can optionally</p>
<p>specify your preferred hostname and lease setting to the probe:</p>
<p>set hostname myprobe</p>
<p>set dhcp_lease 5</p>
<p>The preceding example settings request a 5 day DHCP lease of an address assigned</p>
<p>to the hostname<b> myprobe</b>. To request an infinite lease, set<b> dhcp_lease</b> to 0.</p>
<p>If a DHCP hostname is not specified, the default hostname request is<b> ghprobe</b> with</p>
<p>the probe's serial number appended. For example, a probe with a serial number of</p>
<p>4000 has a default DHCP hostname of<b> ghprobe4000</b>. The default DHCP lease is</p>
<p>an infinite lease.</p>
<p>The probe informs you that you must reboot the probe before your settings will take</p>
<p>effect. To reboot the probe, either use the<b> reboot</b> command or power cycle the</p>
<p>probe.</p>
<p>After the probe boots, it prints out the IP address that it received. You can use this</p>
<p>IP address to telnet to the probe or connect with<b> mpserv</b>,<b> mpadmin</b>, etc.</p>
<p>The probe must acquire the DHCP IP address after the reboot. The probe cannot</p>
<p>print the address immediately if there are delays on your network.</p>
<p>To disable DHCP, enter the command:</p>
<p>set dhcp off</p>
<p><b>Example 4.1. Enabling DHCP</b></p>
<p>arm7tdmi[h] % set dhcp on</p>
<p>NOTE: You have to reboot for this option to take effect.</p>
<p>arm7tdmi[h] % reboot</p>
<p>...</p>
<p>[<i>*** BOOT MESSAGES ***</i>]</p>
<p>...</p>
<p>Type 'info' to list probe information.</p>
<p>Type 'setup' to set the current configuration.</p>
<p>Type 'help' to list the online help.</p>
<p>DHCP IP address bound: 192.168.100.206</p>
<p>Netmask bound:</p>
<p>255.255.255.0</p>
<p>Gateway bound:</p>
<p>192.168.100.254</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>72</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>arm7tdmi[h] %</p>
<p>This probe is now ready to be accessed using the IP address 192.168.100.206.</p>
<p><b>Setting the Number of Receive Lanes</b></p>
<p>The SuperTrace Probe v3 supports high-speed serial trace communication over the</p>
<p>Xilinx Aurora protocol. To configure the number of receive lanes used in the Aurora</p>
<p>link from the target to the probe, use the command:</p>
<p>set hsst_rx_lanes<i> n</i></p>
<p>where<i> n</i> is the number of transmit lanes provided by the target's Aurora block. This</p>
<p>option is only applicable if you have a target and SuperTrace probe that support</p>
<p>high-speed serial trace, and have the appropriate cable attached to your probe.</p>
<p><b>Setting the Netmask</b></p>
<p>To set the netmask for your Green Hills Probe or SuperTrace Probe Ethernet</p>
<p>connection, use the command:</p>
<p>set netmask<i> netmask</i></p>
<p>where<i> netmask</i> is the value of the netmask, specified in dotted quad notation. The</p>
<p>default setting is appropriate in most cases. Ask your system administrator if you</p>
<p>are unsure what this value should be. This setting does not take effect until the next</p>
<p>reboot.</p>
<p>Example:</p>
<p>set netmask 255.255.255.0</p>
<p>This command sets the netmask to</p>
<p>255.255.255.0</p>
<p>.</p>
<p><b>Setting the Gateway</b></p>
<p>To set the gateway for your Green Hills Probe or SuperTrace Probe Ethernet</p>
<p>connection, use the command:</p>
<p><i>73</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting the Number of Receive Lanes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>set gateway<i> gateway</i></p>
<p>where<i> gateway</i> is the value of the gateway, specified in dotted quad notation. This</p>
<p>setting does not take effect until the next reboot.</p>
<p>Example:</p>
<p>set gateway 192.168.0.1</p>
<p>This command sets the gateway to</p>
<p>192.168.0.1</p>
<p>.</p>
<p><b>Setting the Target Adapter Type</b></p>
<p>Green Hills Debug Probes support a wide variety of target boards with different</p>
<p>debug interfaces. To connect to your target, you must have a target adapter that</p>
<p>meets the electrical specification of the particular debug interface on your target</p>
<p>board. The<b> adapter</b> configuration option allows you to specify which target adapter</p>
<p>is currently being used with the probe. The syntax for setting this option is:</p>
<p>set adapter<i> adapter_type</i></p>
<p>where<i> adapter_type</i> represents the target adapter type (see “Green Hills Probe Target</p>
<p>Adapter Types” on page 383 or “SuperTrace Probe Trace Pod Types” on page 385</p>
<p>for a list of appropriate values for your probe type). The default setting is</p>
<p>auto</p>
<p>,</p>
<p>meaning that the probe detects what kind of adapter is attached.</p>
<p>If you are using TraceEverywhere cabling,</p>
<p>auto</p>
<p>is the only correct setting. Green</p>
<p>Hills Probe v3 TraceEverywhere kits are supported with firmware 3.8 or newer.</p>
<p>SuperTrace Probe TraceEverywhere kits are supported with firmware 5.0 or newer.</p>
<p>If you are using legacy cabling, the probe can usually detect your adapter type when</p>
<p>set to</p>
<p>auto</p>
<p>, but in some situations you may need to specify which target adapter</p>
<p>you are using.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>74</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Setting the I/O Interface Voltage</b></p>
<p><b>Warning</b></p>
<p>You must set this value correctly for your target CPU type. Setting the</p>
<p>value incorrectly can cause damage to the target system.</p>
<p>On a Green Hills Probe or SuperTrace Probe not connected to the Legacy Kit, first</p>
<p>try the<b> dlh</b> command (see “Configuration Commands” on page 175) to automatically</p>
<p>configure your logic levels.</p>
<p>On a SuperTrace Probe connected to the Legacy Kit (or if you need to enter a custom</p>
<p>value), use<b> set logic_high</b> to specify the I/O interface voltage. For example:</p>
<p>set logic_high<i> volts</i></p>
<p>where<i> volts</i> corresponds to your target system voltage (for most systems, this is 3.3</p>
<p>volts). The triggering level is 65% of the value of<b> logic_high</b>.</p>
<p><b>Note</b></p>
<p>Legacy kits can only accept the following four settings for<b> logic_high</b>:</p>
<p>1.5</p>
<p>,</p>
<p>1.8</p>
<p>,</p>
<p>2.5</p>
<p>, and</p>
<p>3.3</p>
<p>volts.</p>
<p>If you have a Green Hills Probe with a TraceEverywhere cable, there is</p>
<p>an adapter that connects the cable to the probe. If this adapter has a serial</p>
<p>number below</p>
<p>1001</p>
<p>, it is not recommended for use with targets that</p>
<p>require a<b> logic_high</b> setting below 2.5 volts. If you have one of these</p>
<p>cables and require this setting, contact Green Hills support.</p>
<p>On a TraceEverywhere Trace Pod, use the<b> trace_logic_high</b> option to specify the</p>
<p>trace input voltage.</p>
<p>Format:</p>
<p><b>set trace_logic_high</b> [ logic_high |<i> voltage</i> ]</p>
<p>•</p>
<p>logic_high</p>
<p>— Use the same I/O voltage as the</p>
<p>logic_high</p>
<p>setting. This</p>
<p>is the default.</p>
<p>•</p>
<p><i>voltage</i></p>
<p>— Specifies an independent trace I/O logic level.</p>
<p><i>75</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting the I/O Interface Voltage</i></p>
<h1 style="page-break-before:always; "></h1>
<p>This option controls the voltage threshold for trace signals, conforming</p>
<p>approximately to an LVCMOS standard at the given voltage (i.e., when set to 2.5,</p>
<p>the target interface roughly conforms to a 2.5 volt LVCMOS standard). The actual</p>
<p>voltage threshold used is further reduced internally when Trace Termination is</p>
<p>enabled (see “Setting Trace Termination Control on TraceEverywhere Pods</p>
<p>(SuperTrace Probe)” on page 91) to compensate for the dampened signals.</p>
<p>For example:</p>
<p>set trace_logic_high 1.2</p>
<p>Sets the trace I/O voltage reference corresponding to a 1.2 volt logic level</p>
<p>(approximately 0.6 volts without termination, or 0.5 volts with termination).</p>
<p><b>Specifying Your Target</b></p>
<p>To detect and configure your probe for the processor cores on your target, run the</p>
<p><b>detect</b> command (see “Configuration Commands” on page 175 for more information).</p>
<p>If<b> detect</b> cannot detect the proper settings for your target, you must configure the</p>
<p>target setting manually. To do so, enter the command:</p>
<p><b>set target<i></b> device_name</i> ...</p>
<p>where each<i> device_name</i> is one of the devices listed in “Supported Devices”</p>
<p>on page 368. If your target has a BDM or SWD debug interface, specify one</p>
<p><i>device_name</i>. If your target has a JTAG debug interface, specify one<i> device_name</i></p>
<p>for each test access port (TAP) controller in your target's JTAG scan chain. List the</p>
<p>devices in the same order as they appear in the JTAG scan chain, starting from the</p>
<p>probe's TDI pin: list the device closest to the probe's TDI pin first, and the device</p>
<p>closest to the probe's TDO pin last.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>76</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Specifying Multiple Cores and Multiple JTAG TAPs</b></p>
<p>The<b> detect</b> command can detect each TAP on a multiple-TAP target and configure</p>
<p>your probe accordingly.</p>
<p>You can also manually specify multiple TAPs by using multiple<i> device_name</i></p>
<p>arguments for the<b> set target</b> command. For example, if there are two PPC750</p>
<p>processors on your target, use the following command:</p>
<p>set target ppc750 ppc750</p>
<p>If your target board uses one JTAG TAP controller for multiple cores, specify just</p>
<p>one<i> device_name</i> argument for that TAP controller. For example:</p>
<p>set target ppc8572</p>
<p>For information about bypassing one or more of the devices on the JTAG scan</p>
<p>chain, see the following section.</p>
<p><b>Note</b></p>
<p>Multi-core debugging is not currently supported for PowerPC 8xx/5xx</p>
<p>and ColdFire targets.</p>
<p><b>Specifying Bypassed Devices</b></p>
<p>If there is a device on your JTAG scan chain that you do not want to or cannot</p>
<p>debug (such as an FPGA or peripheral chip), bypass it by adding the following</p>
<p><i>device_name</i> to the<b> set target</b> command:</p>
<p>other(<i>bypass_inst_length</i>,<i> bypass_inst</i>,<i> bypass_length</i>)</p>
<p>where:</p>
<p>•</p>
<p><i>bypass_inst_length</i> — Specifies the length in bits of the device's JTAG bypass</p>
<p>instruction.</p>
<p>•</p>
<p><i>bypass_inst</i> — Specifies the device's JTAG bypass instruction in hexadecimal.</p>
<p>The instruction is truncated to the instruction bypass length, and is usually all</p>
<p>1</p>
<p>s.</p>
<p>•</p>
<p><i>bypass_length</i> — Specifies the length in bits of the device's JTAG scanchain</p>
<p>when in bypass, which is usually 1 bit.</p>
<p><i>77</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Specifying Your Target</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For example, consider a JTAG chain that includes three devices, arranged as follows:</p>
<p>This scan chain includes two peripheral devices, A (with a bypass instruction length</p>
<p>of 5 bits and a bypass length of 1 bit) and B (with a bypass instruction length of 4</p>
<p>bits and a bypass length of 1 bit) with an XScale processor in between them. To</p>
<p>specify this target, you would use the following command:</p>
<p>set target other(5,0x1f,1) xscale other(4,0xf,1)</p>
<p>Debug operations are not available for bypassed cores. When the probe scans the</p>
<p>JTAG chain, these cores are placed in bypass and are not reported to MULTI. The</p>
<p>only operations supported on these cores are the generic JTAG commands<b> ji</b>,<b> jd</b>,</p>
<p><b>jr</b>, and<b> vb</b>.</p>
<p><b>Specifying ARM Targets with an Embedded Trace Buffer</b></p>
<p>If your target has an embedded trace buffer (ETB) and is not a member of the Cortex</p>
<p>family, use the following command to configure the target setting manually:</p>
<p>set target<i> device_name</i> armetb</p>
<p>where<i> device_name</i> is one of the ARM devices listed in “Supported Devices”</p>
<p>on page 368.</p>
<p><b>Specifying CoreSight Targets</b></p>
<p>A CoreSight DAP appears as a single JTAG TAP or SWD device, but can provide</p>
<p>access to multiple cores and other debug components. A CoreSight DAP and its</p>
<p>member components are specified to the probe in the following manner:</p>
<p>csdap(component[*quantity] [component[*quantity]] ...)</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>78</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For example, to specify a CoreSight DAP containing two Cortex-A15 cores, two</p>
<p>Cortex-A7 cores, a CoreSight Trace Funnel, an ETB and a TPIU, you would use</p>
<p>the target type:</p>
<p>csdap(a15*2 a7*2 cstf etb tpiu)</p>
<p>The following non-CPU CoreSight components are supported:</p>
<p>•</p>
<p>etb</p>
<p>— Embedded Trace Buffer</p>
<p>•</p>
<p>cti</p>
<p>— Cross-Trigger Interface</p>
<p>•</p>
<p>tpiu</p>
<p>— Trace Port Interface Unit</p>
<p>•</p>
<p>etf</p>
<p>— Embedded Trace Funnel</p>
<p>•</p>
<p>etr</p>
<p>— Embedded Trace Router*</p>
<p>•</p>
<p>cstf</p>
<p>— CoreSight Trace Funnel</p>
<p>•</p>
<p>stm</p>
<p>— System Trace Macrocel*</p>
<p>•</p>
<p>itm</p>
<p>— Instrumentation Trace Macrocel*</p>
<p>* Access to STM, ITM and ETR registers is provided. Collecting trace from an</p>
<p>STM, ITM or ETR is not supported.</p>
<p>See “Supported Devices” on page 368 for a list of available CoreSight targets.</p>
<p><b>Note</b></p>
<p>The per-core options for specifying the AP Index and register base address</p>
<p>must be correctly set. These include:</p>
<p>•</p>
<p>Cortex-M Cores:</p>
<p>○</p>
<p>ahb_index</p>
<p>•</p>
<p>ARMv7-A and ARMv7-R Cores:</p>
<p>○</p>
<p>apb_index</p>
<p>○</p>
<p>memap_type</p>
<p>○</p>
<p>memap_index</p>
<p>○</p>
<p>cortex_addr</p>
<p>○</p>
<p>cti_addr</p>
<p>○</p>
<p>etm_addr</p>
<p><i>79</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Specifying Your Target</i></p>
<h1 style="page-break-before:always; "></h1>
<p>○</p>
<p>ptm_addr</p>
<p>•</p>
<p>Non-CPU cores:</p>
<p>○</p>
<p>ap_index</p>
<p>○</p>
<p>address</p>
<p>In most cases, the<b> detect</b> command can set them for you.</p>
<p><b>Specifying MIPS Targets with Multiple TCs and VPEs</b></p>
<p>If your target is a MIPS processor with the MT (multithreading) ASE (such as the</p>
<p>34K or 1004K) and has multiple thread contexts (TCs) and virtual processor</p>
<p>environments (VPEs), you may need to specify your target manually. To do so, list</p>
<p>all devices on the scan chain, using the following additional syntax:</p>
<p>•</p>
<p>Specify additional VPEs as</p>
<p>mips_vpe</p>
<p>•</p>
<p>For each 34K processor, append</p>
<p>.<i>n</i></p>
<p>to<i> device_name</i>, where<i> n</i> is the number of</p>
<p>TCs.</p>
<p>For example, if you have a 34K with 2 TCs and 1 VPE (no additional VPEs)</p>
<p>followed by another 34K with 3 TCs and 2 VPEs, use the following command to</p>
<p>specify your target:</p>
<p>set target mips32_34kc.2 mips32_34kc.3 mips_vpe</p>
<p><b>Specifying PowerPC Targets with e6500 Cores</b></p>
<p>PowerPC e6500 cores are dual-threaded. Normally the probe lists all threads of all</p>
<p>cores of a target in sequence: the probe's core</p>
<p>ID 0</p>
<p>is e6500 core 0 thread 0;</p>
<p>ID</p>
<p>1</p>
<p>is e6500 core 0 thread 1;</p>
<p>ID 2</p>
<p>is e6500 core 1 thread 0; and so on.</p>
<p>When debugging an operating system that does not use the secondary threads of</p>
<p>each core, it may be helpful to have the probe hide the secondary threads. You can</p>
<p>do this by appending</p>
<p>.singlethreaded</p>
<p>to the target setting. For example:</p>
<p>set target ppcT4240.singlethreaded</p>
<p>configures the probe to debug only thread 0 of each of the T4240's twelve cores.</p>
<p>Only use the</p>
<p>.singlethreaded</p>
<p>suffix when the secondary threads are disabled.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>80</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Specifying Targets That Have An ICEPick</b></p>
<p>If you are debugging a Texas Instruments target that has an ICEPick, such as an</p>
<p>OMAP3 or DaVinci board, specify it with the following argument:</p>
<p>icepick(<i>id</i>:<i>device_name</i>...)</p>
<p>where<i> id</i> is the position of the device in the scan chain behind the ICEPick (starting</p>
<p>with</p>
<p>0)</p>
<p>and<i> device_name</i> is one of the devices listed in “Supported Devices”</p>
<p>on page 368. For example, to specify a typical DaVinci board, use the following</p>
<p>command:</p>
<p>set target icepick(0:arm926 1:armetb)</p>
<p>Any devices behind an ICEPick that you do not specify are bypassed by the probe;</p>
<p>you do not need to use the</p>
<p>other</p>
<p>argument to bypass them. For example, to specify</p>
<p>an OMAP3, use the following command:</p>
<p>set target icepick(3:omap3)</p>
<p>If you have a revision D ICEPick, use</p>
<p>icepick.d</p>
<p>instead of</p>
<p>icepick</p>
<p>. For example,</p>
<p>the correct target setting for an OMAP4 is:</p>
<p>set target icepick.d(9:omap4)</p>
<p><b>Selecting the Current Core On Multiple-Core Targets</b></p>
<p>After you use the<b> detect</b> or<b> set target</b> command, the probe sets the currently selected</p>
<p>core to the first core in the JTAG scan chain. The name of the selected core appears</p>
<p>in the probe's prompt. Most probe commands are sent to this selected core. To</p>
<p>change the selected core, use the following command:</p>
<p>t<i> core</i></p>
<p>where<i> core</i> is the core's ID. To obtain a list of cores and their IDs, use:</p>
<p>tl</p>
<p>You can also use the<b> t</b> command to send commands to groups of cores, or send</p>
<p>commands to a specific core without changing the selected core. For more</p>
<p>information, see “Run Control Commands” on page 202.</p>
<p><i>81</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Specifying Your Target</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Setting the Serial Communication Speed</b></p>
<p>To set the serial communication speed for a serial connection to a Green Hills Probe</p>
<p>or SuperTrace Probe, use the command:</p>
<p>set baudrate<i> baudrate</i></p>
<p>where<i> baudrate</i> is 2400, 4800, 9600, 19200, 38400, 57600, or 115200. This setting</p>
<p>takes effect immediately.</p>
<p>If this command is entered from a serial console, you must immediately reconfigure</p>
<p>your communications software to the new baud rate.</p>
<p><b>Enabling or Disabling the Status Checker</b></p>
<p>Green Hills Debug Probes feature a status checker that can be used to continually</p>
<p>poll the target's status and report changes. To enable or disable the status checker,</p>
<p>use the command:</p>
<p>set checker on|off</p>
<p><b>Note</b></p>
<p>If status checking is not enabled, you can use the<b> ti</b> command to request</p>
<p>the current target status. MULTI is not dependent on the<b> checker</b></p>
<p>configuration option.</p>
<p><b>Setting the JTAG or SWD Clock Speed</b></p>
<p>You may want or need to adjust the JTAG or SWD clock speed to increase</p>
<p>performance, or to resolve problems with your connection. Faster clock speeds</p>
<p>result in higher performance. However, if the clock speed is too high, reliability</p>
<p>can be compromised. In some cases, clock speeds might be rounded due to hardware</p>
<p>requirements.</p>
<p>To set the clock speed, use the command:</p>
<p>set clock<i> speed</i></p>
<p>where<i> speed</i> is the clock speed in Hz.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>82</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>The supported values for<i> speed</i> vary depending on your probe model. As a result,</p>
<p>some of the examples below may not be supported on your probe. To view a range</p>
<p>of supported values, use the command:</p>
<p>set clock ?</p>
<p><b>Example 4.2. Using set clock</b></p>
<p>To set the JTAG or SWD clock speed to 10MHz, use the following command:</p>
<p>set clock 10000000</p>
<p>You can also specify clock speed with units of kilohertz (kHz) or megahertz (MHz).</p>
<p>The unit specifier is case-sensitive. For example, the following commands both set</p>
<p>the clock speed to 10MHz:</p>
<p>set clock 10 MHz</p>
<p>set clock 10000 kHz</p>
<p><b>Enabling or Disabling Target Power Detection</b></p>
<p>The status checker can be used to determine whether or not the target has power.</p>
<p>To enable or disable this feature, use the command:</p>
<p>set power_detect on|off</p>
<p>This option is on by default. If you disable it by setting the option or loading a</p>
<p>configuration file, you must always tri-state the probe's outputs before turning on</p>
<p>your target (see “The User Button” on page 5). Re-enable the probe's outputs only</p>
<p>after your target is in a state where it can be debugged.</p>
<p><b>Configuring Probe Run Mode Behavior on Host Disconnect</b></p>
<p>When using Probe Run Mode, you may need to specify whether or not the Run</p>
<p>Mode Proxy continues running when the connection that started the Proxy exits. If</p>
<p>you disconnect the Stop-Mode connection, it usually means you are done using the</p>
<p>Run-Mode connection as well. However, if you do not want to continue using the</p>
<p>Stop-Mode connection, set the option to on to make the Run-Mode connection</p>
<p>persist when the Stop-Mode connection exits. You may also want to enable this</p>
<p>option if you start the Probe Run Mode Proxy from a telnet session, so that the</p>
<p><i>83</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Enabling or Disabling Target Power Detection</i></p>
<h1 style="page-break-before:always; "></h1>
<p>connection persists after you close the telnet session. To change this behavior, use</p>
<p>the command:</p>
<p>set prm_ignore_disconnect on|off</p>
<p>where:</p>
<p>•</p>
<p><b>on</b> — The Probe Run Mode Proxy continues running even when the connection</p>
<p>that started the Proxy disconnects.</p>
<p>•</p>
<p><b>off</b> — [default] When the Probe Run Mode Proxy is running and the connection</p>
<p>that started the Proxy disconnects, the Proxy exits, interrupting anything that</p>
<p>uses it.</p>
<p><b>Configuring Probe Run Mode Behavior on Target Reset</b></p>
<p>When using Probe Run Mode, you may want to control whether or not the Run</p>
<p>Mode Proxy continues running when a target reset is initiated. To change this</p>
<p>behavior, use the command:</p>
<p>set prm_ignore_reset on|off</p>
<p>where:</p>
<p>•</p>
<p><b>on</b> — The Probe Run Mode Proxy continues running even if you reset your</p>
<p>target using the probe. Use this option if you are debugging out of ROM and</p>
<p>want the Proxy to reconnect to the kernel when it boots.</p>
<p>•</p>
<p><b>off</b> — [default] When the Probe Run Mode Proxy is running and the probe</p>
<p>resets the target, the Proxy exits, interrupting anything using the proxy. Usually,</p>
<p>during development and when downloading an INTEGRITY kernel, the target</p>
<p>reset at the beginning of your setup script ensures that the Proxy stops before</p>
<p>the new kernel downloads and runs. If the target is reset by a mechanism other</p>
<p>than the probe, the Proxy continues running.</p>
<p><b>Enabling or Disabling the Serial Terminal</b></p>
<p>Turns the probe's serial terminal console interface on or off. When turned off, the</p>
<p>probe serial port is made available for use as a remote serial port with the<b> pterminal</b></p>
<p>command or other utility. When turned on (the default), the probe serial port presents</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>84</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>a command line console interface which will accept debug commands in the same</p>
<p>fashion as mpserv, gpadmin, or telnet to TCP port 23.</p>
<p>To turn the probe's serial terminal console interface on or off use the command:</p>
<p>set serial_terminal on|off</p>
<p>Holding down the USER button for 5 seconds when this option is off will temporarily</p>
<p>re-enable the console terminal interface. The console terminal behavior will revert</p>
<p>to the saved value the next time the probe boots.</p>
<p><b>serial_terminal</b> must be off when using the probe as a remote serial port. See the</p>
<p><b>pterminal</b> command in “System Commands” on page 187 for more information.</p>
<p><b>Setting the User String</b></p>
<p>The<i> user string</i> is used to name and identify a Green Hills Probe or SuperTrace</p>
<p>Probe, and appears on the startup screen. To set the user string, enter the command:</p>
<p>set user_string<i> string</i></p>
<p><b>Disabling Multiple Binary Connections</b></p>
<p>The option<b> single_mpserv_only</b> prevents multiple binary<b> mpserv</b> connections to</p>
<p>the probe. After a USB connection has been started, it does not terminate. To</p>
<p>subsequently connect using Ethernet, reboot the probe or disable this option.</p>
<p>If there is already more than one binary connection, enabling this option does not</p>
<p>close any current connections, but prevents further connections from being made.</p>
<p>When set to<b> off</b>, the probe allows multiple<b> mpserv</b> connections.</p>
<p>When set to<b> on</b>, the probe allows only one<b> mpserv</b> connection.</p>
<p>This option defaults to<b> off</b>. To change this setting, use the following command:</p>
<p><b>set single_mpserv_only</b> on | off</p>
<p><i>85</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting the User String</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Setting the CPU Reset Pulse Length</b></p>
<p>The reset pulse length might need to be adjusted from the default if your target</p>
<p>requires a longer result pulse to reset the target. To specify the reset pulse length,</p>
<p>enter the command:</p>
<p>set rst_pulse<i> milliseconds</i></p>
<p>where<i> milliseconds</i> specifies the minimum time in milliseconds that the nRST line</p>
<p>will be held low during a reset.</p>
<p><b>Note</b></p>
<p>For MIPS targets, the<b> rst_handshake_timeout</b> option may also need to</p>
<p>be adjusted. See “MIPS” on page 119 for more information.</p>
<p><b>Setting the JTAG TAP Reset Pulse Length</b></p>
<p>The JTAG TAP reset pulse length may need to be adjusted from the default if your</p>
<p>target needs a longer result pulse to reset the JTAG TAP controller. To specify the</p>
<p>JTAG TAP reset pulse length, use the command:</p>
<p>set jrst_pulse<i> milliseconds</i></p>
<p>where<i> milliseconds</i> specifies how long the nTRST line will be held low during a</p>
<p>JTAG TAP reset.</p>
<p><b>Setting the Reset Settle Length</b></p>
<p>The reset settle length may need to be adjusted if your target needs more time to</p>
<p>stabilize before issuing commands. To specify the reset settle length, use the</p>
<p>command:</p>
<p>set rst_settle<i> milliseconds</i></p>
<p>where<i> milliseconds</i> specifies how long the probe waits after an nRST pulse is issued</p>
<p>before scanning any commands into the target.</p>
<p>You may need the probe to wait for an additional amount of time after waiting and</p>
<p>detecting that the target has powered on. To specify the power on settle length, use</p>
<p>the command:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>86</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>set power_on_settle<i> milliseconds</i></p>
<p><b>Setting the JTAG TAP Reset Settle Length</b></p>
<p>The JTAG TAP reset settle length may need to be adjusted if your target needs</p>
<p>more time to stabilize before issuing commands. To specify the JTAG TAP reset</p>
<p>settle length, use the command:</p>
<p>set jrst_settle<i> milliseconds</i></p>
<p>where<i> milliseconds</i> specifies how long the probe waits after an nTRST pulse is</p>
<p>issued before scanning any commands into the target.</p>
<p><b>Setting Reset Pin and JTAG TAP Interaction</b></p>
<p>Ideally, asserting the reset pin (nRST) on your target does not affect the JTAG TAP,</p>
<p>so you can communicate with the TAP while asserting the reset pin. However, the</p>
<p>reset pin and TAP do not operate independently on all targets. For more information,</p>
<p>see “Diagnosing Reset Line Problems” on page 319.</p>
<p>If asserting the reset pin on your target resets or freezes the TAP, set the following</p>
<p>option so that the probe is aware of your target's behavior:</p>
<p><b>set target_reset_pin</b> independent | freezes_tap | resets_tap</p>
<p>•</p>
<p><b>independent</b> — [default] Asserting the reset pin does not affect the TAP at</p>
<p>all.</p>
<p>•</p>
<p><b>freezes_tap</b> — Asserting the reset pin freezes the TAP. When the reset pin is</p>
<p>deasserted, the TAP resumes operation. This occurs in targets where asserting</p>
<p>the reset pin freezes the clock signal to the TAP, but the TAP reset line is not</p>
<p>affected.</p>
<p>•</p>
<p><b>resets_tap</b> — Asserting the reset pin resets the TAP. This typically occurs</p>
<p>when the reset line and the TAP reset line are wired together on the board.</p>
<p><b>Note</b></p>
<p>This option tells the probe what to expect from your hardware, but does</p>
<p>not change the way your hardware operates.</p>
<p><i>87</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting the JTAG TAP Reset Settle Length</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Setting the Drive Strength of TraceEverywhere Pods (SuperTrace Probe)</b></p>
<p>To control the JTAG signal drive strength on TraceEverywhere (TE) pods, use the</p>
<p>command:</p>
<p>set jtag_drive [auto|slow|medium|fast]</p>
<p>where:</p>
<p>•</p>
<p><b>auto</b> — selects the drive state based on the<b> logic_high</b> setting (</p>
<p>fast</p>
<p>for lower</p>
<p>voltages,</p>
<p>medium</p>
<p>for higher voltages).</p>
<p>•</p>
<p><b>slow</b> — the output buffer is driven through an effective resistance of 5 ohms.</p>
<p>•</p>
<p><b>medium</b> — the output buffer is driven through an effective resistance of 28</p>
<p>ohms.</p>
<p>•</p>
<p><b>fast</b> — the output buffer is driven through an effective resistance of 110 ohms.</p>
<p><b>Setting the Byte Order (Endianness)</b></p>
<p>To specify the byte order of the target, use the command:</p>
<p>set endianness<i> mode</i></p>
<p>where<i> mode</i> is either</p>
<p>big</p>
<p>for big endian or</p>
<p>little</p>
<p>for little endian.</p>
<p><b>Note</b></p>
<p>You can use the<b> detect</b> command or the<b> de</b> command to automatically</p>
<p>detect the target byte order. See the table in “Green Hills Debug Probe</p>
<p>Commands” on page 174 for descriptions of these commands.</p>
<p><b>Setting the Trace Clock Source (SuperTrace Probe)</b></p>
<p>To specify the clock-to-data timing used for capturing trace data, use the command:</p>
<p><b>set trace_clock_source</b> [ normal | bulk_delay | pll ]</p>
<p>•</p>
<p><b>normal</b> — [default] Routes the trace clock from the target directly to the buffers</p>
<p>that capture the trace data. In this configuration, the SuperTrace Probe's timing</p>
<p>parameters are identical to those listed on its datasheet.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>88</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><b>bulk_delay</b> — Delays the trace clock by about 20 ns. Usually, this setting is</p>
<p>required only in cases where phase adjustment is necessary, but the trace clock</p>
<p>is not compatible with phase-locked loop (PLL) clock management (for</p>
<p>example, trace clocks that change at run time).</p>
<p>•</p>
<p><b>pll</b> — Uses a PLL for fine grained control over the clock-to-data timing used</p>
<p>for capturing trace data. The PLL has two major restrictions:</p>
<p>1.</p>
<p>On SuperTrace Probe v1 — Only ARM pods have a<b> pll</b> option, and</p>
<p>it can only be used with trace clock frequencies above 50 MHz.</p>
<p>○</p>
<p>○</p>
<p>On SuperTrace Probe v3 with the Legacy Pod — All architectures</p>
<p>have a<b> pll</b> option. On PPC405 and PPC440, it can only be used with</p>
<p>trace clock frequencies above 50 MHz. On all other architectures, it</p>
<p>can only be used with trace clock frequencies above 25 MHz.</p>
<p>○</p>
<p>On SuperTrace Probe v3 with the TraceEverywhere Pod — All</p>
<p>architectures have a<b> pll</b> option, and it can only be used with trace</p>
<p>clock frequencies above 5 MHz.</p>
<p>(Remember to take into account any double-data-rate or clock division</p>
<p>features of your trace port.)</p>
<p>2.</p>
<p>After the PLL is locked, its tolerance for clock period jitter is +/-1 ns. For</p>
<p>these reasons, the PLL setting is unsuitable for trace ports that:</p>
<p>○</p>
<p>have relatively slow clocks</p>
<p>○</p>
<p>gate the trace clock</p>
<p>○</p>
<p>vary the trace clock frequency at run time</p>
<p>If you use this setting, use the<b> trace_clock_phase</b> setting to adjust the</p>
<p>clock-to-data timing that the SuperTrace Probe uses for capturing data from</p>
<p>the trace port.</p>
<p><b>Setting the Trace Clock Phase (SuperTrace Probe)</b></p>
<p>This setting has no effect unless<b> trace_clock_source</b> is set to<b> pll</b>. To adjust the</p>
<p>clock-to-data timing requirements of the SuperTrace Probe, use the command:</p>
<p><b>set trace_clock_phase<i></b> phase</i></p>
<p><i>89</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting the Trace Clock Phase (SuperTrace Probe)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><i><b>phase</b></i> — The phase offset, in 256ths of a trace clock period. The valid range</p>
<p>for the phase is</p>
<p>-127</p>
<p>to</p>
<p>+127</p>
<p>. If the phase is set to 0, the timing requirements</p>
<p>of the SuperTrace Probe match those listed in the probe's datasheet. If the phase</p>
<p>is not</p>
<p>0</p>
<p>, the setup and hold times listed in the datasheet still apply, but the point</p>
<p>around which they center is no longer the edge of the trace clock as seen at the</p>
<p>clock input.</p>
<p>For example, if you set<i> phase</i> to</p>
<p>64</p>
<p>, the adjusted trace clock used for data capture</p>
<p>is 1/4 of one trace clock period ahead of the trace clock at the clock input. If the</p>
<p>trace clock were running at 100 MHz, the period would be 10 ns, meaning that the</p>
<p>SuperTrace Probe would capture data from the trace port 2.5 ns after the</p>
<p>corresponding edge (rising or falling) is seen on the clock signal at the probe's trace</p>
<p>clock input.</p>
<p><b>Setting the Trace Clock Delay (SuperTrace Probe)</b></p>
<p>This setting has no effect unless<b> trace_clock_source</b> is set to<b> pll</b>, and the</p>
<p>TraceEverywhere pod is connected. For other restrictions, see “Setting the Trace</p>
<p>Clock Source (SuperTrace Probe)” on page 88.</p>
<p>To adjust the clock-to-data timing requirements of the SuperTrace Probe, use the</p>
<p>command:</p>
<p><b>set trace_clock_delay</b> $<i>delay_steps</i></p>
<p>The allowed adjustment range is</p>
<p>-255</p>
<p>to</p>
<p>+255</p>
<p>, with the default being</p>
<p>0</p>
<p>; however,</p>
<p>the usable range may also be limited by the frequency of the incoming trace clock.</p>
<p>When this option is</p>
<p>0</p>
<p>, the timing requirements of the SuperTrace Probe match those</p>
<p>listed in the SuperTrace Probe's datasheet.</p>
<p>When this option is not</p>
<p>0</p>
<p>, the setup and hold times listed in the SuperTrace Probe's</p>
<p>datasheet still apply, but the point around which they center is no longer the edge</p>
<p>of the trace clock as seen at the SuperTrace Probe's clock input. Instead it is the</p>
<p>edge plus or minus some number of delay steps. The units of this parameter vary</p>
<p>based on the frequency of the incoming trace clock, but are constrained to a minimum</p>
<p>of 10 ps, a maximum of 40 ps, and a typical value of 26 ps per delay step.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>90</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Setting Trace Termination Control on TraceEverywhere Pods (SuperTrace</b></p>
<p><b>Probe)</b></p>
<p>To control the trace termination circuitry on TraceEverywhere (TE) pods, enter the</p>
<p>following command:</p>
<p>set trace_term_enable [on|off]</p>
<p>where:</p>
<p>•</p>
<p><b>on</b> — a 270 ohm pull-down is enabled on each of the trace signals into the pod.</p>
<p>•</p>
<p><b>off</b> — the pull-down is not enabled.</p>
<p><b>Setting the User Button Behavior</b></p>
<p>To configure what the probe does when you press the<b> User</b> button on its front panel,</p>
<p>enter the following command:</p>
<p><b>set user_button</b> tri-state | halt | publish</p>
<p>•</p>
<p><b>tri-state</b> — [default] Pressing the<b> User</b> button tri-states the probe, meaning</p>
<p>that all target connector pins are put in a high impedance state. In this mode,</p>
<p>the LEDs on the right side of the probe blink. When the probe is tri-stated, you</p>
<p>can safely unplug your target board from your probe, even though the probe</p>
<p>is powered on. To leave this mode, press the<b> User</b> button a second time, or</p>
<p>issue the</p>
<p>jp on</p>
<p>command.</p>
<p>•</p>
<p><b>halt</b> — Pressing the<b> User</b> button halts all processors on the target.</p>
<p>•</p>
<p><b>publish</b> — Reserved for future use.</p>
<p><b>Specifying Download Verification</b></p>
<p>This setting specifies whether a downloaded image is read back from the target to</p>
<p>compare to the downloaded image, and if so, whether the full image is read back</p>
<p>and compared, or a small subset of the image is read back and compared.</p>
<p>If the data read back does not match the data downloaded, an error indicating the</p>
<p>location and value of the first mismatch is output.</p>
<p><i>91</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Setting Trace Termination Control on TraceEverywhere Pods (SuperTrace Probe)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>To configure what is read back from the target and compared to the download for</p>
<p>verification, use the following command:</p>
<p><b>set verify_download</b> off | sparse | full</p>
<p>•</p>
<p>off</p>
<p>— No image will be downloaded and compared. Set this option to</p>
<p>off</p>
<p>for maximum download speed.</p>
<p>•</p>
<p>sparse</p>
<p>— A small subset of the downloaded image is read back from the</p>
<p>target and compared to the downloaded image.</p>
<p>•</p>
<p>full</p>
<p>— The full image is read back and compared.</p>
<p><b>Target-Specific Configuration Options</b></p>
<p>The options listed in this section work only for certain targets. These commands</p>
<p>are listed below in tables according to the architecture family.</p>
<p><b>ARC</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the ARC device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command).</p>
<p><b>agent</b></p>
<p>For ARC processors, this setting specifies a location to write a</p>
<p>NOP</p>
<p>for use in pipe cleaning.</p>
<p>The probe restores the data after it has finished using it.</p>
<p>To change the<b> agent</b> setting, enter the command:</p>
<p><b>set agent<i></b> address</i></p>
<p>Where<i> address</i> is an address that is not the target of a branch in your program. We recommend</p>
<p>that you use an address outside the program altogether, in the stack, or in the heap of the program.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>92</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>step_ints</b></p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, interrupts are disabled on the target during a single-step. When</p>
<p>this option is turned on, interrupts are left alone so a single-step can go to an interrupt handler</p>
<p>instead of the next instruction.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><b>check_cache</b></p>
<p>Applies to ARCtangent-A5 targets only.</p>
<p>Controls whether or not the probe checks the validity of each cache entry before flushing it.</p>
<p>Some revisions of the ARC A5 core have a cache bug that causes zeros to be written to memory</p>
<p>when flushing an invalid cache entry with the dirty bit set. Set this option to</p>
<p>on</p>
<p>if your core has</p>
<p>this bug.</p>
<p>To turn this setting on or off, enter the command:</p>
<p><b>set check_cache</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] the probe checks the validity of each cache entry before flushing it.</p>
<p>•</p>
<p>off</p>
<p>— the probe does not check the validity of each cache entry before flushing it. If your</p>
<p>target has this cache bug, the problem occurs most noticeably when setting breakpoints.</p>
<p>For newer ARC A5 revisions that do not have this bug, you can safely set this option to</p>
<p>off</p>
<p>. You may see a minor performance increase in some memory operations.</p>
<p><i>93</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the ARM device names, except for XScale devices (see</p>
<p>“Specifying Your Target” on page 76 for information about specifying the target</p>
<p>device name with the<b> set target</b> command). For XScale, see “XScale” on page 159.</p>
<p><b>abort_check</b></p>
<p>Applies to ARM7 and ARM9 cores only.</p>
<p>Enables or disables abort checking. Unless your probe is connected to a target that incorrectly</p>
<p>reports data aborts in debug mode, do not explicitly set this option.</p>
<p>To turn abort checking on or off, enter the command:</p>
<p><b>set abort_check</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] Any data abort generated during a probe memory access causes that memory</p>
<p>access to fail.</p>
<p>•</p>
<p>off</p>
<p>— The probe ignores data aborts generated during probe memory accesses. This option</p>
<p>may improve compatibility with targets whose external peripherals incorrectly report data</p>
<p>aborts.</p>
<p><b>address</b></p>
<p>Applies to CoreSight components other than CPUs.</p>
<p>The base address of the registers for this debug component.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set address</b> [<i>address</i>]</p>
<p>where<i> address</i> is within the supported range</p>
<p>0x0</p>
<p>–</p>
<p>0xfffff000</p>
<p>, and must be aligned to</p>
<p>0x1000</p>
<p>.</p>
<p><b>ahb_index</b></p>
<p>Applies to ARMv7-M and ARMv6-M targets.</p>
<p>The index of the AHB-AP that provides access to the core's debug registers.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set ahb_index<i></b> value</i></p>
<p>where<i> value</i> is within the supported range of</p>
<p>0x00</p>
<p>–</p>
<p>0xff</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>94</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ap_index</b></p>
<p>Applies to CoreSight components other than CPUs.</p>
<p>The index of the MEM-AP that provides access to the component's registers.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set ap_index<i></b> value</i></p>
<p>where<i> value</i> is within the supported range of</p>
<p>0x00</p>
<p>–</p>
<p>0xff</p>
<p>.</p>
<p><b>apb_index</b></p>
<p>Applies to ARMv7-A and ARMv7-R targets.</p>
<p>The index of the APB-AP that provides access to the core's debug registers.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set apb_index<i></b> value</i></p>
<p>where<i> value</i> is within the supported range of</p>
<p>0x00</p>
<p>–</p>
<p>0xff</p>
<p>.</p>
<p><b>arm720_r4_cp_access</b></p>
<p>Revision 4 of the ARM720 core changed the way that the probe accesses coprocessor 15 registers.</p>
<p>When this option is<b> on</b>, the probe accesses coprocessor 15 registers in a manner that is acceptable</p>
<p>for revision 4.</p>
<p>When this option is set to<b> off</b>, the probe accesses coprocessor 15 registers in a manner that is</p>
<p>acceptable for revision 3 and earlier. You must turn this option<b> on</b> if you are using the revision</p>
<p>4 ARM720 core.</p>
<p><b>set arm_720_r4_cp_access</b> on | off</p>
<p><b>associated_core</b></p>
<p>Associates the ARM embedded trace buffer (ETB) with a specific core. If your target has multiple</p>
<p>cores, this option is necessary because the probe cannot detect which core an ETB is associated</p>
<p>with.</p>
<p>To set the associated core, enter the command:</p>
<p><b>set associated_core<i></b> core</i></p>
<p><b>be_mode</b></p>
<p>Controls the big endian mode used for cores with two different big endian modes. This option</p>
<p>is only visible when big endian mode is enabled. To set the mode, enter the command</p>
<p>set</p>
<p>endianness big</p>
<p>, and then enter:</p>
<p><b>set be_mode</b> be32 | be8</p>
<p>•</p>
<p>be32</p>
<p>— The probe uses BE-32 mode. This is the correct setting for ARMv7-R processors</p>
<p>that have the</p>
<p>SCR[IE]</p>
<p>set, even though such processors technically run in</p>
<p>BE-8</p>
<p>mode.</p>
<p>•</p>
<p>be8</p>
<p>— The probe uses BE-8 mode.</p>
<p><i>95</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>catch_<i>exception</b></i></p>
<p>Determines whether or not to halt the core before executing the first instruction of the exception</p>
<p>handler for<i> exception</i>. The following values for<i> exception</i> apply to ARM9, ARM11, and Cortex</p>
<p>cores, except the Cortex-M family:</p>
<p>•</p>
<p>abort</p>
<p>— Data Abort</p>
<p>•</p>
<p>fiq</p>
<p>— FIQ</p>
<p>•</p>
<p>irq</p>
<p>— IRQ</p>
<p>•</p>
<p>prefetch</p>
<p>— Prefetch Abort</p>
<p>•</p>
<p>reset</p>
<p>— Reset</p>
<p>•</p>
<p>undef</p>
<p>— Undefined Instruction</p>
<p>The following value for<i> exception</i> applies to ARM9, ARM11, and XScale:</p>
<p>•</p>
<p>swi</p>
<p>— Software Interrupt (SWI)</p>
<p>The following value for<i> exception</i> applies to Cortex-A and Cortex-R:</p>
<p>•</p>
<p>svc</p>
<p>— Secure Monitor Call (SMC) and Supervisor Call (SVC)</p>
<p>The following values for<i> exception</i> apply to Cortex-M3 and Cortex-M4 processors only:</p>
<p>•</p>
<p>buserr</p>
<p>— Normal Bus Error</p>
<p>•</p>
<p>chkerr</p>
<p>— Usage Fault Enabled Checking Error</p>
<p>•</p>
<p>harderr</p>
<p>— Hard Fault Error (also applies to Cortex-M0)</p>
<p>•</p>
<p>interr</p>
<p>— Interrupt Error</p>
<p>•</p>
<p>mmerr</p>
<p>— Memory Management Fault</p>
<p>•</p>
<p>nocperr</p>
<p>— Usage Fault Access to Coprocessor</p>
<p>•</p>
<p>reset</p>
<p>— Reset (also applies to Cortex-M0)</p>
<p>•</p>
<p>staterr</p>
<p>— Usage Fault State</p>
<p>The default setting for all<b> catch_<i>exception</b></i> options is</p>
<p>off</p>
<p>.</p>
<p>To turn abort checking on or off, enter the command:</p>
<p><b>set catch_<i>exception</b></i> on | off</p>
<p>•</p>
<p>on</p>
<p>— Sets up the debug logic so the core halts before executing the first instruction of the</p>
<p>exception handler.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not enable the trap logic, and exceptions execute normally.</p>
<p>For example:</p>
<p><b>set catch_abort</b> on</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>96</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>catch_por</b></p>
<p>Applies to ARM9 and ARM11 cores only. Requires that you set the<b> power_detect</b> option to</p>
<p>on</p>
<p>.</p>
<p>Determines whether or not to stop the target as it powers on by asserting the reset signal to the</p>
<p>target when the power is off. When the probe senses that power to the target is on, it programs</p>
<p>the target debug port to catch the reset exception and then releases the reset signal. The default</p>
<p>is</p>
<p>off</p>
<p>.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set catch_por</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Sets up debug logic to halt the core when the target first powers on, before executing</p>
<p>the first instruction of the reset exception vector. It is similar to the<b> catch_reset</b> option in</p>
<p>behavior except that it only affects the reset exception that occurs as the target is powered</p>
<p>on. The probe extends the time reset is asserted to the target at power-on by some amount</p>
<p>of time, generally a few milliseconds.</p>
<p>•</p>
<p>off</p>
<p>— Do not attempt to stop the target as it powers on.</p>
<p><b>cortex_addr</b></p>
<p>Applies to ARMv7-A and ARMv7-R only.</p>
<p>Specifies the address of the debug registers on the APB.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set cortex_addr<i> address</b></i></p>
<p><b>cti_addr</b></p>
<p>Specifies the address of the Cross Trigger Interface (CTI) registers on the APB for the CTI</p>
<p>associated with the PTM or ETM of this core.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set cti_addr<i> address</b></i></p>
<p><i>97</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>dbcom_channel</b></p>
<p>The probe can export the ARM debug communications registers for special debug uses.</p>
<p>To change this option, enter the following command:</p>
<p><b>set dbcom_channel</b> none | serial | syscall</p>
<p>When the</p>
<p>none</p>
<p>argument is used, the special debug communications registers export is not</p>
<p>made.</p>
<p>When the</p>
<p>syscall</p>
<p>argument is used, the debug communications registers are exported as a</p>
<p>special host I/O port for MULTI. This allows all of MULTI's host I/O port to be used without</p>
<p>ever halting the core, and interrupts will continue to be serviced.<b> dbcom_handler</b> requires a</p>
<p>special handler that is configured by the options<b> dbcom_handler_addr</b> and</p>
<p><b>dbcom_handler_size</b>.</p>
<p>When the</p>
<p>serial</p>
<p>argument is used, the debug communications registers are exported as a</p>
<p>virtual serial port. The least significant byte of the 32-bit data register is used.</p>
<p><b>dbcom_handler_addr</b></p>
<p>The address of the handler used to enable host I/O over the ARM debug communications</p>
<p>registers. This value must be in writable memory within 32 MB of the</p>
<p>__dotsyscall</p>
<p>section.</p>
<p>The configuration option<b> dbcom_channel</b> must be set to<b> syscall</b> to use this configuration option.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set dbcom_handler_addr<i> address</b></i></p>
<p><b>dbcom_handler_size</b></p>
<p>The size of the handler used to enable host I/O over the ARM debug communications registers.</p>
<p>The configuration option<b> dbcom_channel</b> must be set to<b> syscall</b> for this configuration option</p>
<p>to be used, and should be a size of at least</p>
<p>0x400</p>
<p>.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set dbcom_handler_size<i> size</b></i></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>98</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>dbgrq_halt</b></p>
<p>Specifies whether or not the probe uses the ARM</p>
<p>DBGRQ</p>
<p>signal to halt the core.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set dbgrq_halt</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe halts ARM7 and ARM9 cores by scanning the ICEBreaker/EmbeddedICE</p>
<p>control register with the bit for</p>
<p>DBGRQ</p>
<p>set high. This is the ARM-recommended way to</p>
<p>halt ARM7 and ARM9 cores, but does not work reliably for some ARM7 implementations.</p>
<p>•</p>
<p>off</p>
<p>— [default] The probe halts ARM7 and ARM9 cores by setting a hardware execute</p>
<p>breakpoint with a mask such that the next instruction fetch halts the core. This method</p>
<p>works for all ARM7 and ARM9 cores that have been tested with the probe.</p>
<p>If you do not know which setting to use, set this option to</p>
<p>off</p>
<p>for ARM7TDMI and</p>
<p>ARM7TDMI-S cores, and</p>
<p>on</p>
<p>for all other ARM7 and ARM9 cores.</p>
<p><b>disable_swbp</b></p>
<p>Disables software breakpoints.</p>
<p>Some chips use the same resources for software and hardware breakpoints, which limits the</p>
<p>available number of each type of breakpoint. By default, Green Hills Debug Probes allocate</p>
<p>these resources to be biased toward software breakpoints. In some cases the hardware breakpoints</p>
<p>might not be available at all. Setting this option to</p>
<p>on</p>
<p>allows you to use the maximum number</p>
<p>of hardware breakpoints available on your hardware.</p>
<p>This option defaults to</p>
<p>off</p>
<p>, which means that software breakpoints are enabled. To change this</p>
<p>setting, enter the following command:</p>
<p><b>set disable_swbp</b> on | off</p>
<p><b>disable_watchdog</b></p>
<p>This option applies to Spansion FCR4 and FR5 targets</p>
<p>Specifies whether or not the probe disables the watchdog timer on the target as part of the reset</p>
<p>sequence.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set disable_watchdog</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe disables the watchdog timer on the target as part of the target</p>
<p>reset sequence.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not disable the watchdog timer.</p>
<p><i>99</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>es2_boot_workaround</b></p>
<p>Applies to OMAP3 only.</p>
<p>Configures the probe to work around an errata in OMAP3 revision ES2.0 and earlier that can</p>
<p>cause a processor to become stuck in secure monitor mode at boot.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set es2_boot_workaround</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe works around the errata by detecting when the target has been</p>
<p>reset and clearing the secure scratchpad RAM before halting.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not use the workaround.</p>
<p><b>etm_addr</b></p>
<p>Applies to ARMv7-A and ARMv7-R only.</p>
<p>Specifies the address of the ETM registers on the APB.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set etm_addr<i> address</b></i></p>
<p><b>etm_arch_version</b></p>
<p>This option is only available in firmware 3.2.4 or newer. If this option is not available, use</p>
<p><b>etm_version</b> instead.</p>
<p>Some ARM cores (such as the ARM9E-S, ARM9EJ-S, and their variants) can use either the</p>
<p>ETM version 1.x or ETM version 3.x trace protocol. This option selects which protocol to use</p>
<p>with your cores. Use</p>
<p>none</p>
<p>if your target has no trace hardware.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set etm_arch_version<i> version_num</b></i></p>
<p>where<i> version_num</i> is one of the following</p>
<p>ETM</p>
<p>version numbers:</p>
<p>none</p>
<p>,</p>
<p>1.0</p>
<p>,</p>
<p>1.1</p>
<p>,</p>
<p>1.2</p>
<p>,</p>
<p>1.3</p>
<p>,</p>
<p>2.0</p>
<p>,</p>
<p>3.0</p>
<p>,</p>
<p>3.1</p>
<p>,</p>
<p>3.2</p>
<p>,</p>
<p>3.3</p>
<p>, or</p>
<p>3.4</p>
<p>. The default value is</p>
<p>1.0</p>
<p>.</p>
<p><b>etm_version</b></p>
<p>This option is only available in firmware 3.2.4 or older. If this option is not available, use</p>
<p><b>etm_arch_version</b> instead.</p>
<p>When set greater than 0,</p>
<p>ETM</p>
<p>register access will be allowed, and</p>
<p>ETM</p>
<p>trace support for the given</p>
<p>version of</p>
<p>ETM</p>
<p>will be enabled. Note that either a SuperTrace probe or an embedded trace buffer</p>
<p>is required to collect</p>
<p>ETM</p>
<p>trace data.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set etm_version<i> version_num</b></i></p>
<p>where<i> version_num</i> is the</p>
<p>ETM</p>
<p>version number. The default value is 1.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>100</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>fast_dl</b></p>
<p>Enables or disables fast downloading.</p>
<p>When<b> fast_dl</b> is turned on, the Probe assumes that the target can complete memory writes as</p>
<p>fast as the Probe can issue them. Turning this setting on increases memory write speed by up</p>
<p>to 300% in some cases. However, it can cause incorrect operation of targets that have slow</p>
<p>CPUs or slow memory.</p>
<p>This option defaults to</p>
<p>off</p>
<p>.</p>
<p>To turn fast downloading on or off, enter the command:</p>
<p><b>set fast_dl</b> on | off</p>
<p><b>force_dbgack</b></p>
<p>Set this option to<b> on</b> to force</p>
<p>DBGACK</p>
<p>high while halted in debug mode.</p>
<p>DBGACK</p>
<p>is normally</p>
<p>asserted while in debug, but some operations can cause</p>
<p>DBGACK</p>
<p>to go low if this option is not</p>
<p>on.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set force_dbgack</b> on | off</p>
<p><b>halt_settle</b></p>
<p>Sets the time interval, in milliseconds, that the probe waits after the target has halted and before</p>
<p>it reads registers.</p>
<p><b>set halt_settle<i></b> time</i></p>
<p>where<i> time</i> is the time interval, in milliseconds.</p>
<p>For example, to set the time to one second, enter the following command:</p>
<p>set halt_settle 1000</p>
<p><b>handler_base</b></p>
<p>For ARM9 cores only (not ARM9E).</p>
<p>Specifies the location of memory that the probe can use as scratch space for accessing the data</p>
<p>cache. The specified area must have 64 bytes of valid writable memory.</p>
<p>This option only applies when the data cache is enabled.</p>
<p>To set this address, enter the following command:</p>
<p><b>set handler_base<i></b> address</i></p>
<p>The default setting is</p>
<p>0x20</p>
<p>.</p>
<p><i>101</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>handler_base_physical</b></p>
<p>For ARM9 cores that use the cache debug handler.</p>
<p>This option specifies whether the address given in</p>
<p>handler_base</p>
<p>is physical or virtual. When</p>
<p>this option is set to</p>
<p>on</p>
<p>, the address is treated as physical. When<b> handler_base_physical</b> is set</p>
<p>to</p>
<p>off</p>
<p>, the address specified in</p>
<p>handler_base</p>
<p>is treated as a virtual address.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set handler_base_physical</b> on | off</p>
<p><b>set handler_base_physical</b></p>
<p>should be</p>
<p>off</p>
<p>unless you are using an operating system that does</p>
<p>not directly map the memory region that contains the</p>
<p>handler_base</p>
<p>address. You do not have</p>
<p>to enable this option when debugging INTEGRITY applications.</p>
<p><b>has_etm</b></p>
<p>This option specifies whether the core has an Embedded Trace Macrocell (ETM) to enable</p>
<p>access to the ETM registers. Set this option to</p>
<p>on</p>
<p>if the core has an ETM. If no ETM is present,</p>
<p>set this option to</p>
<p>off</p>
<p>.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set has_etm</b> on | off</p>
<p><b>has_tpiu</b></p>
<p>This option specifies whether the core has a Trace Port Interface Unit (TPIU) to enable access</p>
<p>to the TPIU registers. Set this option to</p>
<p>on</p>
<p>if the core has a TPIU. If no TPIU is present, set this</p>
<p>option to</p>
<p>off</p>
<p>.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set has_tpiu</b> on | off</p>
<p><b>ignore_csyspwrupack</b></p>
<p>Applies to CoreSight DAP.</p>
<p>When first connecting to a CoreSight system, the probe sets</p>
<p>CSYSPWRUPREQ</p>
<p>and</p>
<p>CDBGPWRUPREQ</p>
<p>in the Debug Port Control and Status Register, and waits until the target sets the</p>
<p>CSYSPWRUPACK</p>
<p>and</p>
<p>CDBGPWRUPACK</p>
<p>bits. Some systems do not properly respond to</p>
<p>CSYSPWRUPREQ</p>
<p>and in turn</p>
<p>never set</p>
<p>CSYSPWRUPACK</p>
<p>. Turn this option</p>
<p>on</p>
<p>to debug such systems.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set ignore_csyspwrupack</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>102</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>inst_endianness</b></p>
<p>Applies to Cortex-M only.</p>
<p>Specifies whether Big Endian Cortex-M cores perform instruction fetches in Big Endian or</p>
<p>Little Endian. Set this option to match the behavior of your core.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set inst_endianness</b> big | little</p>
<p>•</p>
<p>big</p>
<p>— Use this setting if instruction fetches are Big Endian.</p>
<p>•</p>
<p>little</p>
<p>— Use this setting if instruction fetches are Little Endian.</p>
<p><b>l2_cache_address</b></p>
<p>Applies to ARM11 and Cortex-A9 only.</p>
<p>Specifies the base address for the L2 cache control registers. If your target has an L2 cache, set</p>
<p>this option and the<b> l2_cache_present</b> option.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set l2_cache_address<i> address</b></i></p>
<p><b>l2_cache_present</b></p>
<p>Applies to ARM11 and Cortex-A9 only.</p>
<p>Specifies whether or not your target has an L2 cache. If your target has an L2 cache, set this</p>
<p>option to</p>
<p>on</p>
<p>and then set the<b> l2_cache_address</b> option.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set l2_cache_address</b> on | off</p>
<p><b>memap_index</b></p>
<p>The index of the AHB-AP or AXI-AP that provides access to the core's memory bus.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set memap_index</b> [<i>value</i>]</p>
<p>where<i> value</i> is within the supported range of</p>
<p>0x00</p>
<p>–</p>
<p>0xff</p>
<p>.</p>
<p><i>103</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>memap_type</b></p>
<p>Applicable to ARMv7-A and ARMv7-R targets.</p>
<p>Informs the probe whether a MEM-AP is present and provides access to the core's memory bus,</p>
<p>and what sort of MEM-AP it is.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set memap_type</b> none | axi | ahb</p>
<p>•</p>
<p>none</p>
<p>— There is no MEM-AP.</p>
<p>•</p>
<p>axi</p>
<p>— There is an AXI-AP.</p>
<p>•</p>
<p>ahb</p>
<p>— There is an AHB-AP.</p>
<p><b>monitor_mode</b></p>
<p>This option controls the probe's support for ARM Real Monitor. Real Monitor is a monitor</p>
<p>program that when integrated into the target application, allows the target to be debugged without</p>
<p>halting the CPU. This allows critical interrupts to be handled even when the foreground</p>
<p>application is stopped in the debugger.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set monitor_mode</b> on | probe | off</p>
<p>•</p>
<p>on</p>
<p>— Sets several debug registers to the appropriate value for RMserv, and disables write</p>
<p>access to the registers. This setting is only intended for internal use by RMserv.</p>
<p>•</p>
<p>probe</p>
<p>— Causes the probe to enter Real Monitor mode. When the probe is in Real Monitor</p>
<p>mode, the target is never halted. Debug commands are issued to Real Monitor running on</p>
<p>the target. The probe's amber halt light will be illuminated when Real Monitor is in the</p>
<p>stopped</p>
<p>state.</p>
<p>To enter Real Monitor mode, a Real Monitor enabled image must be loaded and running on the</p>
<p>target. If the probe is initially unable to communicate with Real Monitor,<b> monitor_mode</b> will</p>
<p>remain</p>
<p>off</p>
<p>despite attempts to set it to</p>
<p>probe</p>
<p>. The probe automatically sets<b> monitor_mode</b></p>
<p>to</p>
<p>off</p>
<p>(the default value) if the target is reset or loses power.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>104</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>new_946_cache_mgmt</b></p>
<p>Applies to ARM 946 processors only</p>
<p>Specifies whether or not the probe uses an improved technique for managing instruction and</p>
<p>data cache coherency. This technique results in less probe intrusion and causes cache visualization</p>
<p>commands (such as</p>
<p>clf</p>
<p>and</p>
<p>clr</p>
<p>) to show the actual values in the data cache. To use this option,</p>
<p>enter the following command:</p>
<p><b>set new_946_cache_management</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Use the improved cache management technique. If using this setting causes incorrect</p>
<p>operation, contact Green Hills support.</p>
<p>•</p>
<p>off</p>
<p>— Use an older, more intrusive cache management technique. Use this setting only</p>
<p>if the</p>
<p>on</p>
<p>setting increases the frequency with which you must explicitly invalidate the</p>
<p>instruction or data cache to maintain coherency.</p>
<p><b>num_dwt</b></p>
<p>Applies to the Cortex-M family of processors only.</p>
<p>Specifies the maximum number of<i> DWT hardware breakpoints</i> the probe can set, where a DWT</p>
<p>hardware breakpoint is used for a hardware data breakpoint, hardware execute breakpoint with</p>
<p>a mask, or hardware execute breakpoint set at</p>
<p>0x20000000</p>
<p>or higher. Lower settings for this</p>
<p>option provide more resources for trace tools; it must be set to a value less than the maximum,</p>
<p>or trace triggers will not work.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set num_dwt<i></b> num</i></p>
<p>Changing this option while mpserv is connected or while breakpoints are set will result in</p>
<p>unpredictable behavior.</p>
<p><b>omap5_variant</b></p>
<p>Applies to Cortex OMAP5 only.</p>
<p>Use this option to tell the probe what sort of OMAP5 the target is.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set omap5_variant</b> auto | OMAP543x_ES1 | OMAP543x_ES2 | OMAP57xx</p>
<p>•</p>
<p>auto</p>
<p>— The probe will try to automatically determine the OMAP5 variant each time this</p>
<p>information is needed.</p>
<p>•</p>
<p>OMAP543x_ES1</p>
<p>— Use this option if your target is an OMAP543x with silicon revision</p>
<p>ES1.</p>
<p>•</p>
<p>OMAP543x_ES2</p>
<p>— Use this option if your target is an OMAP543x with silicon revision</p>
<p>ES2.</p>
<p>•</p>
<p>OMAP57xx</p>
<p>— Use this option if your target is an OMAP57xx or DRA7x.</p>
<p><i>105</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>override_mmu</b></p>
<p>Set this option to bypass the permissions set in the MMU, and access all memory with</p>
<p>administrator privileges while debugging.<b> override_mmu</b> enables reading and writing protected</p>
<p>memory, and setting software breakpoints in protected memory.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set override_mmu</b> on | off</p>
<p><b>override_mpu</b></p>
<p>Set this option to bypass the permissions set in the MPU, and access all memory with</p>
<p>administrator privileges while debugging.<b> override_mpu</b> enables reading and writing protected</p>
<p>memory, and setting software breakpoints in protected memory.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set override_mpu</b> on | off</p>
<p><b>ptm_addr</b></p>
<p>Applies to ARMv7-A processors with a PTM.</p>
<p>Specifies the address of the PTM registers on the APB.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set ptm_addr<i> address</b></i></p>
<p><b>reset_detection</b></p>
<p>Applies to Cortex-A9, A5 and A15.</p>
<p>The debug registers of most SoCs are always available, and the reset and power state of a core</p>
<p>can be determined by reading DBGPRSR. Some SoCs make their debug registers inaccessible</p>
<p>when a core is held in reset or in a low power state. This option allows you to select an</p>
<p>SoC-specific method to determine a core's power and reset state.</p>
<p>To change this setting, enter the command:</p>
<p><b>set reset_detection</b> standard |<i> soc-type</i></p>
<p>•</p>
<p>imx6</p>
<p>— Determine if the core is held in reset by reading</p>
<p>SRC_SCR</p>
<p>on a Freescale iMX.6.</p>
<p>•</p>
<p>vybrid</p>
<p>— Determine if the core is held in reset by reading</p>
<p>CCOWR</p>
<p>of a Freescale Vybrid.</p>
<p>•</p>
<p>rcar</p>
<p>— Determine if the core is held in reset by reading</p>
<p>CA15RESCNT</p>
<p>or</p>
<p>CA7RESCNT</p>
<p>on</p>
<p>an Renesas R-Car H2 or V2H.</p>
<p>•</p>
<p>standard</p>
<p>— Determine if the core is held in reset by reading</p>
<p>DBGPRSR</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>106</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>reset_fixup</b></p>
<p>For ARM7 cores only.</p>
<p>Set this option to use an alternate reset sequence, allowing you to debug code immediately</p>
<p>following a reset on targets that do not have an external reset signal or cannot be stopped at the</p>
<p>reset vector before executing initial boot instructions. For more information, see “Setting Reset</p>
<p>Pin and JTAG TAP Interaction” on page 87.</p>
<p>To change this setting, enter the command:</p>
<p><b>set reset_fixup</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— When the probe receives a<b> tr</b> or<b> tr d</b> command, it does the following:</p>
<p>1.</p>
<p>Halts the processor.</p>
<p>2.</p>
<p>Sets the PC to</p>
<p>0x0</p>
<p>.</p>
<p>3.</p>
<p>Sets the CPSR to</p>
<p>0xd3</p>
<p>.</p>
<p>•</p>
<p>off</p>
<p>— [default] The probe uses the standard ARM7 reset sequence.</p>
<p><b>rm_off_on_panic</b></p>
<p>Real Monitor enters a panic state if an error occurs, and sends a panic message to the probe. A</p>
<p>common cause for entering the panic state is single-stepping or setting a breakpoint in code that</p>
<p>is reached from an interrupt handler.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set rm_off_on_panic</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe exits Real Monitor mode in response to a panic message.</p>
<p>•</p>
<p>off</p>
<p>— The probe remains in Real Monitor mode after receiving a panic message.</p>
<p><b>rm_use_mem_descriptor</b></p>
<p>Real Monitor provides a memory access descriptor table in its configuration block. The table</p>
<p>contains a list of memory regions, and whether read or write access is permitted, breakpoints</p>
<p>are allowed, or cache synchronization is needed for each region.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set_rm_use_mem_descriptor</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe checks the memory descriptor table before memory access is allowed or</p>
<p>breakpoints are set.</p>
<p>•</p>
<p>off</p>
<p>— [default] The probe ignores the memory access descriptor table.</p>
<p><i>107</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>rst_dpll3</b></p>
<p>Applies to Cortex-A8 OMAP3 processors only.</p>
<p>The probe performs a soft reset on an OMAP3 by writing to</p>
<p>PRT_RSTCTRL</p>
<p>. This setting controls</p>
<p>whether the</p>
<p>RST_DPLL3</p>
<p>bit is set in that write.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set rst_dpll3</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— During soft reset, the probe sets</p>
<p>PRT_RSTCTRL.RST_GS</p>
<p>and</p>
<p>PRT_RSTCTRL.RST_DPLL3</p>
<p>.</p>
<p>•</p>
<p>off</p>
<p>— During soft reset, the probe sets only</p>
<p>PRT_RSTCTRL.RST_GS</p>
<p>.</p>
<p><b>rst_type</b></p>
<p>The reset method for ARM7TDMI, ARM7TDMI-S and ARM720 targets. Certain ARM targets</p>
<p>cannot be stopped at the reset vector. Different methods can be used to debug startup code.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set rst_type</b> hard | simulate | precise</p>
<p>•</p>
<p>hard</p>
<p>performs a normal hardware reset, but might not halt the target at the reset vector.</p>
<p>•</p>
<p>simulate</p>
<p>emulates a reset, but will not actually pulse the reset line.</p>
<p>•</p>
<p>precise</p>
<p>performs a hard reset with a precise halt at the reset vector for those targets that</p>
<p>can be precisely halted at the reset vector.</p>
<p><b>rsttime1</b></p>
<p>Applies to Cortex OMAP5 only.</p>
<p>The OMAP5 family of TI processors may require a specific value to be written to</p>
<p>PRM_RSTTIME.RSTTIME1</p>
<p>prior to being reset. This option controls whether the probe writes</p>
<p>PRM_RSTTIME.RSTTIME1</p>
<p>prior to resetting an OMAP5.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set rsttime1<i></b> value</i></p>
<p>•</p>
<p>If<i> value</i> is non-zero, this value is written to</p>
<p>PRM_RSTTIME.RSTTIME1</p>
<p>before resetting an</p>
<p>OMAP5.</p>
<p>•</p>
<p>If<i> value</i> is zero,</p>
<p>PRM_RSTTIME</p>
<p>is not written all.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>108</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>rtck_use_timeout</b></p>
<p>This option is used only when<b> use_rtck</b> is not set to</p>
<p>off</p>
<p>.</p>
<p>The clock to the JTAG logic (not the TCK clock going to the target, which is only active when</p>
<p>JTAG commands are issued to the target) must be active to prevent the whole device from</p>
<p>becoming slow. If this clock is stopped, it might appear that the probe had completely frozen.</p>
<p>However, the implementation of RTCK-based adaptive clocking gates this clock to the RTCK</p>
<p>signal coming back from the target. If the RTCK signal from the target stops for a long period</p>
<p>of time or is not wired correctly, the probe can freeze.</p>
<p>By default, this option is enabled, and adds a timeout so that the JTAG logic gets a clock even</p>
<p>if the RTCK line is completely stopped. This prevents the probe from freezing if the target's</p>
<p>RTCK signal does not work as expected, but it also enforces a minimum TCK speed when using</p>
<p>RTCK-based adaptive clocking of about 5 to 10 kHz. If the target is running at a speed below</p>
<p>20 kHz or goes to sleep, the probe's RTCK timeout will cause it to not strictly follow the RTCK</p>
<p>clocking discipline, and it might lose debug control of the target.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set rtck_use_timeout</b> on | off</p>
<p>Using the</p>
<p>off</p>
<p>arguments to disable the RTCK timeout causes the probe to strictly follow the</p>
<p>RTCK clocking discipline, but at the expense of making the probe vulnerable to freezing if the</p>
<p>target's RTCK signal freezes. It is recommended that you only enable this option if you are</p>
<p>certain that the RTCK signal generation circuitry works correctly, and you experience problems</p>
<p>when the target either runs very slowly or sleeps, and the RTCK timeout is enabled.</p>
<p><b>Note:</b> Disabling this option is not safe for targets with improperly wired RTCK circuitry. By</p>
<p>default this option is</p>
<p>on</p>
<p>.</p>
<p><b>step_ints</b></p>
<p>Applies to ARM Cortex-M targets only.</p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, interrupts are disabled on the target during a single-step. When</p>
<p>this option is turned on, interrupts are left alone so a single-step can go to an interrupt handler</p>
<p>instead of the next instruction.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><i>109</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>vfp_type</b></p>
<p>Applicable to ARMv7-A cores.</p>
<p>Indicates whether the core has a VFP-D16 implementation, VFP-D32 implementation, or no</p>
<p>VFP at all.</p>
<p>To set this option, use the following syntax:</p>
<p><b>set vfp_type</b> none | vfp_d16 | vfp_d32</p>
<p><b>simulate_singlestep</b></p>
<p>When set to</p>
<p>on</p>
<p>, if you are single-stepping over certain branch instructions, that instruction is</p>
<p>simulated rather than executed.</p>
<p><b>tcm_cpu_base</b></p>
<p>The base address of<i> tightly-coupled memory</i> (TCM RAM and TCM flash) differs depending on</p>
<p>whether you access it via the CPU or AHB-AP. This option sets the base address of TCM when</p>
<p>accessed via the CPU. To set the base address, enter the following command:</p>
<p><b>set tcm_cpu_base<i></b> base</i></p>
<p>where<i> base</i> is the base address of TCM when accessed via the CPU.</p>
<p><b>tcm_ahb_base</b></p>
<p>The base address of TCM RAM and TCM flash differs depending on whether you access it via</p>
<p>the CPU or AHB-AP. This option sets the base address of TCM when accessed via the AHB-AP.</p>
<p>To set the base address, enter the following command:</p>
<p><b>set tcm_ahb_base<i></b> base</i></p>
<p>where<i> base</i> is the base address of TCM when accessed via the AHB-AP.</p>
<p><b>tcm_size</b></p>
<p>To set the size of TCM enter the following command:</p>
<p><b>set tcm_size<i></b> size</i></p>
<p>where<i> size</i> is the size of TCM in bytes.</p>
<p><b>toggle_hwbp</b></p>
<p>Specifies whether or not to use a workaround to fix hardware breakpoints on certain ARM cores.</p>
<p>Do not set this option unless you know that your core requires both hardware breakpoints to be</p>
<p>set before either of them will function. To use this option, enter the following command:</p>
<p><b>set toggle_hwbp</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe ensures that both hardware breakpoints are set when breakpoints are in</p>
<p>use.</p>
<p>•</p>
<p>off</p>
<p>— [default] do not use the workaround.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>110</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>tpiu_addr</b></p>
<p>Applies to ARMv7-A and ARMv7-R only.</p>
<p>Specifies the address of the Trace Port Interface Unit (TPIU) on the APB.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set tpiu_addr<i> address</b></i></p>
<p><b>tpiu_type</b></p>
<p>Applies to ARMv7-A and ARMv7-R only.</p>
<p>Specifies whether or not there is a TPIU on your target, and if so, what kind.</p>
<p>To specify the address, use the following syntax:</p>
<p><b>set tpiu_type</b> none | full | lite</p>
<p>•</p>
<p>none</p>
<p>— [Default, if there is no APB ROM table] There is no TPIU on the target.</p>
<p>•</p>
<p>full</p>
<p>— The target has a full TPIU.</p>
<p>•</p>
<p>lite</p>
<p>— The target has a TPIU-Lite.</p>
<p><b>use_bkpt_inst</b></p>
<p>The ARM instruction set has included a</p>
<p>BKPT</p>
<p>instruction since version 5. The</p>
<p>BKPT</p>
<p>instruction</p>
<p>allows software breakpoints to be set without using a hardware breakpoint. When this option</p>
<p>is set to<b> on</b> software breakpoints are set with the</p>
<p>BKPT</p>
<p>instruction, and both hardware breakpoints</p>
<p>are available for use.</p>
<p>Unfortunately, revisions to some of the ARM cores do not properly handle the</p>
<p>BKPT</p>
<p>instruction</p>
<p>by dropping into debug mode, and generate an</p>
<p>SWI</p>
<p>exception instead. This option should be on</p>
<p>if you need both hardware breakpoints, but on some ARM implementations it can cause problems</p>
<p>when enabled with software breakpoints not being hit. It defaults to off.</p>
<p>To change this option, enter the following command:</p>
<p><b>set use_bkpt_inst</b> on | off</p>
<p><b>use_hw_singlestep</b></p>
<p>ARM9 cores have a hardware single-step unit. The unit was removed from the ARM9E</p>
<p>specification, but is present on many ARM9E cores.</p>
<p>When this option is set to</p>
<p>on</p>
<p>, the hardware single-step unit is used for single-stepping.</p>
<p>When the option is set to</p>
<p>off</p>
<p>, single-stepping is done using hardware breakpoints. The default</p>
<p>setting is</p>
<p>on</p>
<p>for all ARM9E cores except the ARM968E-S, which is known to lack the hardware</p>
<p>single-step unit.</p>
<p><i>111</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>use_max_reset</b></p>
<p>Applies to ICEPick targets only.</p>
<p>Specifies whether the probe tells the ICEPick to attempt a soft reset when instructed to reset the</p>
<p>target.</p>
<p><b>set use_max_reset</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Instructs the ICEPick to perform soft resets. This may make resets more effective.</p>
<p>•</p>
<p>off</p>
<p>— [default] Does not instruct the ICEPick to perform soft resets. Use this setting if</p>
<p>the</p>
<p>on</p>
<p>setting leaves your target in a bad state after reset.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>112</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>use_rtck</b></p>
<p>Available for any adapter with the RTCK signal. When it is enabled, the<b> clock</b> option is hidden</p>
<p>and has no effect.</p>
<p>This option controls whether or not the probe uses the RTCK signal to adjust the TCK clock</p>
<p>frequency in real time to a value that is both fast and safe for the target. This signal is useful if</p>
<p>you need to connect your probe to many targets with different core clock rates, or if the core</p>
<p>clock rate of your target varies while you debug your program.</p>
<p>When this option is enabled, the probe uses an adaptive clocking scheme based on RTCK to</p>
<p>generate the TCK debug clock signal. The maximum clock rate generated in this way is 15 MHz</p>
<p>(if TCK and RTCK are connected together) and the minimum is slightly less than 10 kHz (if</p>
<p>RTCK is not connected at all), unless the<b> rtck_use_timeout</b> option is disabled (it is enabled by</p>
<p>default).</p>
<p>Some targets use a three-stage synchronizer circuit (documented in the ARM9EJ-S technical</p>
<p>reference) to generate the RTCK signal.</p>
<p>fast_download</p>
<p>and</p>
<p>fast_always</p>
<p>take advantage</p>
<p>of the specific behavior of this circuit to increase speed, especially on targets that run at clock</p>
<p>speeds below 60 MHz.</p>
<p>To set this option, enter the following command:</p>
<p><b>set use_rtck</b> off | normal | fast_download | fast_always</p>
<p>•</p>
<p>off</p>
<p>— [default] Do not use RTCK. Use this setting if your probe's performance becomes</p>
<p>dramatically slower or the probe freezes with the other settings. This might mean that the</p>
<p>RTCK signal is not properly wired on your board. If this is the case, set your JTAG clock</p>
<p>speed manually.</p>
<p>•</p>
<p>normal</p>
<p>— Uses the ARM-documented<i> simple ping-pong</i> algorithm for synchronization.</p>
<p>If the<b> rtck_use_timeout</b> option is enabled, it is usually safe to use this setting.</p>
<p>•</p>
<p>fast_download</p>
<p>— Supported on the Green Hills Probe with targets that have a three-stage</p>
<p>synchronizer circuit. Increases speed while downloading or using the probe's<b> vm</b> command.</p>
<p>The core clock speed must not change during these times. We recommend that you test</p>
<p>download data integrity using the<b> vm</b> memory test when using this setting.</p>
<p>•</p>
<p>fast_always</p>
<p>— Supported on the Green Hills Probe with targets that have a three-stage</p>
<p>synchronizer circuit. Increases speed while the target is in debug mode. The core clock</p>
<p>speed must not change during this time.</p>
<p><i>113</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Blackfin</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the Blackfin device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command).</p>
<p><b>fast_dl</b></p>
<p>Enables or disables fast downloading.</p>
<p>When<b> fast_dl</b> is turned on, the Probe assumes that the target can complete memory writes as</p>
<p>fast as the Probe can issue them. Turning this setting on can increase memory write speed</p>
<p>significantly in some cases. However, it can also cause incorrect operation of targets that have</p>
<p>slow CPUs or slow memory.</p>
<p>This option defaults to</p>
<p>off</p>
<p>.</p>
<p>To turn fast downloading on or off, enter the command:</p>
<p><b>set fast_dl</b> on | off</p>
<p><b>step_ints</b></p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, interrupts are disabled on the target during a single-step. When</p>
<p>this option is turned on, interrupts are left alone so a single-step can go to an interrupt handler</p>
<p>instead of the next instruction.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>114</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ColdFire</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the ColdFire device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command).</p>
<p><b>auto_clock</b></p>
<p>Allows automatic adjustment of the BDM clock.</p>
<p>When this option is on, the probe periodically measures the frequency of the target's core clock</p>
<p>and automatically adjusts the BDM clock (that is, the<b> clock</b> configuration option) to the safest</p>
<p>and fastest speed.</p>
<p>When the<b> auto_clock</b> option is off, you can use the<b> set clock</b> command to set the clock to a</p>
<p>higher speed than the<b> auto_clock</b> would have selected (see “Setting the JTAG or SWD Clock</p>
<p>Speed” on page 82).</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn the automatic clock feature on or off, enter the command</p>
<p><b>set auto_clock</b> on | off</p>
<p><b>auto_clock_min</b></p>
<p>Sets the minimum value for automatic adjustment of the BDM clock.</p>
<p><b>set auto_clock_min<i></b> speed</i></p>
<p>When<b> auto_clock</b> is on,<i> speed</i> is the lowest value to which the clock can be adjusted</p>
<p>automatically.<i> speed</i> can be specified in MHz or kHz and defaults to 5 kHz.</p>
<p><b>auto_clock_max</b></p>
<p>Sets the maximum value for automatic adjustment of the BDM clock.</p>
<p><b>set auto_clock_max<i></b> speed</i></p>
<p>When<b> auto_clock</b> is on,<i> speed</i> is the highest value to which the clock can be adjusted</p>
<p>automatically.<i> speed</i> can be specified in MHz or kHz and defaults to 15 MHz.</p>
<p><b>auto_clock_ratio</b></p>
<p><b>set auto_clock_ratio<i></b> n</i></p>
<p>When<b> auto_clock</b> is on, the probe attempts to set the BDM clock so that it is a fraction of the</p>
<p>PST clock. The BDM clock is set to the PST clock speed divided by<i> n</i>, within the bounds of</p>
<p><b>auto_clock_min</b> and<b> auto_clock_max</b>, rounded to the nearest 50 kHz. The default is</p>
<p>12</p>
<p>.</p>
<p>For example, if<b> auto_clock_ratio</b> is set to</p>
<p>12</p>
<p>and the PST clock is 100 MHz, the BDM clock</p>
<p>will be set to 8.35 MHz.</p>
<p><i>115</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>dcache_sets</b></p>
<p>Applies to ColdFire v5 and v5x only.</p>
<p>This setting controls the number of sets in an n-way set associative cache.</p>
<p>An n-way set associative cache is made up of a number of sets, each with a number of cache</p>
<p>lines. The size of the cache is:</p>
<p><i>sets</i> *<i> ways</i> *<i> line_size</i></p>
<p>where<i> sets</i> is the number of sets,<i> ways</i> is the number of cache lines, and<i> line_size</i> is the size of</p>
<p>each cache line.</p>
<p>To change this setting, enter the command:<b> set dcache_sets<i></b> sets</i></p>
<p><b>dcache_ways</b></p>
<p>Applies to ColdFire v5 and v5x only.</p>
<p>This setting controls the number of ways (n) in an n-way set associative cache.</p>
<p>An n-way set associative cache is made up of a number of sets, each with a number of cache</p>
<p>lines. The size of the cache is:</p>
<p><i>sets</i> *<i> ways</i> *<i> line_size</i></p>
<p>where<i> sets</i> is the number of sets,<i> ways</i> is the number of cache lines, and<i> line_size</i> is the size of</p>
<p>each cache line.</p>
<p>To change this setting, enter the command:</p>
<p><b>set dcache_ways<i></b> ways</i></p>
<p><b>fast_dl</b></p>
<p>Turns fast downloading on or off.</p>
<p>When<b> fast_dl</b> is turned on, the Probe assumes that the target can complete memory writes as</p>
<p>fast as the Probe can issue them. Turning this setting on can increase memory write speed</p>
<p>significantly in some cases. However, it can also cause incorrect operation of targets that have</p>
<p>slow CPUs or slow memory.</p>
<p>This option defaults to<b> off</b>.</p>
<p>To turn fast downloading on or off, enter the command:</p>
<p><b>set fast_dl</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>116</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>handler_base</b></p>
<p>For 5407 and v4e cores only.</p>
<p>Specifies a location of memory that the probe can use as scratch space for cleaning the data</p>
<p>cache. The specified area must be 2-byte aligned and have 64 contiguous bytes of valid writable</p>
<p>memory.</p>
<p>The ColdFire debug interface has no way to clean its data cache from its debug port. It has to</p>
<p>download a small target agent to clear the data cache. The target agent is downloaded and run</p>
<p>from the memory location specified by<b> handler_base</b>. The scratch memory used is restored</p>
<p>after the agent runs.</p>
<p>The agent uses the</p>
<p>CPUSHL</p>
<p>instruction on every cache line to force a write of a dirty cache line</p>
<p>back to memory. All pending data cache writes and dirty lines are written to memory.</p>
<p>To set this address, enter the command:</p>
<p><b>set handler_base<i></b> address</i></p>
<p>where<i> address</i> is an address in available memory that is not used by the application running on</p>
<p>the target.</p>
<p>The default setting is</p>
<p>0x2000</p>
<p>.</p>
<p><b>reset_clears_pst</b></p>
<p>Controls whether the probe stops monitoring the</p>
<p>PST</p>
<p>signal for target state when the target is</p>
<p>reset. This option is useful for targets that use the</p>
<p>PST</p>
<p>pins for a purpose other than reporting</p>
<p>target state by default. When enabled, this option works by disabling the<b> use_pst</b> option on</p>
<p>reset. To change this setting, enter the command:</p>
<p><b>set reset_clears_pst</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Disables the<b> use_pst</b> option on reset. Use this setting for targets that use the</p>
<p>PST</p>
<p>pins for a purpose other than reporting target state by default.</p>
<p>•</p>
<p>off</p>
<p>— Leaves<b> use_pst</b> unchanged during reset. Use this option for targets that use the</p>
<p>PST</p>
<p>pins to report target state by default.</p>
<p>This option defaults to</p>
<p>off</p>
<p>.</p>
<p><i>117</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>use_pst</b></p>
<p>Controls whether the probe uses the</p>
<p>PST</p>
<p>signal on the BDM port to determine target state. To</p>
<p>change this setting, enter the command:</p>
<p><b>set use_pst</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Determines target state using PST signals.</p>
<p>•</p>
<p>off</p>
<p>— Determines target state using heuristics and Configuration/Status Register (CSR)</p>
<p>reads. This method may be unreliable on some V2 cores, such as the 5206e.</p>
<p>This option is turned off for the Motorola SBC5206eC3 evaluation board because its</p>
<p>PST</p>
<p>lines</p>
<p>do not work.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>118</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MIPS</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the MIPS device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command).</p>
<p><b>access_mode</b></p>
<p>For Broadcom 1250 targets only.</p>
<p>Alters the way EJTAG instructions are fed to the processor.</p>
<p>This setting defaults to</p>
<p>0x3a</p>
<p>.</p>
<p>You should not change this setting unless directed to by Green Hills Technical Support. If you</p>
<p>are instructed to change this setting, enter the command:</p>
<p><b>set access_mode<i></b> value</i></p>
<p><b>agent</b></p>
<p>To perform some operations, the probe downloads a small program, called an agent, onto your</p>
<p>target. This setting controls the address to which the probe downloads the agent.</p>
<p>The agent's default address is</p>
<p>0x0</p>
<p>. To change the<b> agent</b> setting, enter the command:</p>
<p><b>set agent<i></b> address</i></p>
<p>Where<i> address</i> is an address in</p>
<p>kseg1</p>
<p>with 64 bytes of contiguous memory.</p>
<p><b>bp_in_delay_slots</b></p>
<p>Sets the behavior for breakpoints in delay slots.</p>
<p>When this option is turned on and breakpoints in delay slots are hit, the program counter appears</p>
<p>on the branch associated with the delay slot and not on the delay slot.</p>
<p>When this option is turned off, breakpoints in delay slots are ignored. When the Probe hits a</p>
<p>delay slot breakpoint, the breakpoint is removed and the Probe silently resumes program</p>
<p>execution.</p>
<p>This setting can reduce confusion when the Probe hits a delay slot breakpoint and reports back</p>
<p>to the program counter at the associated branch instead of the delay slot.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To turn it on or off, enter the command:</p>
<p><b>set bp_in_delay_slots</b> on | off</p>
<p><i>119</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>dbscratch_addr</b></p>
<p><b>dbscratch_size</b></p>
<p>For IDT323XX targets only.</p>
<p>Sets the size and location of the scratch area required by IDT323xx to successfully debug code</p>
<p>in cached memory. The scratch area needs to be at least 16 bytes and must be 4-byte aligned.</p>
<p>The<b> dbscratch_addr</b> and<b> dbscratch_size</b> settings default to</p>
<p>0</p>
<p>, which is incorrect for most</p>
<p>boards. Set the address to something reasonable and the size to</p>
<p>0x10</p>
<p>. For example:</p>
<p>idt323xx[h] % set dbscratch_addr 0x80800000</p>
<p>idt323xx[h] % set dbscratch_size 0x10</p>
<p>Be careful that your application does not use the debug scratch memory.</p>
<p><b>fast_dl</b></p>
<p>Turns fast downloading on or off.</p>
<p>When<b> fast_dl</b> is turned on, the Probe assumes that the target can complete memory writes as</p>
<p>fast as the Probe can issue them. Turning this setting on increases memory write speed by up</p>
<p>to 300% in some cases. However, it can cause incorrect operation of targets that have slow</p>
<p>CPUs or slow memory.</p>
<p>A common scenario in which fast downloading may need to be disabled is if you are using a</p>
<p>target with a core that is synthesized into an FPGA or other programmable logic device. If your</p>
<p>download or<b> vb</b> test fails with the error message</p>
<p>Unexpected write pending</p>
<p>, turn<b> fast_dl</b></p>
<p>off.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn fast downloading on or off, enter the command</p>
<p><b>set fast_dl</b> on | off</p>
<p><b>flush_data</b></p>
<p>Specifies whether the probe flushes the data cache and invalidates the instruction cache after</p>
<p>memory writes. To change this setting, enter the command:</p>
<p><b>set flush_data</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe flushes the data cache and invalidates the instruction cache after</p>
<p>memory writes. It does not affect memory writes due to software breakpoints or code</p>
<p>download.</p>
<p>•</p>
<p>off</p>
<p>— Do not flush the data cache and invalidate the instruction cache after memory</p>
<p>writes.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>120</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>idt_step</b></p>
<p>For IDT323xx targets only.</p>
<p>Specifies whether single-stepping is done with hardware or software breakpoints.</p>
<p>When debugging code in read-only memory, use hardware breakpoints to single-step.</p>
<p>To change the<b> idt_step</b> setting, enter the command:</p>
<p><b>set idt_step</b> swbp | hwbp</p>
<p>where:</p>
<p>•</p>
<p>swbp</p>
<p>— [default] Specifies single-stepping with software breakpoints.</p>
<p>•</p>
<p>hwbp</p>
<p>— Specifies single-stepping with hardware breakpoints.</p>
<p><b>rst_handshake_timeout</b></p>
<p>Controls timing of reset sequence to allow handshaking protocol.</p>
<p>Newer MIPS targets include a handshaking protocol for performing reset. The</p>
<p><b>rst_handshake_timeout</b> option sets the amount of time by which the standard reset sequence</p>
<p>can be extended to wait for this handshake to complete.</p>
<p>The<b> rst_handshake_timeout</b> default is 1 second. If this option is set to</p>
<p>0</p>
<p>, no handshake is</p>
<p>attempted.</p>
<p>To set the<b> rst_handshake_timeout</b>, enter the command:</p>
<p><b>set rst_handshake_timeout<i></b> time</i></p>
<p>where<i> time</i> is the length of time in seconds to extend the reset sequence.</p>
<p>MIPS32 4Kc and MIPS64 20Kc and 24Kc targets do not implement this handshake. If you are</p>
<p>using one of these targets, set this option to</p>
<p>0</p>
<p>.</p>
<p><b>Note</b></p>
<p>The<b> rst_pulse</b> and<b> rst_settle</b> times are always kept as minimum times for all targets. To disable</p>
<p>the reset sequence, set<b> rst_settle</b>,<b> rst_pulse</b>, and<b> rst_handshake_timeout</b> to</p>
<p>0</p>
<p>. (For more</p>
<p>information about<b> rst_pulse</b> and<b> rst_settle</b>, see “Setting the CPU Reset Pulse Length” on page 86</p>
<p>and “Setting the Reset Settle Length” on page 86.) Never pulse the nRST line when the<b> rst</b></p>
<p>command is issued.</p>
<p><i>121</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sram_config_base</b></p>
<p>Applies to MIPS4K processors only.</p>
<p>Specifies the physical base address of the SRAM configuration registers. If<b> sram_config_enable</b></p>
<p>is set to<b> on</b>, the probe tries to read these registers using the following offsets from the base</p>
<p>address:</p>
<p>•</p>
<p>0x00</p>
<p>— ISRAM control register</p>
<p>•</p>
<p>0x10</p>
<p>— ISRAM mask register</p>
<p>•</p>
<p>0x20</p>
<p>— DSRAM control register</p>
<p>•</p>
<p>0x30</p>
<p>— DSRAM mask register</p>
<p>To set the physical base address, enter the command:</p>
<p><b>set sram_config_base<i></b> physical_address</i></p>
<p>•</p>
<p><i>physical_address</i></p>
<p>— The physical base address.</p>
<p><b>sram_config_enable</b></p>
<p>Applies to MIPS4K processors only</p>
<p>Specifies whether the probe can access internal SRAM even when the user program configures</p>
<p>the SRAM configuration registers to disallow access. To specify this option, enter the command:</p>
<p><b>set sram_config_enable</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe watches the SRAM configuration registers at the location specified by</p>
<p><b>sram_config_base</b>, allowing it to access internal SRAM even when these registers disallow</p>
<p>access.</p>
<p>•</p>
<p>Off</p>
<p>— The probe can only access internal SRAM as specified by the SRAM configuration</p>
<p>registers.</p>
<p><b>step_ints</b></p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, asynchronous interrupts are disabled on the target during a</p>
<p>single-step. When this option is turned on, interrupts are left alone so a single-step can go to an</p>
<p>interrupt handler instead of the next instruction.</p>
<p>This option defaults to</p>
<p>off</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>122</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>timeout</b></p>
<p>Specifies the maximum timeout between JTAG accesses. This option is necessary on processors</p>
<p>that work at a very slow core clock frequency.</p>
<p><b>set timeout<i></b> timeout</i></p>
<p>•</p>
<p><i>timeout</i> — The maximum timeout between JTAG accesses, in milliseconds, from 500 to</p>
<p>60000. The default value is</p>
<p>500</p>
<p>, which is suitable for most processors.</p>
<p><b>use_agent</b></p>
<p>Enables or disables accelerated downloads and block reads.</p>
<p>To turn this feature on or off, use the following command:</p>
<p><b>set use_agent</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe uses a small, target-resident agent to speed up block memory</p>
<p>accesses. This setting should not cause problems on the target as long as the<b> agent</b> option</p>
<p>points to the start of a block of memory that is writable and executable.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not use the agent to accelerate downloads and block reads. Use</p>
<p>this setting if you experience problems with the agent.</p>
<p><i>123</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the PowerPC device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command). For additional usage notes regarding unchanged PowerPC</p>
<p>configuration options, see “Notes Regarding Other PowerPC Configuration Options”</p>
<p>on page 154.</p>
<p><b>32_bit_bus</b></p>
<p>For PowerPC 603 cores only.</p>
<p>PowerPC 603 targets can be configured in either 64-bit bus mode (the default for all PowerPC</p>
<p>targets) or in 32-bit bus mode. The probe needs to know which mode the target is using to</p>
<p>correctly access memory.</p>
<p>If the target is configured in 32-bit bus mode, set this option to</p>
<p>on</p>
<p>, and the probe uses a 32-bit</p>
<p>wide data bus to access memory.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set 32_bit_bus</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>124</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>agent</b></p>
<p>Applies to PowerPC 75x, 7400, 7410, 7448, 86xx, and e500v2–based cores only.</p>
<p>To perform some operations, the probe downloads a small program, called an agent, onto your</p>
<p>target. This setting controls the address to which the probe downloads the agent.</p>
<p>The agent occupies up to 128 bytes of memory. Your program must not use any of the memory</p>
<p>that the agent occupies.</p>
<p>On PowerPC 75x, 7400, and 7410 targets, the probe uses the agent to flush data from the L2</p>
<p>cache. If the probe can access the L2 cache on your target directly, or if the L2 cache on your</p>
<p>target is disabled, set the agent's address to</p>
<p>0x0</p>
<p>to turn it off. If the probe cannot access the L2</p>
<p>cache directly (such as with the IBM 750L), set the agent's address to any nonzero, 4-byte</p>
<p>aligned address in RAM to turn it on.</p>
<p>On PowerPC e500v2-based targets, the probe uses the agent only if the<b> freeze_timers</b> option</p>
<p>is enabled. The agent helps control the timers when the target enters and exits debug mode, and</p>
<p>helps synchronize the timers on multicore targets. Set the agent's address to an unused 32-byte</p>
<p>aligned address in RAM that has a valid TLB mapping with supervisor execute permission.</p>
<p>On PowerPC 86xx targets, you must set<b> agent</b> whenever the L2 cache is enabled. On the 8641D,</p>
<p>you must set it whenever the L2 cache or L1 data cache is enabled. Data cache way locking via</p>
<p>ldstcr</p>
<p>is not supported when the agent is enabled.</p>
<p>The agent's default address is</p>
<p>0x0</p>
<p>. To change the<b> agent</b> setting, enter the command:</p>
<p><b>set agent<i></b> address</i></p>
<p>where<i> address</i> is a 64-byte aligned address (if your target is a 86xx,<i> address</i> must be 128-byte</p>
<p>aligned).</p>
<p><b>always_inval_icache</b></p>
<p>For PowerPC 603, 82xx, 5200, 7xx, 7400, and 7410 cores only.</p>
<p>When set to</p>
<p>on</p>
<p>, the probe invalidates the L1 instruction cache every time a memory write is</p>
<p>performed. Invalidating the L1 instruction cache is only necessary if instructions that the processor</p>
<p>can execute are written to memory. Doing this for all memory writes means that writes consisting</p>
<p>of data that the processor never executes as instructions can cause the probe to spend time</p>
<p>unnecessarily invalidating the instruction cache.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe assumes all memory writes consist of data that the processor will</p>
<p>not execute, and does not invalidate the instruction cache, unless specially told to. For example,</p>
<p>when MULTI downloads a program, it informs the probe that the data being written to memory</p>
<p>are instructions, and the probe should invalidate the instruction cache.</p>
<p>Note that when performing memory writes using the<b> mw</b> and<b> mf</b> commands, placing the</p>
<p>i</p>
<p>suffix</p>
<p>on the address being written forces the probe to invalidate the instruction cache.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set always_inval_icache</b> on | off</p>
<p><i>125</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>auto_modify_tlb</b></p>
<p>For PowerPC 4xx cores only.</p>
<p>When debugging an application in mapped memory, if a memory operation is requested but the</p>
<p>corresponding entry in the TLB does not allow that operation, it fails. When set to</p>
<p>on</p>
<p>, the probe</p>
<p>modifies the entry in the TLB so that the requested operation can succeed. It then changes the</p>
<p>TLB back to the original state so that the target state is unchanged.</p>
<p>When set to</p>
<p>off</p>
<p>, requested memory operations that do not have the appropriate permissions</p>
<p>will return an error.</p>
<p>This option defaults to</p>
<p>on</p>
<p>. To change this setting, enter the command:</p>
<p><b>set auto_modify_tlb</b> on | off</p>
<p><b>cache_model</b></p>
<p>Applies to PowerPC 744x and 745x targets only.</p>
<p>Whenever the probe initiates a memory write at a certain address, it must first check if the region</p>
<p>of memory corresponding to the address is cached by the target. A sequential check for a valid</p>
<p>line is done through the L1, L2, and (where applicable) L3 caches. If the address is not found</p>
<p>to be cached, the value is written to memory. If the address is found to be cached, the probe</p>
<p>uses one of two methods,</p>
<p>dirty</p>
<p>or</p>
<p>writethrough</p>
<p>, to maintain coherency. To set the method,</p>
<p>enter the command:</p>
<p><b>set cache_model</b> dirty | writethrough</p>
<p>•</p>
<p>dirty</p>
<p>— the probe updates the data of the first valid cache line found, and sets the status</p>
<p>bits in that line to flag it as dirty. It does not proceed through further cache levels, or</p>
<p>necessarily write the value to memory. This model is usually faster than the</p>
<p>writethrough</p>
<p>model, but may not work correctly in all situations.</p>
<p>•</p>
<p>writethrough</p>
<p>— [default] the probe updates the data of the first valid cache line found</p>
<p>and continues searching through the cache model for a line that is both valid and dirty. If</p>
<p>it finds a dirty line, it updates the data in that line and the memory write returns. If it does</p>
<p>not find a dirty line after traversing all caches, it performs a write to main memory. This</p>
<p>model is usually slower than</p>
<p>dirty</p>
<p>, because the probe checks more caches, but maintains</p>
<p>more thorough coherency.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>126</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>catch_branch</b></p>
<p>For PowerPC 603, 82xx, 5200, 7xx, and 74xx cores only.</p>
<p>Specifies whether or not a PowerPC core halts when a branch exception occurs. When set to</p>
<p>on</p>
<p>, the probe sets up the debug logic so that these cores halt when a branch exception occurs.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe does not halt when a branch exception occurs, but passes the exception</p>
<p>to the branch trace exception vector (</p>
<p>0xd00</p>
<p>).</p>
<p>If user code does not have a branch trace exception handler, this setting should be on.</p>
<p>This option defaults to</p>
<p>on</p>
<p>. To change this setting, enter the command:</p>
<p><b>set catch_branch</b> on | off</p>
<p><b>catch_illegal</b></p>
<p>Applies to PowerPC 603, 82xx, 83xx, 86xx, 5200, 7xx, and 74xx cores only.</p>
<p>Specifies whether or not the probe resumes the core at the program interrupt vector immediately</p>
<p>after halting it when it encounters an illegal instruction.</p>
<p>If user code does not have an illegal instruction exception handler, set<b> catch_illegal</b> to</p>
<p>on</p>
<p>. In</p>
<p>some situations (for example, if the user code is an RTOS that uses illegal instructions to set</p>
<p>breakpoints) you may need to set this option to</p>
<p>off</p>
<p>for proper operation.</p>
<p>To change this setting, enter the command:</p>
<p><b>set catch_illegal</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] When the core halts due to an illegal instruction, the probe does not resume</p>
<p>the core at the program interrupt vector. The</p>
<p>PC</p>
<p>and</p>
<p>MSR</p>
<p>registers are moved from the</p>
<p>corresponding</p>
<p>SRR</p>
<p>registers to point to the illegal instruction at the time of the exception.</p>
<p>•</p>
<p>off</p>
<p>— When the core halts due to an illegal instruction, the probe immediately resumes</p>
<p>the core at the program interrupt vector (</p>
<p>0x700</p>
<p>).</p>
<p>This option has no effect if<b> soft_stop</b> is set to</p>
<p>off</p>
<p>or<b> disable_swbp</b> is set to</p>
<p>on</p>
<p>, disabling debug</p>
<p>exceptions. In this case, the probe allows the processor to run without interruption.</p>
<p><i>127</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>catch_por</b></p>
<p>Applies to PPC4xx cores only. Requires that you set the<b> power_detect</b> option to</p>
<p>on</p>
<p>.</p>
<p>Determines whether or not to stop the target as it powers on by asserting the halt signal to the</p>
<p>target when the power is off. When the probe senses that power to the target is on, it requests</p>
<p>that the target stay halted and then releases the halt pin. This behavior requires a functioning</p>
<p>halt signal to the target (on COP, this is usually labeled</p>
<p>SRST</p>
<p>). The default is</p>
<p>off</p>
<p>.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set catch_por</b> [ on | off ]</p>
<p>•</p>
<p>on</p>
<p>— Sets up debug logic to halt the core when the target first powers on, before executing</p>
<p>the first instruction of the reset exception vector.</p>
<p>•</p>
<p>off</p>
<p>— Do not attempt to stop the target as it powers on.</p>
<p><b>catch_wakeup</b></p>
<p>Applies to some PPC460 cores only.</p>
<p>Determines whether or not to stop the target as it resumes from a low power state. The default</p>
<p>is</p>
<p>off</p>
<p>.</p>
<p>The probe does this by asserting the halt signal to the target when it is in a low power state.</p>
<p>When the probe notices that the target has left the low power state, it requests the target halt</p>
<p>and then releases the halt pin. This behavior requires a functioning halt signal to the target (on</p>
<p>COP, this is usually labeled</p>
<p>SRST</p>
<p>).</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set catch_wakeup</b> [ on | off ]</p>
<p>•</p>
<p>on</p>
<p>— Stops the target from running when exiting a low power state.</p>
<p>•</p>
<p>off</p>
<p>— Do not attempt to stop the target as it resumes from a low power state.</p>
<p><b>censor_hi</b></p>
<p>Applies to PowerPC 56xx and some 57xx cores only.</p>
<p>Sets the high 32 bits of the devices censorship unlock word. For more information, see</p>
<p><b>censor_unlock</b>. To change this setting, enter the command:</p>
<p><b>set censor_hi<i> value</b></i></p>
<p><b>censor_lo</b></p>
<p>Applies to PowerPC 56xx and some 57xx cores only.</p>
<p>Sets the low 32 bits of the devices censorship unlock word. For more information, see</p>
<p><b>censor_unlock</b>. To change this setting, enter the command:</p>
<p><b>set censor_lo<i></b> value</i></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>128</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>censor_unlock</b></p>
<p>Applies to PowerPC 56xx and some 57xx cores only.</p>
<p>Some PowerPC e200–based devices have a device censorship feature that can control access</p>
<p>to the flash subsystem and the debug interface (Nexus). When configured, the device requires</p>
<p>a 64-bit password transmitted over JTAG before any debug functions are allowed.</p>
<p>The<b> censor_hi</b> and<b> censor_lo</b> settings contain the high and low 32-bits of the password,</p>
<p>respectively.<b> censor_unlock</b> controls how the probe attempts to unlock the device during reset.</p>
<p>To change this setting, enter the command:</p>
<p><b>set censor_unlock</b> on | off</p>
<p>Where:</p>
<p>•</p>
<p>on</p>
<p>— The probe sends the 64-bit password to the device's</p>
<p>CENSOR_CTRL</p>
<p>register.</p>
<p>•</p>
<p>off</p>
<p>— [default] The probe does not attempt to unlock the device.</p>
<p><b>check_mem_access</b></p>
<p>Applies to PowerPC 405, 440, and 460 only.</p>
<p>Controls asynchronous machine check detection using the</p>
<p>MCSR</p>
<p>register</p>
<p>Newer PowerPC 405, 440, and 460 CPUs have an</p>
<p>MCSR</p>
<p>register that allows the probe to</p>
<p>asynchronously detect machine checks caused by memory accesses. When the probe detects a</p>
<p>machine check, it can report an error with the memory access and prevent the application on</p>
<p>the target from seeing it when the CPU is resumed.</p>
<p>To change this setting, enter the command:</p>
<p><b>set check_mem_access</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe performs this check when the target has an</p>
<p>MCSR</p>
<p>register.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not perform this check or report a memory access error. The CPU</p>
<p>handles the exception.</p>
<p><i>129</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>databp_translate</b></p>
<p>Applies to PowerPC 86xx cores only.</p>
<p>On some PowerPC targets, an additional condition must be met to trigger a data (r/w) hardware</p>
<p>breakpoint — the BT bit in the data breakpoint register (DABR[BT]) must match the data</p>
<p>translation bit in the machine status register (MSR[DR]). The probe cannot know whether or</p>
<p>not address translation will be enabled when the breakpoint occurs, so it makes a best guess</p>
<p>about how to set BT based on the setting of this option.</p>
<p>This option applies equally to DABR and DABR2.</p>
<p>To change this setting, enter the command:</p>
<p><b>set databp_translate</b> [ msr | manual | off | on ]</p>
<p>•</p>
<p>msr</p>
<p>— [default] The probe sets BT to match the value of MSR[DR] every time the processor</p>
<p>resumes. This behavior is sufficient for most needs. Use this setting when debugging code</p>
<p>that does not change the MSR.</p>
<p>•</p>
<p>manual</p>
<p>— The probe sets BT based on the</p>
<p>0x00000004</p>
<p>bit (bit 29) of the breakpoint</p>
<p>address. If bit 29 of the address is set when the breakpoint is first created, then the probe</p>
<p>sets BT. The value of BT is not dependent on the current MSR, and the probe does not</p>
<p>change the value of BT when it resumes. BT maintains its value until the breakpoint is</p>
<p>cleared. This setting may be useful for setting a data breakpoint that triggers regardless of</p>
<p>the value of MSR[DR]. For example, to capture all r/w access to</p>
<p>0x1000</p>
<p>, you could set</p>
<p>up two hardware breakpoints with different BT settings by issuing</p>
<p>bs rw 0x1000</p>
<p>and</p>
<p>bs rw 0x1004</p>
<p>.</p>
<p>•</p>
<p>off</p>
<p>— BT is always set low (0). As a result, data breakpoints are never hit if data translation</p>
<p>is turned on in the MSR. This may be helpful for specifically debugging exception-vector</p>
<p>code.</p>
<p>•</p>
<p>on</p>
<p>— BT is always set high (1). As a result, data breakpoints are never hit if data translation</p>
<p>is turned off in the MSR. This may be helpful for specifically debugging user-space code.</p>
<p><b>disable_bp</b></p>
<p>Applies to PowerPC 4xx cores only.</p>
<p>This option allows you to disable all breakpoints from the probe's perspective. This allows you</p>
<p>to do run-mode debug on your PowerPC 4xx target when the run-mode debug agent uses the</p>
<p>TRAP instruction, which is the same as the breakpoint instruction used by the probe.</p>
<p>The primary use for this option is debugging a running Linux system while using the probe to</p>
<p>set up your board and download your image to the target.</p>
<p>This option defaults to</p>
<p>off</p>
<p>, and should not be changed for most applications. To change this</p>
<p>setting, enter the command:</p>
<p><b>set disable_bp</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>130</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>disable_swt</b></p>
<p>This option does not apply to all PowerPC cores.</p>
<p>Specifies whether or not the probe alters the software watchdog timer (SWT) on the target as</p>
<p>part of the reset sequence. To change this setting, enter the command:</p>
<p><b>set disable_swt</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe disables the soft lock and timer-enable bits in all SWT modules</p>
<p>on the target as part of the target reset sequence.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not alter the SWT configuration during reset.</p>
<p><b>disable_swbp</b></p>
<p>Applies to PowerPC 7xx, 74xx, and 86xx cores only.</p>
<p>Disables software breakpoints.</p>
<p>Some chips use the same resources for software and hardware breakpoints, which limits the</p>
<p>available number of each type of breakpoint. By default, Green Hills Debug Probes allocate</p>
<p>these resources to be biased toward software breakpoints, and in some cases the hardware</p>
<p>breakpoints may not be available. Setting this option to</p>
<p>on</p>
<p>allows you to use the maximum</p>
<p>number of hardware breakpoints available on your hardware.</p>
<p>On a PowerPC 8641D, if<b> sync_cores</b> is enabled, changing this option affects both cores. If</p>
<p><b>sync_cores</b> is disabled, changing this option affects just the current core; you can set this option</p>
<p>independently on each core.</p>
<p>If this option is enabled, the<b> step</b> option should not be set to</p>
<p>swbp</p>
<p>. Use</p>
<p>trace</p>
<p>or</p>
<p>hwbp</p>
<p>instead.</p>
<p>This option defaults to</p>
<p>off</p>
<p>, which means that software breakpoints are enabled. To change this</p>
<p>setting, enter the command:</p>
<p><b>set disable_swbp</b> on | off</p>
<p><i>131</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>edm</b></p>
<p>Applies to PowerPC e500v2, e500mc, e5500, and e6500–based cores only.</p>
<p>Specifies whether or not to enable external debug mode (EDM).</p>
<p>To change this setting, enter the command:</p>
<p><b>set edm</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] The probe takes control of all of the target's debug resources. Hardware</p>
<p>and software breakpoints are available and the EDM bit in</p>
<p>dbcr0</p>
<p>is set to</p>
<p>1</p>
<p>.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not set the EDM bit in</p>
<p>dbcr0</p>
<p>, and the code running on the target</p>
<p>is responsible for managing debug resources. Hardware breakpoints are not available.</p>
<p>Software breakpoints are available only when debugging QorIQ targets with e500mc or</p>
<p>newer cores. Use this setting when your operating system requires use of hardware debug</p>
<p>resources, such as when debugging Linux. The code running on the target is responsible</p>
<p>for managing most debug resources.</p>
<p><b>Note:</b> Changing<b> edm</b> after booting an operating system is unsupported.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>132</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>execbp_translate</b></p>
<p>Applies to PowerPC 86xx cores only.</p>
<p>On some PowerPC targets, an additional condition must be met to trigger an execute (</p>
<p>x</p>
<p>) hardware</p>
<p>breakpoint — the TE bit in the instruction breakpoint register (IABR[TE]) must match the</p>
<p>instruction translation bit in the machine status register (MSR[IR]). The probe cannot know</p>
<p>whether or not address translation will be enabled when the breakpoint occurs, so it makes a</p>
<p>best guess about how to set TE based on the setting of this option.</p>
<p>To change this setting, enter the command:</p>
<p><b>set execbp_translate</b> [ auto | msr | manual | off | on ]</p>
<p>•</p>
<p>auto</p>
<p>— [default] Identical to</p>
<p>msr</p>
<p>, except that the probe never sets TE when the breakpoint</p>
<p>address points to the 8 k of exception vector space (either</p>
<p>0x0</p>
<p>or</p>
<p>0xfff00000</p>
<p>, as</p>
<p>determined by the current value of MSR[IP] at the time the breakpoint is set). Usually, this</p>
<p>setting provides the best default behavior.</p>
<p>•</p>
<p>msr</p>
<p>— The probe sets TE to match the value of MSR[IR] every time the processor resumes.</p>
<p>This behavior is sufficient for most needs. Use this setting when debugging code that does</p>
<p>not change the MSR.</p>
<p>•</p>
<p>manual</p>
<p>— The probe sets TE based on the least significant bit (</p>
<p>0x1</p>
<p>) of the breakpoint</p>
<p>address: if that bit of the address is set when the breakpoint is first created, the probe sets</p>
<p>TE. The value of TE is not dependent on the current MSR, and the probe does not change</p>
<p>the value of TE when it resumes. TE maintains its value until the breakpoint is cleared.</p>
<p>•</p>
<p>off</p>
<p>— TE is always set low (0). As a result, execute breakpoints are never hit if instruction</p>
<p>translation is turned on in the MSR. This may be helpful for specifically debugging</p>
<p>exception-vector code or interrupt handlers.</p>
<p>•</p>
<p>on</p>
<p>— TE is always set high (1). As a result, execute breakpoints are never hit if instruction</p>
<p>translation is turned off in the MSR. This may be helpful for specifically debugging</p>
<p>user-space code.</p>
<p><b>fast_dl</b></p>
<p>For PowerPC 603, 5200, 82xx, 7xx, and 74xx cores only.</p>
<p>Enables or disables fast downloading.</p>
<p>When<b> fast_dl</b> is turned on, the Probe assumes that the target can complete memory writes as</p>
<p>fast as the Probe can issue them. Turning this setting on increases memory write speed by up</p>
<p>to 300% in some cases. However, it can cause incorrect operation of targets that have slow</p>
<p>CPUs or slow memory.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn fast downloading on or off, enter the command</p>
<p><b>set fast_dl</b> on | off</p>
<p><i>133</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>fill_tlb</b></p>
<p>For PowerPC 405 cores only.</p>
<p>Specifies whether the probe runs the TLB handler to resolve TLB misses during a debugging</p>
<p>session.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set fill_tlb</b> on | off</p>
<p><b>fpr_buf</b></p>
<p>For PowerPC 5xx cores only.</p>
<p>Sets the scratch area required for floating-point register access on PowerPC 5xx targets.</p>
<p>The scratch area needs to be at least 8 bytes and must be 4-byte aligned. The</p>
<p>fpr_buf</p>
<p>default</p>
<p>is</p>
<p>0x7eff0</p>
<p>.</p>
<p>To set the scratch area, enter the command</p>
<p><b>set fpr_buf<i></b> address</i></p>
<p>where<i> address</i> is an address in available memory that is not used by the application running on</p>
<p>the target.</p>
<p><b>freeze_timers</b></p>
<p>For PowerPC 4xx, 55xx, 560x, 563x, 5668, and e500v2-based cores only.</p>
<p>On these targets, the probe can freeze the timers when the processor enters debug mode. This</p>
<p>enables any functions that rely on the timers to work correctly as though the target never halted.</p>
<p>Additionally, when the timers are frozen, any watchdog timers do not reset the board when the</p>
<p>target enters debug mode.</p>
<p>On PPC e500v2, the<b> agent</b> configuration option must be configured for proper operation of</p>
<p><b>freeze_timers</b>. In some cases, the timers continue to run for a brief period while the probe is</p>
<p>halting the core.</p>
<p>When set to</p>
<p>on</p>
<p>, timers are frozen when the target enters debug mode.</p>
<p>When set to</p>
<p>off</p>
<p>, timers continue to run while the target is in debug mode.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set freeze_timers</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>134</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>icache_step</b></p>
<p>Applies to PowerPC 744x, 745x, and 86xx cores only.</p>
<p>When single stepping over instructions in certain contexts, these targets might unexpectedly</p>
<p>jump to the program interrupt vector (</p>
<p>+0x700</p>
<p>). Set this option to</p>
<p>off</p>
<p>to disable the instruction</p>
<p>cache while single stepping, which fixes this behavior in most cases.</p>
<p><b>set icache_step</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Do not disable the instruction cache while single stepping. This is the default for</p>
<p>PowerPC 744x and 745x cores.</p>
<p>•</p>
<p>off</p>
<p>— Disable the instruction cache while single stepping. This is the default for PowerPC</p>
<p>86xx cores.</p>
<p><b>immr_base</b></p>
<p>Applies to PowerPC 82xx (except 8240 and 8245) cores only.</p>
<p>Specifies the base address of the internal memory-mapped register set upon reset of the target.</p>
<p>This setting can be essential for proper operation of PowerPC 82xx targets. It is used in</p>
<p>conjunction with the<b> sypcr_write_enable</b> option. To find the correct address, consult your</p>
<p>board or processor manual.</p>
<p>The default setting is</p>
<p>0</p>
<p>.</p>
<p>To specify a different address, enter the command</p>
<p><b>set immr_base<i></b> address</i></p>
<p><b>inval_entire_icache</b></p>
<p>For PowerPC 440 and 460 cores only.</p>
<p>When set to</p>
<p>on</p>
<p>, the probe invalidates the entire instruction cache whenever the address in</p>
<p>question is marked as a physical instruction address. This is to handle instruction cache synonyms</p>
<p>that occur when using virtual addresses that do not directly map to the same physical address.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe does not invalidate the entire instruction cache, possibly leaving</p>
<p>valid instruction cache synonyms for other virtual addresses that could cause modified code</p>
<p>(such as for software breakpoints) to be missed by the processor.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set inval_entire_icache</b> on | off</p>
<p><i>135</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>l2cache_size</b></p>
<p>For PowerPC 75x cores only.</p>
<p>Specifies the size of the L2 cache.</p>
<p>The probe needs to know the correct L2 cache size so that the probe can debug a target with its</p>
<p>L2 cache on and provide access to the L2 cache with the following commands:</p>
<p>•</p>
<p><b>clr</b></p>
<p>•</p>
<p><b>clst</b></p>
<p>•</p>
<p><b>clsa</b></p>
<p>Note that this option does not enable the target's L2 cache. The L2 cache must be configured</p>
<p>independently via the L2CR register.</p>
<p>To set the L2 cache size, enter the command:</p>
<p><b>set l2cache_size</b> 1mb | 512kb | 256kb</p>
<p>The default setting is</p>
<p>1mb</p>
<p>.</p>
<p><b>memory_parity</b></p>
<p>For PowerPC 7400 and 7410 cores only.</p>
<p>When connected to PowerPC 7400 and 7410 targets, the probe can optionally write the data</p>
<p>parity bits when performing memory writes. This option also enables writing parity bits when</p>
<p>performing L2 cache writes. If data parity checking is enabled on the target, this option must</p>
<p>be enabled to prevent parity errors.</p>
<p>This option defaults to</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set memory_parity</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>136</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>mmu_support</b></p>
<p>Applies to PowerPC 603, 7xx, 82xx, 83xx, 86xx, MGT5200, 7400, 7410, 7450, 4xx, e500v2,</p>
<p>e500mc, e5500and e6500–based cores only.</p>
<p>Use this option to help the probe determine when and how to translate addresses. If you are</p>
<p>debugging an operating system or other application that uses the MMU, this setting gives the</p>
<p>probe a guideline for how to interpret addresses.</p>
<p>For the PowerPC 4xx, only the</p>
<p>auto</p>
<p>and</p>
<p>linux</p>
<p>settings are available. The</p>
<p>auto</p>
<p>setting has</p>
<p>the same behavior as</p>
<p>on</p>
<p>(described below).</p>
<p>For the PowerPC 7450, e500v2, e500mc, e5500, and e6500, the</p>
<p>linux</p>
<p>setting is not available.</p>
<p>If you are debugging Linux on one of these targets, use the</p>
<p>on</p>
<p>setting.</p>
<p>For the e500mc, e5500, and e6500, only the</p>
<p>on</p>
<p>and</p>
<p>off</p>
<p>options are available. The default is</p>
<p>on</p>
<p>.</p>
<p>When debugging INTEGRITY,</p>
<p>auto</p>
<p>is the recommended setting, as long as the MMU does</p>
<p>not map any address in KernelSpace to a different physical address. If this is not true for your</p>
<p>system, and if you encounter any problems when using the</p>
<p>auto</p>
<p>setting, try the</p>
<p>on</p>
<p>setting</p>
<p>instead.</p>
<p>To change this setting, enter the command:</p>
<p><b>set mmu_support</b> on | off | auto | linux</p>
<p>where the arguments specify the behavior described below.</p>
<p>•</p>
<p>on</p>
<p>— The probe assumes that every address is an effective address that might require</p>
<p>address translation, and attempts to translate every address. (Memory accesses take the</p>
<p>longest amount of time with this option selected.)</p>
<p>•</p>
<p>off</p>
<p>— The probe assumes that no addresses require translation. This is the recommended</p>
<p>option if the MMU is turned off, or if all memory is directly mapped. (This option results</p>
<p>in the fastest possible memory access by the probe.)</p>
<p>•</p>
<p>auto</p>
<p>— The probe assumes that only user-mode memory addresses might need to be</p>
<p>translated, and that supervisor-mode memory addresses are directly mapped. If the MMU</p>
<p>is disabled, or the processor never runs in user mode, this option has the same performance</p>
<p>as the</p>
<p>off</p>
<p>setting.</p>
<p>•</p>
<p>linux</p>
<p>— The probe assumes that target is running a Linux operation system and attempts</p>
<p>to translate addresses assuming a Linux memory map.</p>
<p>The default setting is</p>
<p>auto</p>
<p>.</p>
<p><i>137</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>no_boot_rom</b></p>
<p>For PowerPC e500v2–based cores only.</p>
<p>These cores require valid memory and opcodes at the reset vector for the probe's reset sequence</p>
<p>to work. Boards that do not have valid flash or ROM located at the reset vector can be correctly</p>
<p>reset when this option is enabled.</p>
<p>When set to</p>
<p>on</p>
<p>, and a target reset operation is requested, the probe maps half of the CPU's</p>
<p>internal L2 cache to the reset vector, and writes a &quot;branch to self&quot; opcode to the reset vector.</p>
<p>This setup work is done while the target is held in reset. When the reset is complete, the probe</p>
<p>leaves the L2 cache mapped as</p>
<p>SRAM</p>
<p>, and also initializes all of the</p>
<p>IVOR</p>
<p>registers so that the</p>
<p>code can immediately be run in the highest page of memory.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe's reset behavior is determined by the<b> reset_fixup</b> configuration</p>
<p>option.</p>
<p>The default setting is</p>
<p>off</p>
<p>. To change this setting, enter the command:</p>
<p><b>set no_boot_rom</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>138</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>override_rcw</b></p>
<p>This configuration option affects how the probe resets the target.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe relies on the target having a valid reset configuration word (RCW)</p>
<p>available to the processor at reset. If the processor cannot read a valid RCW, or if the RCW is</p>
<p>misconfigured, the probe may not be able to reset the target. Having an erased or missing flash</p>
<p>part can lead to an invalid RCW.</p>
<p>For 83xx, when set to</p>
<p>on</p>
<p>, the probe will override the RCW using the values specified by the</p>
<p><b>rcw_high</b> and<b> rcw_low</b> configuration options. The processor will use the RCW specified by</p>
<p>the probe and not try to look for one in the usual places. This should allow the probe to</p>
<p>successfully reset the target every time; however, if a target does not have a valid RCW, it may</p>
<p>not boot when the probe is not connected. It is recommended that this option only be set to</p>
<p>on</p>
<p>in order to recover the actual RCW, or during board bring-up (to troubleshoot why an existing</p>
<p>RCW does not work).</p>
<p>Whenever you reset your 83xx target with<b> override_rcw</b> enabled, the<b> rcw_high</b> and<b> rcw_low</b></p>
<p>settings are stored on the target. Those values are used for all subsequent resets until the target</p>
<p>is power-cycled, or you re-enable<b> override_rcw</b> with new values.</p>
<p>For QorIQ targets with e500mc or newer cores, the target's RCW is 512 bits in length. The</p>
<p>probe provides access to the RCW value with 16 registers</p>
<p>rcw1</p>
<p>through</p>
<p>rcw16</p>
<p>. These registers</p>
<p>are populated with the current RCW value at each target reset. The top bit of</p>
<p>rcw1</p>
<p>corresponds</p>
<p>to bit 0 of the RCW described in the processor reference manual.</p>
<p>To override the target's RCW, first write to one or more of the</p>
<p>rcw5-rcw16</p>
<p>registers. Note that</p>
<p>overriding the values of</p>
<p>rcw1</p>
<p>through</p>
<p>rcw4</p>
<p>is not supported. Then set<b> override_rcw</b> to</p>
<p>on</p>
<p>,</p>
<p>and finally reset the target. On QorIQ, the<b> override_rcw</b> option is a volatile option and must</p>
<p>be explicitly enabled before each reset.</p>
<p>The default for this option is</p>
<p>off</p>
<p>. To change this setting, enter:</p>
<p><b>set override_rcw</b> on | off</p>
<p><b>preserve_dcache</b></p>
<p>Applies to PowerPC 440 and 460 targets only.</p>
<p>Controls whether or not memory accesses through the probe alter the data cache. Set this option</p>
<p>to</p>
<p>on</p>
<p>if you are using the<b> cacheview</b> command in the MULTI Debugger or are debugging</p>
<p>cache-related issues. Otherwise, set this option to</p>
<p>off</p>
<p>.</p>
<p><b>set preserve_dcache</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— [default] memory accesses through the probe do not alter the data cache. The probe</p>
<p>checks each address accessed, and if the address is not already in the cache, it temporarily</p>
<p>modifies the TLB to prevent that address from being cached.</p>
<p>•</p>
<p>off</p>
<p>— memory accesses through the probe alter the data cache if the accessed address is</p>
<p>not already in the cache. This setting improves performance.</p>
<p><i>139</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>quiesce</b></p>
<p>Applies to PowerPC e500v2–based processors supported by probe firmware 3.8 or newer.</p>
<p>Specifies whether or not a platform quiesce is issued when a core enters debug mode. To change</p>
<p>this setting, enter the following command:</p>
<p><b>set quiesce</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Any time a core halts, the probe sends a quiesce request to the SoC platform. This</p>
<p>request suspends all activity in blocks such as the DMA controller, and prevents the</p>
<p>possibility of a probe debug command from interfering with an active transfer. We</p>
<p>recommend that you enable this option when debugging an operating system that makes</p>
<p>use of DMA. However, in multi-core systems like the QorIQ P2020, whenever one core</p>
<p>halts, the other core halts as well. This behavior may not be desirable for AMP-type</p>
<p>applications.</p>
<p>•</p>
<p>off</p>
<p>— [default] No platform quiesce is issued on halt. Cores can be halted independently.</p>
<p>This setting is appropriate for most stand-alone applications.</p>
<p><b>rcw_high</b></p>
<p><b>rcw_low</b></p>
<p>Applies to PowerPC 83xx cores only.</p>
<p>The values specified by<b> rcw_high</b> and<b> rcw_low</b> can be used to configure the reset configuration</p>
<p>word during reset. To view the values of the reset configuration word after reset, view the</p>
<p>memory-mapped registers RCWHR at offset</p>
<p>0x904</p>
<p>from the IMMR base and RCWLR at offset</p>
<p>0x900</p>
<p>from the IMMR base. For more information about how the fields in these registers are</p>
<p>defined, refer to your processor reference manual.</p>
<p>The values of these configuration options have no effect when the<b> override_rcw</b> setting is</p>
<p>disabled. For more information, see the<b> override_rcw</b> option in this table.</p>
<p>The syntax for these options is:</p>
<p><b>set rcw_high<i></b> value</i></p>
<p><b>set rcw_low<i></b> value</i></p>
<p>where<i> value</i> is the 32-bit value to write to the specified register during reset.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>140</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>reset_erpn</b></p>
<p>For PowerPC 440 and 460 cores only.</p>
<p>When performing a debug-mode reset (<b>tr d</b>), the probe initializes the TLB on the 440 core to</p>
<p>contain a single entry mirroring what would be added to the shadow TLB on reset. This option</p>
<p>controls the Effective Real Page Number (ERPN) of that entry.</p>
<p>This option defaults to<b> 1</b>, as per the hardware user manual. To change this setting, enter the</p>
<p>command:</p>
<p><b>set reset_erpn<i></b> ERPN</i></p>
<p>where<i> ERPN</i> is between</p>
<p>0</p>
<p>and</p>
<p>0xF</p>
<p>(inclusive).</p>
<p><b>reset_fixup</b></p>
<p>For PowerPC e500v2–based cores only.</p>
<p>These cores have a chip bug that prevents accessing the TLB or performing a single-step directly</p>
<p>out of reset. Setup scripts typically reset the target, and then often need to enable entries in the</p>
<p>TLBs. It might be useful to single-step to debug the instructions executed at CPU reset. This</p>
<p>configuration option enables a workaround so that these features will work after a reset is</p>
<p>performed. The workaround procedure is the same as the procedure used by the<b> no_boot_rom</b></p>
<p>configuration option.</p>
<p>If the<b> no_boot_rom</b> configuration option is on,<b> reset_fixup</b> is ignored. Also, the workaround</p>
<p>is not used if a<b> tr r</b> command is issued because it is not required in that case.</p>
<p>When set to</p>
<p>on</p>
<p>, the probe performs the<b> no_boot_rom</b> procedure during reset so that the</p>
<p>TLB</p>
<p>and single-step features will work properly. The main difference between enabling<b> no_boot_rom</b></p>
<p>and<b> reset_fixup</b> is that this option returns all registers and the</p>
<p>L2</p>
<p>cache to their default state</p>
<p>out of reset when the procedure completes.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe performs its standard reset operation.</p>
<p>The default setting is</p>
<p>on</p>
<p>. To change this setting, enter the command:</p>
<p><b>set reset_fixup</b> on | off</p>
<p><i>141</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>reset_sequence</b></p>
<p>For PowerPC 603, 82xx, and 5200 cores only.</p>
<p>Sets the software breakpoint method.</p>
<p>Some PowerPC targets based on the G2 core have a quirk when resuming from the reset vector.</p>
<p>They stop a few instructions after the reset vector for no apparent reason. The probe typically</p>
<p>reports this as an unknown exception. This option attempts to prevent this quirk from occurring</p>
<p>by offering an alternate reset sequence.</p>
<p>For some targets, whether or not they require the alternate reset depends on the contents of the</p>
<p>flash. Typically, if the flash is empty, the normal reset can work. If the flash has valid data, then</p>
<p>the alternate reset is required. The</p>
<p>auto</p>
<p>setting is the best choice for these targets because it</p>
<p>selects the reset sequence based on the contents of flash.</p>
<p>To change this setting, enter the command:</p>
<p><b>set reset_sequence</b> normal | alternate | auto</p>
<p>where the arguments specify the behavior described in the following.</p>
<p>•</p>
<p>normal</p>
<p>— The probe uses the standard COP sequence to reset the target.</p>
<p>•</p>
<p>alternate</p>
<p>— The probe uses a slightly different mechanism to reset the target, which</p>
<p>sets a hardware breakpoint at the reset vector and runs to it twice. This can prevent unknown</p>
<p>exceptions from occurring the first time the processor is resumed after reset.</p>
<p>•</p>
<p>auto</p>
<p>— The probe looks at the contents of flash at the reset vector. If the flash is erased,</p>
<p>the probe performs a normal reset sequence. If the flash has valid opcodes, the probe</p>
<p>performs the alternate reset sequence.</p>
<p>The default setting is</p>
<p>normal</p>
<p>.</p>
<p><b>reset_type</b></p>
<p>For PowerPC 4xx cores only.</p>
<p>With PowerPC 4xx cores, the probe can reset the target using one of three reset types.</p>
<p>To change this setting, enter the command:</p>
<p><b>set reset_type</b> core | chip | system</p>
<p>•</p>
<p>core</p>
<p>— Resets the processor core.</p>
<p>•</p>
<p>chip</p>
<p>— Resets the processor core, as well as all on-chip peripherals.</p>
<p>•</p>
<p>system</p>
<p>— Performs a</p>
<p>chip</p>
<p>reset and asserts the system reset pin. A precise reset to the</p>
<p>reset vector can only be achieved if the</p>
<p>HALT</p>
<p>signal (</p>
<p>SRST</p>
<p>for the COP interface) is properly</p>
<p>connected to the CPU; otherwise, the CPU runs free. For more information about processor</p>
<p>reset types, see your processor's manual.</p>
<p>The default setting is</p>
<p>chip</p>
<p>.</p>
<p>For more information about processor reset types, see your processor manual.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>142</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>reset_vector</b></p>
<p>For PowerPC 603, 7xx, 7400, 7410, and 82xx cores only.</p>
<p>Specifies the location of the reset exception vector. (The probe catches certain PowerPC</p>
<p>exceptions to perform its debugging actions.)</p>
<p>To change this setting, enter the command:</p>
<p><b>set reset_vector<i></b> address</i></p>
<p>where<i> address</i> is either</p>
<p>0xfff00100</p>
<p>or</p>
<p>0x00000100</p>
<p>.</p>
<p>The default setting is</p>
<p>0xfff00100</p>
<p>.</p>
<p><b>running_mem_access</b></p>
<p>Specifies how the probe controls access to memory while the core is running.</p>
<p><b>set running_mem_access</b> allow | auto | disallow</p>
<p>where:</p>
<p>•</p>
<p>allow</p>
<p>— [default] Always allows access to memory while the core is running. The probe</p>
<p>assumes all addresses are physical, and the accessed data may not be cache coherent.</p>
<p>•</p>
<p>auto</p>
<p>— Uses a heuristic to determine whether or not to allow access to memory while the</p>
<p>core is running. If the access to the address would return incoherent data or if the address</p>
<p>is specified as virtual, the probe returns an error.</p>
<p>•</p>
<p>disallow</p>
<p>— Never allows access to memory while the core is running.</p>
<p><i>143</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>safe_lsrl</b></p>
<p>For PowerPC 744x and 745x cores only.</p>
<p>Specifies whether the probe uses the LSRL scan chain when reading or writing certain PowerPC</p>
<p>special purpose registers such as L2CR, L3CR, and DEC. On PowerPC 744x and 745x, these</p>
<p>registers can be accessed quickly by using the shorter MSS_NRM scan chain. However, such</p>
<p>accesses can cause spurious decrementer and thermal exceptions when external interrupts are</p>
<p>enabled.</p>
<p>If external interrupts are disabled, this setting should not affect probe behavior except for the</p>
<p>speed of sized memory writes.</p>
<p>To change this setting, enter the command:</p>
<p><b>set safe_lsrl</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Causes the probe to use the LSRL chain. This can slow down sized memory writes</p>
<p>(1, 2, 4, 8 bytes), but prevents the probe from causing decrementer and thermal exceptions</p>
<p>upon resuming the processor.</p>
<p>•</p>
<p>off</p>
<p>— Causes the probe to use the shorter MSS_NRM chain. If external interrupts are</p>
<p>enabled, when the probe resumes the processor, the processors have a decrementer exception,</p>
<p>and possibly a thermal exception pending. The thermal exceptions only occur on PowerPC</p>
<p>7445 and 7455.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p><b>scratch_addr</b></p>
<p>For PowerPC 4xx cores only.</p>
<p>If</p>
<p>use_cache_scratch</p>
<p>is set to</p>
<p>off</p>
<p>,</p>
<p>scratch_addr</p>
<p>specifies where the probe can find 16</p>
<p>bytes of scratch memory used for tasks such as FPU register access. This memory is backed up</p>
<p>before and restored after use, so it can be shared with the running program.</p>
<p><b>set scratch_addr<i></b> address</i></p>
<p>Where</p>
<p><i>address</i></p>
<p>is a 32–bit, 16–byte aligned address that points to usable RAM.</p>
<p>The default value for</p>
<p><i>address</i></p>
<p>is</p>
<p>0x4000</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>144</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>service_bus_read32</b></p>
<p>Applies to PowerPC 744x and 745x cores only.</p>
<p>Specifies whether memory is read using the service bus or by stuffing instructions. The service</p>
<p>bus can read memory faster, but might have difficulty accessing certain memory ranges, such</p>
<p>as off-chip memory-mapped registers. Instruction stuffing is slower, but more reliable for</p>
<p>accessing any memory region that code can access. This option only applies to 1-, 2-, 4-, and</p>
<p>8-byte reads.</p>
<p>To change this setting, enter the command:</p>
<p><b>set service_bus_read32</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Causes the probe to use the service bus for all memory read requests of 1, 2, 4, and</p>
<p>8 bytes. This is faster, but may not be able to read all memory regions. Some 7447 and</p>
<p>7457 cores might time out when reading memory. If this happens on your target, set this</p>
<p>option to</p>
<p>off</p>
<p>.</p>
<p>•</p>
<p>off</p>
<p>— [default] Causes the probe to use instruction stuffing for all memory read requests</p>
<p>of 1, 2, 4, and 8 bytes. This is slower, but might be able to read more memory regions.</p>
<p><b>simple_rst_run</b></p>
<p>Does not apply to all processors. If you attempt to set this command on an unsupported processor,</p>
<p>the probe reports a</p>
<p>no match</p>
<p>error.</p>
<p>Specifies whether or not the probe performs a simple reset instead of a precise reset when a</p>
<p>reset and run command (such as<b> tr r</b>) is issued. During a precise reset, the probe performs some</p>
<p>maintenance that may be required in order to put the target in a good state.</p>
<p>If precise resets do not work, but all other run control does work, the TAP reset line and CPU</p>
<p>reset line may be tied together. Try configuring the<b> target_reset_pin</b> setting before configuring</p>
<p><b>simple_rst_run</b>.</p>
<p>To change this setting, enter the command:</p>
<p><b>set simple_rst_run</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— The probe resets the target by toggling the reset lines on the JTAG port, but does</p>
<p>not perform any additional debug initialization. This setting might help if your target has</p>
<p>a valid ROM monitor, but precise resets do not behave as expected.</p>
<p>•</p>
<p>off</p>
<p>— [default] The probe performs a precise reset, and then resumes the target.</p>
<p><i>145</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>slow_memory_read</b></p>
<p>For PowerPC 603, 82xx, 5200, 7xx, 7400, and 7410 cores only.</p>
<p>On some faster PowerPC targets, such as 750FX and 7400, the CPU may need additional clock</p>
<p>cycles to read the contents of slower memory, such as ROM or flash memory.</p>
<p>When set to</p>
<p>on</p>
<p>, this option instructs the probe to run the target for additional clock cycles when</p>
<p>performing memory reads. Note that this slows down all memory reads by a small amount.</p>
<p>When set to</p>
<p>off</p>
<p>, the probe uses the default number of clock cycles when reading data from</p>
<p>memory.</p>
<p>This option defaults to</p>
<p>on</p>
<p>. To change this setting, enter the command:</p>
<p><b>set slow_memory_read</b> on | off</p>
<p><b>soft_stop</b></p>
<p>For PowerPC 603, 5200, 82xx, and 83xx cores only.</p>
<p>PowerPC processors based on the G2 core (603, 5200, 82xx, and 83xx) have a feature called</p>
<p>“soft stop” that, when enabled, causes the processor to halt and enter debug mode any time an</p>
<p>illegal instruction, hardware breakpoint, or trace exception is encountered. Even if there are no</p>
<p>breakpoints set by the user, the target enters debug mode if the code running on the target causes</p>
<p>such an exception. This can be passed back to the processor using the<b> catch_illegal</b> (above)</p>
<p>configuration option, but with significant overhead. Disabling<b> soft_stop</b> prevents the processor</p>
<p>from entering debug mode for any reason except a user-requested halt.</p>
<p>Furthermore, the revision 1 PowerPC 5200 cores have a bug that results in a loss of memory</p>
<p>access if the processor enters debug mode while another DMA bus master is enabled. For</p>
<p>example, using the processor's Ethernet device can cause this problem. One way to avoid this</p>
<p>is to prevent the processor from entering debug mode, which essentially makes the probe only</p>
<p>a boot loader</p>
<p>To change this setting, enter the command:</p>
<p><b>set soft_stop</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Allows the processor to soft stop, or halt, when it encounters an illegal instruction,</p>
<p>which is used for software breakpoints. This is the recommended setting for standard</p>
<p>debugging operation.</p>
<p>•</p>
<p>off</p>
<p>— Prevents the processor from soft stopping when it encounters an illegal instruction,</p>
<p>which is used for software breakpoints, hardware breakpoints, or the SE and BE bits in the</p>
<p>MSR. Instead it jumps to the appropriate exception vector, as if the probe were not attached</p>
<p>at all. This means that breakpoints will not work. However, the probe can still halt the</p>
<p>processor in this mode. This setting is particularly useful for downloading and running</p>
<p>INTEGRITY with user space tasks.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>146</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sram_size</b></p>
<p>Some PowerPC targets have internal SRAM protected by ECC bits. These bits must be initialized</p>
<p>before use, or a machine check occurs. This option specifies how many bytes of the target's</p>
<p>SRAM to initialize whenever a reset is performed.</p>
<p>To change this setting, enter the command:</p>
<p><b>set sram_size</b> [<i>size</i>]</p>
<p>where<i> size</i> specifies the number of SRAM bytes to initialize. The default value for this setting</p>
<p>varies depending on your target setting. If there are multiple chip variants supported by a</p>
<p>particular target, the default value is set based on the chip variant with the largest SRAM size.</p>
<p>Setting<i> size</i> to</p>
<p>0</p>
<p>disables SRAM initialization.</p>
<p><b>step</b></p>
<p>Specifies which method the probe uses to single-step through code. There are three available</p>
<p>methods, but none of the three work in every case because of bugs in the PowerPC hardware.</p>
<p>If you experience trouble single-stepping, changing the<b> step</b> setting might help. To change this</p>
<p>setting, enter the command:</p>
<p><b>set step</b> hwbp | swbp | trace</p>
<p>where:</p>
<p>•</p>
<p>hwbp</p>
<p>— Causes a hardware breakpoint to be set at the next address. This step method fails</p>
<p>in certain cases just after a branch has been taken, but does allow ROM debugging.</p>
<p>•</p>
<p>swbp</p>
<p>— Causes a software breakpoint at the next address. This step method works as long</p>
<p>as the code you are debugging is in memory that can be written. It fails if the code resides</p>
<p>in ROM or flash, or if<b> disable_swbp</b> is enabled.</p>
<p>•</p>
<p>trace</p>
<p>— Enables stepping using the chip's built-in single-step functionality. This step</p>
<p>method does not properly single-step over all instructions. On PowerPC 82xx, it fails for</p>
<p>some<b> mtspr</b> and<b> mfspr</b> instructions. On other targets, it might fail for certain instructions</p>
<p>when the instruction cache is enabled.</p>
<p>The default setting is</p>
<p>swbp</p>
<p>.</p>
<p>Some special care may be needed if code that the probe is debugging on the target includes an</p>
<p><b>mtmsr</b> instruction. This instruction cannot be stepped over using trace step. Also, if an<b> mtmsr</b></p>
<p>changes the</p>
<p>MSR[IP]</p>
<p>bit, then breakpoints will not work after the<b> mtmsr</b> occurs, until the target</p>
<p>is halted. One solution to this problem is to modify the setup script so that it sets the</p>
<p>MSR[IP]</p>
<p>bit to the same value that the<b> mtmsr</b> instruction sets.</p>
<p><i>147</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>step_fixup</b></p>
<p>Applies to PowerPC e500v2–based cores only.</p>
<p>Controls whether or not the probe uses a workaround to prevent problems when single-stepping</p>
<p>onto a software breakpoint. This option is necessary because in some cases, these processors</p>
<p>cannot single-step onto a software breakpoint without causing an exception or otherwise</p>
<p>corrupting the state of the processor.</p>
<p>To turn<b> step_fixup</b> on or off, use the command:</p>
<p><b>set step_fixup</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— [default] the probe disables any software breakpoint set on the next instruction before</p>
<p>performing a single step. The probe restores the breakpoint after the step completes.</p>
<p>•</p>
<p>off</p>
<p>— the probe performs single steps without checking the next instruction for a software</p>
<p>breakpoint.</p>
<p><b>step_ints</b></p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, asynchronous interrupts are disabled on the target during a</p>
<p>single-step. When this option is turned on, interrupts are left alone so a single-step can go to an</p>
<p>interrupt handler instead of the next instruction.</p>
<p>This option defaults to</p>
<p>on</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>148</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>swbp_type</b></p>
<p>For PowerPC 5xx and 8xx cores only.</p>
<p>Sets the software breakpoint method.</p>
<p>There is no single interrupt that is guaranteed to be available to the Probe for software</p>
<p>breakpoints. You should choose a breakpoint method that does not cause a conflict with the</p>
<p>application running on the target. Notice that this setting directly affects some of the bits in the</p>
<p>DER register, as described in the following.</p>
<p>To set the software breakpoint method, use the command:</p>
<p><b>set swbp_type</b> illegal | syscall | trap</p>
<p>where the arguments specify the behavior described in the following.</p>
<p>•</p>
<p>illegal</p>
<p>— The software emulation interrupt is used to cause software breakpoints by</p>
<p>writing an illegal instruction to memory where software breakpoints are used. Specifying</p>
<p>this option sets SEIE in DER.</p>
<p>•</p>
<p>syscall</p>
<p>— The system call interrupt is used to cause software breakpoints by writing the</p>
<p>syscall</p>
<p>instruction to memory where software breakpoints are used. Specifying this</p>
<p>option sets SYSIE in DER.</p>
<p>•</p>
<p>trap</p>
<p>— The program interrupt is used to cause software breakpoints by writing a</p>
<p>trap</p>
<p>instruction to memory where software breakpoints are used. Specifying this option sets</p>
<p>PRIE in DER.</p>
<p>The default setting is</p>
<p>syscall</p>
<p>.</p>
<p><b>swcrr_value</b></p>
<p><b>swcrr_write_enable</b></p>
<p>Applies to PowerPC 83xx cores only.</p>
<p>Please refer to the description of the<b> sypcr_value</b> and<b> sypcr_write_enable</b> options (below).</p>
<p>The same information applies to<b> swcrr_value</b> and<b> swcrr_write_enable</b>, which are named</p>
<p>differently only because on PowerPC 83xx, the watchdog timer is disabled via fields in the</p>
<p>SWCRR register instead of the SYPCR register.</p>
<p><i>149</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sync_cores</b></p>
<p>Applies to the PowerPC 8641D only.</p>
<p>Specifies whether or not the probe uses special 8641D debug features to enable synchronous</p>
<p>debugging. Set this option to<b> on</b> if you are debugging a program that shares memory between</p>
<p>the two cores (for example, an SMP INTEGRITY Kernel).</p>
<p>You must set the<b> agent</b> option correctly when using<b> sync_cores</b> in order to maintain memory</p>
<p>coherency while debugging.</p>
<p>To change this setting, use the command:</p>
<p><b>set sync_cores</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— Enables synchronous debugging. The probe couples the run-control operation of the</p>
<p>cores so that a<b> tc</b> or<b> th</b> command issued to one core affects both cores. It also links software</p>
<p>breakpoints so that both cores halt when either core hits a breakpoint.</p>
<p>•</p>
<p>off</p>
<p>— [default] Does not enable synchronous debugging. The probe treats the two cores</p>
<p>as separate targets.</p>
<p><b>sync_etpu</b></p>
<p>Applies to PowerPC 55xx and 56xx cores only.</p>
<p>Configures run control behavior for any enhanced time processor unit (eTPU) cores on the</p>
<p>target.</p>
<p>The probe treats all cores independently, so they must be resumed and halted individually.</p>
<p>Because the eTPU is a part of the processor, we recommend that you resume an eTPU any time</p>
<p>the core is resumed. When you set this option to</p>
<p>on</p>
<p>, the probe keeps the eTPU in sync with the</p>
<p>processor.</p>
<p>To change this setting, use the command:</p>
<p><b>set sync_etpu</b> on | off</p>
<p>where:</p>
<p>•</p>
<p>on</p>
<p>— [default] Configures the probe to resume the processor's eTPU whenever it resumes</p>
<p>the processor.</p>
<p>•</p>
<p>off</p>
<p>— Configures the probe so that resuming the processor has no effect on the eTPU.</p>
<p>Run control commands execute only on the individual core where the command was issued.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>150</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>sypcr_value</b></p>
<p><b>sypcr_write_enable</b></p>
<p>For PowerPC 5xx, 8xx and 82xx (except 8240 and 8245) cores only.</p>
<p>Enables the Probe to write a value to the SYPCR register just after reset, which makes debugging</p>
<p>easier on these specific targets.</p>
<p>The preceding PowerPC processors include an internal watchdog timer. In the default</p>
<p>configuration, debugging is difficult if the watchdog timer is not disabled on reset. However,</p>
<p>disabling the watchdog timer involves writing to the SYPCR system protection register, which</p>
<p>can only be written to once after each target reset. These configuration values enable the probe</p>
<p>to write a value to the SYPCR register just after reset.</p>
<p>The syntax for using these options are:</p>
<p><b>set sypcr_write_enable</b> on | off</p>
<p><b>set sypcr_write_value<i></b> value</i></p>
<p>If<b> sypcr_write_enable</b> is turned on, the Probe writes the<i> value</i> specified by<b> sypcr_value</b> to the</p>
<p>SYPCR register immediately after reset.</p>
<p>By default,<b> sypcr_write_enable</b> is</p>
<p>on</p>
<p>and the value of<b> sypcr_value</b> is</p>
<p>0xffffff03</p>
<p>. This</p>
<p>default configuration causes the Probe to disable the watchdog timer just after target reset.</p>
<p><i>151</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>target_rev</b></p>
<p>Currently, for PowerPC 750 and PowerPC 7445/7455 cores only.</p>
<p>Specifies the revision number of a target.</p>
<p>The probe can debug different revisions of PowerPC 750, 7445, and 7455 targets. Because the</p>
<p>debug port differs between revisions on some of these processors, the probe needs to know the</p>
<p>exact revision number to successfully debug the target. Usually, the probe can determine the</p>
<p>revision number of these targets automatically. However, if the probe has difficulty determining</p>
<p>the revision number, you can use the following syntax to set the revision number manually:</p>
<p><b>set target_rev<i></b> revision</i></p>
<p>where<i> revision</i> is one of the following:</p>
<p>•</p>
<p>750-r2</p>
<p>— For a PowerPC 750 Revision 2.2 or earlier target</p>
<p>•</p>
<p>750-r3</p>
<p>— For a PowerPC 750 Revision 3.0 or later target</p>
<p>•</p>
<p>750CX-r1</p>
<p>— For an IBM PowerPC 750CX Revision 1.x target</p>
<p>•</p>
<p>750CX-r2</p>
<p>— For an IBM PowerPC 750CX Revision 2.0 or later target</p>
<p>•</p>
<p>750FX-r1</p>
<p>— For an IBM PowerPC 750FX Revision 1.x target</p>
<p>•</p>
<p>750FX-r2</p>
<p>— For an IBM PowerPC 750FX Revision 2.0 or later target</p>
<p>•</p>
<p>750L-r2</p>
<p>— For an IBM PowerPC 750L Revision 2.x target</p>
<p>•</p>
<p>750L-r3</p>
<p>— For an IBM PowerPC 750L Revision 3.0 or later target</p>
<p>•</p>
<p>750GX-r1</p>
<p>— For an IBM PowerPC 750GX Revision 1.x target</p>
<p>•</p>
<p>rev2</p>
<p>— For a PowerPC 7445/7455 Revision 2.x target</p>
<p>•</p>
<p>rev3</p>
<p>— For a PowerPC 7445/7455 Revision 3.x target</p>
<p>Example:</p>
<p>&gt;set target_rev 750CX-r2</p>
<p>Tells the probe that the target attached is a PowerPC 750CX Revision 2.</p>
<p>To force the probe to attempt to determine the revision number automatically (if you have</p>
<p>previously issued the command</p>
<p>set target_rev<i> revision</i></p>
<p>), enter the command:</p>
<p><b>set target_rev</b> auto</p>
<p>The<b> detect</b> command (see “Configuration Commands” on page 175) cannot override the</p>
<p><b>target_rev</b> configuration setting. If<b> detect</b> senses a particular processor revision, but the</p>
<p><b>target_rev</b> setting is set to a different revision, the target may not function properly. Therefore,</p>
<p>it is best to set<b> target_rev</b> to</p>
<p>auto</p>
<p>before using<b> detect</b> with one of these targets.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>152</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>tlb_handler_entry</b></p>
<p>When used in conjunction with the<b> tlb_handler_failure</b> and<b> tlb_handler_success</b> settings, this</p>
<p>setting extends the address translation capabilities of the probe when running a supported</p>
<p>operating system. Do not set this option manually unless instructed to do so by Green Hills</p>
<p>Support.</p>
<p>If this setting is set to</p>
<p>0x0</p>
<p>, the probe issues the following diagnostic when a translation attempt</p>
<p>misses in both</p>
<p>TLB1</p>
<p>and</p>
<p>TLB0</p>
<p>:</p>
<p>ERROR 77: error translating</p>
<p>virtual address</p>
<p><b>tlb_handler_failure</b></p>
<p>When used in conjunction with the<b> tlb_handler_entry</b> and<b> tlb_handler_success</b> settings, this</p>
<p>setting extends the address translation capabilities of the probe when running a supported</p>
<p>operating system. Do not set this option manually unless instructed to do so by Green Hills</p>
<p>Support.</p>
<p><b>tlb_handler_success</b></p>
<p>When used in conjunction with the<b> tlb_handler_entry</b> and<b> tlb_handler_failure</b> settings, this</p>
<p>setting extends the address translation capabilities of the probe when running a supported</p>
<p>operating system. Do not set this option manually unless instructed to do so by Green Hills</p>
<p>Support.</p>
<p><b>tlb_miss_error</b></p>
<p>For PowerPC 85xx, P1xxx, and P2xxx cores only.</p>
<p>Specifies whether the probe reports a TLB miss as an error.</p>
<p><b>set tlb_miss_error</b> on | off</p>
<p>Where:</p>
<p>•</p>
<p>on</p>
<p>— The probe reports error</p>
<p>77</p>
<p>whenever a TLB miss occurs. These errors are only</p>
<p>reported when the probe attempts to translate a virtual address, as determined by the</p>
<p><b>mmu_support</b> configuration option.</p>
<p>•</p>
<p>off</p>
<p>— When a TLB miss occurs, the address is treated as a physical address.</p>
<p>The default setting is</p>
<p>off</p>
<p>.</p>
<p><i>153</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>use_cache_scratch</b></p>
<p>For PowerPC 4xx cores only.</p>
<p>Specifies whether a cache line or RAM is used as scratch memory when reading FPU registers.</p>
<p><b>set use_cache_scratch</b> on | off</p>
<p>Where:</p>
<p>•</p>
<p>on</p>
<p>— Configures the probe to use a cache line for scratch memory.</p>
<p>•</p>
<p>off</p>
<p>— Configures the probe to use RAM for scratch memory.</p>
<p>The default setting is</p>
<p>on</p>
<p>.</p>
<p><b>user_immr</b></p>
<p>For PowerPC 82xx cores only. (This option only needs to be set if you plan to access the PCI</p>
<p>registers.)</p>
<p>Specifies the IMMR value used by the probe to read IMMR-based registers during a debugging</p>
<p>session.</p>
<p>After reset, the probe sets the IMMR to<b> immr_base</b>, but does not use<b> immr_base</b> to access</p>
<p>IMMR-based registers. The target might be running code that changes the IMMR.<b> user_immr</b></p>
<p>should be set to match the target IMMR value, rather than the<b> immr_base</b> value, if the probe</p>
<p>is used to debug the target after IMMR-changing code is run.</p>
<p>To set the value of<b> user_immr</b>, enter the command:</p>
<p><b>set user_immr<i></b> address</i></p>
<p>The default value of<b> user_immr</b> is</p>
<p>0x04700000</p>
<p>.</p>
<p><b>Notes Regarding Other PowerPC Configuration Options</b></p>
<p>The following additional notes concern PowerPC configuration options that are</p>
<p>described in “Target-Specific Configuration Options” on page 92.</p>
<p>•</p>
<p>When debugging a PowerPC 8260 target, you must properly set the<b> immr_base</b></p>
<p>configuration option to the base address of the internal memory-mapped</p>
<p>registers upon reset. The default address is 0. To change the<b> immr_base</b> setting,</p>
<p>enter the command:</p>
<p><b>set immr_base<i></b> address</i></p>
<p>•</p>
<p>The recommended setting for the<b> fast_dl</b> (fast downloading) configuration</p>
<p>option (for Power PC 603ev, 7xx, 74xx, and 82xx targets) is</p>
<p>on</p>
<p>. Enabling fast</p>
<p>downloading provides a dramatic improvement to download speed on some</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>154</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>targets, and also causes the probe to perform a rapid cache invalidation after</p>
<p>the download. If the<b> fast_dl</b> setting is</p>
<p>off</p>
<p>, the probe uses a slower method to</p>
<p>invalidate the L1 instruction cache and the L2 cache, which can take longer</p>
<p>than 15 seconds. This might cause MULTI to time out and ask if you want to</p>
<p>terminate. If MULTI does time out, do not choose to terminate. Instead, give</p>
<p>the probe more time to finish the cache invalidation.</p>
<p>If your target is running slowly, or you are getting timeouts during or</p>
<p>immediately after downloads, verify that<b> fast_dl</b> is enabled. To verify that</p>
<p>enabling<b> fast_dl</b> is reliable on your system, run the<b> vm</b> test (see “Green Hills</p>
<p>Debug Probe Commands” on page 174 for a description of the syntax for the</p>
<p><b>vm</b> command).</p>
<p><i>155</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SH</b></p>
<p>Unless otherwise specified, the following configuration options are available for</p>
<p>the targets specified by the SH device names (see “Specifying Your Target”</p>
<p>on page 76 for information about specifying the target device name with the<b> set</b></p>
<p><b>target</b> command).</p>
<p><b>step_ints</b></p>
<p>Sets single-stepping behavior when interrupts are enabled.</p>
<p>When this option is turned off, interrupts are disabled on the target during a single-step. When</p>
<p>this option is turned on, interrupts are left alone so a single-step can go to an interrupt handler</p>
<p>instead of the next instruction.</p>
<p>This option defaults to</p>
<p>off</p>
<p>.</p>
<p>To turn<b> step_ints</b> on or off, enter the command:</p>
<p><b>set step_ints</b> on | off</p>
<p><b>V800</b></p>
<p>There are no target-specific configuration options for V800 targets.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>156</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>x86</b></p>
<p>The following configuration options are available for the targets specified by the</p>
<p>x86 device names (see “Specifying Your Target” on page 76 for information about</p>
<p>specifying the target device name with the<b> set target</b> command).</p>
<p><b>enable_debug</b></p>
<p>Specifies how debug exceptions are handled. Changes to this option will take effect the next</p>
<p>time the probe resumes the target.</p>
<p><b>set enable_debug</b> on | off | auto</p>
<p>•</p>
<p>on</p>
<p>— [default] Debug exceptions are handled by the probe. This setting is recommended</p>
<p>for standard debug operation (that is, for freeze-mode debugging only).</p>
<p>•</p>
<p>off</p>
<p>— Debug exceptions are handled by the code in the processor's debug exception</p>
<p>handler. This setting is recommended if the target is running an operating system with</p>
<p>debug features, such as INTEGRITY and if you are doing most of your debugging using</p>
<p>a run-mode debug agent, and the probe is primarily used to download and run code, not to</p>
<p>debug it. While this setting is enabled, you cannot set any freeze-mode breakpoints except</p>
<p>software breakpoints on Sandy Bridge processors.</p>
<p>•</p>
<p>auto</p>
<p>— Debug exceptions are handled by the probe or by the code in the processor's debug</p>
<p>exception handler, as appropriate.</p>
<p>The presence or absence of freeze-mode breakpoints determines how exceptions are handled.</p>
<p>If present, debug exceptions are handled by the probe. If absent, debug exceptions are</p>
<p>handled by the code in the processor's debug exception handler.</p>
<p>On Sandy Bridge, only hardware breakpoints determine how exceptions are handled,</p>
<p>meaning that you can set freeze-mode software breakpoints without affecting run-mode</p>
<p>debug functionality.</p>
<p>The manner in which exceptions are handled may change when:</p>
<p>○</p>
<p>a freeze-mode breakpoint is set</p>
<p>○</p>
<p>all freeze-mode breakpoints are removed</p>
<p>This setting allows for easier transitions between run-mode and freeze-mode debugging.</p>
<p><b>scratch_addr</b></p>
<p>Specifies where the probe can find 128 bytes of scratch memory. This memory is backed up</p>
<p>before and restored after use, so it can be shared with the running program. This memory is</p>
<p>only used to access floating point registers.</p>
<p><b>set scratch_addr<i></b> address</i></p>
<p>Where</p>
<p><i>address</i></p>
<p>is a 32-bit, 16-byte aligned address that points to usable RAM. If<i> address</i> is</p>
<p>set to</p>
<p>0</p>
<p>, the probe does not attempt to access floating-point registers.</p>
<p><i>157</i></p>
<p><i>Green Hills Software</i></p>
<p><i>x86</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>skip_smm</b></p>
<p>Allows you to skip System Management Mode (SMM). In SMM, the target cannot access the</p>
<p>full register set and has other reduced functionality which may cause unpredictable behavior.</p>
<p><b>set skip_smm</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— If the target is halted in SMM, the probe resumes the target so that it halts as soon</p>
<p>as it has exited SMM. If it does not exit SMM, there is an error.</p>
<p>•</p>
<p>off</p>
<p>— Does not attempt to skip SMM.</p>
<p><b>use_gtl</b></p>
<p>Specifies whether the probe enables the GTL drivers on a GTL-capable adapter or bypasses</p>
<p>them to use the native CMOS-style drivers. When the GTL drivers are enabled, the<b> logic_high</b></p>
<p>option is not available.</p>
<p><b>set use_gtl</b> on | off</p>
<p>•</p>
<p>on</p>
<p>— Instructs the probe to enable GTL drivers.</p>
<p>•</p>
<p>off</p>
<p>— Instructs the probe to disable the GTL drivers and allows the<b> logic_high</b> option to</p>
<p>be set.</p>
<p>This option is specific to GTL-capable TE adapters.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>158</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>XScale</b></p>
<p>The following configuration options are available for the targets specified by the</p>
<p>XScale device names (see “Specifying Your Target” on page 76 for information</p>
<p>about specifying the target device name with the<b> set target</b> command).</p>
<p><b>auto_vector_reload</b></p>
<p>Sets the probe policy for automatically reloading vectors on vector traps.</p>
<p>On XScale targets the probe must verify that the target's exception vector opcodes are the same</p>
<p>as those stored in the mini-I-cache for debugging, or else exceptions cannot execute correctly.</p>
<p>Enter the command:</p>
<p><b>set auto_vector_load</b> off | once | always</p>
<p>to specify the policy for reloading vectors where the settings specify the following behavior:</p>
<p>•</p>
<p>off</p>
<p>— Disables automatic reloading of vectors on vector traps.</p>
<p>•</p>
<p>once</p>
<p>— Causes the probe to trap the first exception taken after reset (regardless of the</p>
<p><b>catch_<i>exception</b></i> settings), reload the exception vectors, and depending on the value of the</p>
<p><b>catch_<i>exception</b></i> setting corresponding to the exception taken, either transparently resume</p>
<p>the target or remain halted at the exception vector. Subsequent exceptions are only trapped</p>
<p>if the corresponding<b> catch_<i>exception</b></i> setting is turned on.</p>
<p>•</p>
<p>always</p>
<p>— Causes all exceptions to be caught and the vectors reloaded. If the corresponding</p>
<p><b>catch_<i>exception</b></i> setting for an exception is not enabled, the probe transparently resumes</p>
<p>the target.</p>
<p>Normally, the<b> always</b> setting should not be enabled because it lengthens the service time</p>
<p>for all exceptions (by as much as several milliseconds).</p>
<p>The default<b> auto_vector_reload</b> setting is</p>
<p>once</p>
<p>, which works for most probe-unaware programs.</p>
<p><i>159</i></p>
<p><i>Green Hills Software</i></p>
<p><i>XScale</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>catch_<i>exception</b></i></p>
<p>Determines whether or not to halt the core before executing the first instruction of the exception</p>
<p>handler for<i> exception</i>. The following values for<i> exception</i> apply to XScale:</p>
<p>•</p>
<p>abort</p>
<p>— Data Abort</p>
<p>•</p>
<p>fiq</p>
<p>— FIQ</p>
<p>•</p>
<p>irq</p>
<p>— IRQ</p>
<p>•</p>
<p>prefetch</p>
<p>— Prefetch Abort</p>
<p>•</p>
<p>reset</p>
<p>— Reset</p>
<p>•</p>
<p>swi</p>
<p>— Software Interrupt (SWI)</p>
<p>•</p>
<p>undef</p>
<p>— Undefined Instruction</p>
<p>The default setting for all<b> catch_<i>exception</b></i> options is</p>
<p>off</p>
<p>.</p>
<p>To turn abort checking on or off, enter the command:</p>
<p><b>set catch_<i>exception</b></i> on | off</p>
<p>•</p>
<p>on</p>
<p>— Sets up the debug logic so the core halts before executing the first instruction of the</p>
<p>exception handler.</p>
<p>•</p>
<p>off</p>
<p>— The probe does not enable the trap logic, and exceptions execute normally.</p>
<p>For<b> catch_reset</b>, the probe still sets</p>
<p>DCSR.TR</p>
<p>to maintain debug control across a reset</p>
<p>exception, but transparently resumes the core from trapped reset exceptions.</p>
<p>For example:</p>
<p><b>set catch_abort</b> on</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>160</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>early_reset_release</b></p>
<p>Only for targets specified by the</p>
<p>xscale</p>
<p>target device name.</p>
<p>Controls how the NSRST line is used when the probe first takes control of an XScale core.</p>
<p>When the probe target is set to the generic</p>
<p>xscale</p>
<p>type,<b> early_reset_release</b> configures whether</p>
<p>or not the probe releases the NSRST line before loading the mini-I-cache. If you have configured</p>
<p>the probe for a specific type of XScale processor (setting the device type to</p>
<p>i80200</p>
<p>, for instance,</p>
<p>rather than using the generic</p>
<p>xscale</p>
<p>parameter), the probe automatically uses the NSRST line</p>
<p>correctly for the specified XScale processor, and the<b> early_reset_release</b> configuration option</p>
<p>is hidden.</p>
<p>To specify the NSRST behavior, enter the command:</p>
<p><b>set early_reset_release</b> off | on</p>
<p>where the settings have the following effects:</p>
<p>•</p>
<p>off</p>
<p>— Causes the probe to release the NSRST line before loading the mini-I-cache, relying</p>
<p>on the</p>
<p>DCSR.HLD_RST</p>
<p>bit to keep the processor in reset</p>
<p>•</p>
<p>on</p>
<p>— Causes the processor to keep the NSRST line asserted while loading the mini-I-cache.</p>
<p>The</p>
<p>off</p>
<p>setting is correct according to the Intel XScale debug specification, but does not work</p>
<p>for the i80321 (IOP321) processor. The</p>
<p>on</p>
<p>setting works for the i80321 (IOP321), but does not</p>
<p>work on the PXA210 or PXA250 processors. The i80200 processor seems to work equally well</p>
<p>with either setting. If the<b> tr</b> command returns an error, changing this setting might help.</p>
<p>The option defaults to</p>
<p>on</p>
<p>.</p>
<p><b>handler_base</b></p>
<p>Specifies the base address of the debug handler used to facilitate debugging of the XScale.</p>
<p>The Probe requires a small section of memory on the target (approximately 2-KB in size and</p>
<p>aligned on a 2-KB boundary). The starting address of this section is specified by the</p>
<p><b>handler_base</b> setting. This address can be anywhere within the first 32-MB of memory that</p>
<p>does not overlap with any addresses used by the code or data of your application or any other</p>
<p>devices on the target, such as flash ROM or memory-mapped I/O devices. This address is actually</p>
<p>locked in the XScale mini instruction cache. It can and must be mapped to an address that does</p>
<p>not map to real memory or devices.</p>
<p>The default<b> handler_base</b> setting is</p>
<p>0x5000</p>
<p>.</p>
<p>To specify a different address, enter the command:</p>
<p><b>set handler_base<i></b> address</i></p>
<p><i>161</i></p>
<p><i>Green Hills Software</i></p>
<p><i>XScale</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>read_after_write_mem</b></p>
<p>You can set this option to<b> on</b> to read back memory after it has been written for XScale cores.</p>
<p>This fixes cache errata on some XScale processors, but might also lead to unpredictable behavior</p>
<p>when writing to write-only memory.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set read_after_write_mem</b> [ on | off ]</p>
<p><b>override_mmu</b></p>
<p>Set this option to bypass the permissions set in the MMU, and access all memory with</p>
<p>administrator privileges while debugging.<b> override_mmu</b> enables reading and writing protected</p>
<p>memory, and setting software breakpoints in protected memory.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set override_mmu</b> [ on | off ]</p>
<p><b>override_mpu</b></p>
<p>Set this option to bypass the permissions set in the MPU, and access all memory with full</p>
<p>read/write access while debugging.<b> override_mpu</b> enables reading and writing protected</p>
<p>memory, and setting software breakpoints in protected memory.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set override_mpu</b> [ on | off ]</p>
<p><b>use_new_memwrite</b></p>
<p>This option specifies whether or not the probe uses a memory write algorithm that is compatible</p>
<p>with the PXA320 processor.</p>
<p>To enable or disable this option, use the following syntax:</p>
<p><b>set use_new_memwrite</b> [ on | off ]</p>
<p>•</p>
<p>on</p>
<p>— Use a new memory write algorithm that communicates with the debug handler in a</p>
<p>way that is not affected by errata 5.7 to the PXA320 processor. Use this setting if your</p>
<p>target is a PXA320.</p>
<p>•</p>
<p>off</p>
<p>— [default] Use an older memory write algorithm. This algorithm violates errata 5.7</p>
<p>to the PXA320 processor, which places restrictions on how the probe can communicate</p>
<p>with the debug server.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>162</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Target-Specific Trace Options</b></p>
<p>This section describes the target-specific trace configuration options available in</p>
<p>the MULTI IDE. For information about generic trace options, see the<i> MULTI:</i></p>
<p><i>Debugging</i> book.</p>
<p><b>Note</b></p>
<p>If you manually configure your target's trace options and their values</p>
<p>change each time you download your program, check your setup script</p>
<p>to see if it sets the option while configuring your target. If this is the case,</p>
<p>update the setup script to use the correct option.</p>
<p><b>ARM ETM and PTM Target-Specific Options</b></p>
<p>Each option is described in the following table. For more detailed information about</p>
<p>these options, refer to the ETM specification from ARM.</p>
<p><i>163</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target-Specific Trace Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Port Mode</b></p>
<p>Selects the ETM clocking mode used on the target system.</p>
<p>There are three choices for ETMv1.x and ETMv2.x targets:</p>
<p>•</p>
<p><b>Normal</b> — Most targets only support this mode.</p>
<p>•</p>
<p><b>Multiplexed</b> — Uses half as many pins to output trace information, but twice the clock</p>
<p>rate.</p>
<p>•</p>
<p><b>Demultiplexed</b> — Uses twice as many pins and half the clock rate. This mode typically</p>
<p>requires a special adapter with dual Mictor connectors.</p>
<p><b>Multiplexed</b> and<b> Demultiplexed</b> modes were eliminated with ETMv3.x. However, many</p>
<p>ETMv3.x targets support several ETM clock multipliers relative to the processor core clock.</p>
<p>All of the ETMv3.x clocking modes are listed below. Note that the ratios are of ETM data rate</p>
<p>to core clock speed. The ETM data rate is twice the ETM clock speed because ETMv3.x always</p>
<p>outputs data on both clock edges.</p>
<p>•</p>
<p><b>2:1</b></p>
<p>•</p>
<p><b>1:1</b></p>
<p>•</p>
<p><b>1:2</b></p>
<p>•</p>
<p><b>1:3</b></p>
<p>•</p>
<p><b>1:4</b></p>
<p>•</p>
<p><b>Implementation Defined</b></p>
<p>•</p>
<p><b>Dynamic</b></p>
<p><b>Port Size/CoreSight Port Size</b></p>
<p>Selects the ETM port size. This corresponds to the number of bits that will be drained from the</p>
<p>ETM FIFO each cycle. Larger port sizes mean that more data can be generated without causing</p>
<p>an overflow. It is generally desirable to use the largest port size supported by the target system.</p>
<p>For CoreSight targets, this option displays as<b> CoreSight Port Size</b>.</p>
<p><b>Data Capture</b></p>
<p>Selects the data access information that will be traced. The ETM can either trace data access</p>
<p>addresses and values, addresses only, or values only.</p>
<p><b>Note</b>: To reduce the number of ETM FIFO overflows in your trace data, you can set this option</p>
<p>to<b> Address Only</b>. However, this setting reduces the effectiveness of TimeMachine by preventing</p>
<p>reconstruction of register and memory values. For more information, see the documentation</p>
<p>about incomplete trace data in the<i> MULTI: Debugging</i> book.</p>
<p><b>Data Only Trace</b></p>
<p>Enables data only mode for ETMv3.0 and greater. In this mode, the target traces data accesses</p>
<p>only and does not output PC information.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>164</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Cycle Accurate</b></p>
<p>Enables ETM cycle-accurate mode. For ETMv1.x and ETMv2.x targets, the ETM normally</p>
<p>outputs one trace packet every cycle when trace is enabled. Often many of these packets contain</p>
<p>no useful information and can be discarded by the trace collection device. When this option is</p>
<p>enabled on those targets, no packets will be discarded. For ETMv3.x targets, this option enables</p>
<p>cycle-accurate mode in the ETM, which then outputs cycle count data. This allows the trace</p>
<p>tools to determine the number of cycles spent executing each instruction, but requires extra</p>
<p>space in the trace buffer.</p>
<p><b>Note</b>: For ETMv1.x and ETMv2.x targets, the ETM continues to output trace packets even when</p>
<p>the processor is stopped at a breakpoint. Therefore it is generally not a good idea to enable<b> Cycle</b></p>
<p><b>Accurate</b> mode if you will be hitting breakpoints while collecting trace data from an ETMv1.x</p>
<p>or ETMv2.x target.</p>
<p><b>Break On Trigger</b></p>
<p>Enables halting of the target processor when the trigger event occurs. There is some slip between</p>
<p>when the trigger occurs and where the target halts. For more information about configuring a</p>
<p>trigger event, see the documentation about configuring trace collection in the<i> MULTI: Debugging</i></p>
<p>book.</p>
<p>This option does not support external triggers.</p>
<p><b>Trace Coprocessor Registers</b></p>
<p>Enables tracing of values read from and written to coprocessor registers.</p>
<p><b>Filter Trace of Coprocessor Registers</b></p>
<p>Enables ETM trace filtering of coprocessor register accesses. For more information about trace</p>
<p>filtering, see the documentation about configuring trace collection in the<i> MULTI: Debugging</i></p>
<p>book.</p>
<p>This option is only available when the<b> Trace Coprocessor Registers</b> option is enabled.</p>
<p><b>Half Rate Clocking</b></p>
<p>Enables ETM half rate clocking mode. In this mode trace packets are output on both the rising</p>
<p>and falling edges of the trace clock. This allows the trace clock to run at half the speed of the</p>
<p>core clock.</p>
<p><b>Note</b>: Some targets do not support half rate clocking and some targets only support half rate</p>
<p>clocking. If your target only supports one clocking mode, the<b> Half Rate Clocking</b> option is</p>
<p>disabled and the appropriate clocking mode is selected automatically.</p>
<p><b>Note</b>: This option is not available with ETMv3.x targets because trace data is always output on</p>
<p>both clock edges with ETMv3.x.</p>
<p><b>Timestamps</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace collection device records a</p>
<p>timestamp with each packet. Timestamps are displayed in the Trace List and are used by the</p>
<p>MULTI<b> Profile</b> window, PathAnalyzer, and EventAnalyzer.</p>
<p><i>165</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM ETM and PTM Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Overflow Threshold</b></p>
<p>Some ETM targets can stall the CPU or suppress data trace to prevent a FIFO overflow when</p>
<p>the ETM FIFO is close to full. This option specifies the number of bytes remaining in the FIFO</p>
<p>when that action will be done. Setting this option to</p>
<p>0</p>
<p>disables overflow prevention.</p>
<p>When using this option with<b> Prevent Overflow by Stalling CPU</b>, setting a value greater than</p>
<p>or equal to the size of your FIFO may cause errors when running or single-stepping (because</p>
<p>the CPU is constantly stalled). FIFO sizes are implementation defined, but are often around 16</p>
<p>to 32 bytes.</p>
<p>For more information, see the<b> Prevent Overflow by</b> option.</p>
<p><b>Prevent Overflow by</b></p>
<p>Enables the ETM</p>
<p>FIFOFull</p>
<p>mechanism. The amount of data output by the ETM varies</p>
<p>depending on the code being executed and the trace configuration. Code with a large number</p>
<p>of indirect branches and data accesses (if data trace is enabled) may generate so much data that</p>
<p>the ETM FIFO overflows. Trace data is lost when this happens. If this option is enabled, the</p>
<p>ETM attempts to prevent FIFO overflows by using the selected method:</p>
<p>•</p>
<p><b>Stalling CPU</b> — Attempts to stall the target processor when the FIFO is close to</p>
<p>overflowing. This slows execution of code on the target, but can be very helpful in reducing</p>
<p>the number of gaps in the trace data.</p>
<p>•</p>
<p><b>Suppressing Data Trace</b> — Suppresses data trace when the FIFO is close to overflowing.</p>
<p>This method is only available with ETMv3.x targets. Suppressing data trace is less effective</p>
<p>at preventing the FIFO from overflowing than stalling the CPU, but has no impact on the</p>
<p>speed of execution.</p>
<p>To configure the overflow threshold, see the<b> Overflow Threshold</b> option.</p>
<p>For more information, see the documentation about incomplete trace data in the<i> MULTI:</i></p>
<p><i>Debugging</i> book.</p>
<p><b>Note</b>: The ETM</p>
<p>FIFOFull</p>
<p>mechanism is not supported by some targets.</p>
<p><b>Use Embedded Trace Buffer</b></p>
<p>Enables use of the Embedded Trace Buffer (ETB). This option may only be changed if you use</p>
<p>a SuperTrace Probe to connect to a target that has an ETB. If you use a Green Hills Probe to</p>
<p>connect to a target with an ETB, the ETB is the only method available for collecting trace.</p>
<p><b>ASIC Control</b></p>
<p>Provides a value for the optional ETM ASIC Control register. This register is implemented by</p>
<p>some ASICs and allows configuration of ASIC-specific features.</p>
<p><b>CoreSight Source ID</b></p>
<p>The CoreSight trace source ID of the ETM. Each CoreSight trace source on a system must have</p>
<p>a unique ID between</p>
<p>0x1</p>
<p>and</p>
<p>0x6f</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>166</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Infer Branch Target</b></p>
<p>Controls the circumstances in which the target emits a branch's target address instead of requiring</p>
<p>the decompressor to infer the address. Trace data is more compact when the decompressor infers</p>
<p>more branch targets, while the decompressor is more resilient to errors in the collected trace</p>
<p>data when fewer branches must be inferred. There are three choices:</p>
<p>•</p>
<p>Never</p>
<p>— The PTM emits the target address for all branches, and the decompressor never</p>
<p>needs to infer the target.</p>
<p>•</p>
<p>Direct Branches</p>
<p>— The PTM does not emit the target address for direct branches; the</p>
<p>decompressor must infer them instead.</p>
<p>•</p>
<p>Direct Branches and Return Addresses</p>
<p>— The PTM does not emit the target</p>
<p>address for direct branches or for some indirect branches that return from a function; the</p>
<p>decompressor must infer them instead. Use this option if you are uncertain which option</p>
<p>is most appropriate.</p>
<p><b>Trace Enable (core n)</b></p>
<p>Enables or disables trace collection on an individual core in the system. This option determines</p>
<p>the cores for which trace data is collected when<b> Enable Trace</b> is turned on.</p>
<p><b>ColdFire Target-Specific Options</b></p>
<p>Each option is described in the following table.</p>
<p><b>Cycle Accurate</b></p>
<p>Enables cycle-accurate mode. Often many trace packets contain no useful information and can</p>
<p>be discarded by the trace collection device. When this option is enabled, no packets will be</p>
<p>discarded. This allows the trace tools to determine the number of cycles spent executing each</p>
<p>instruction, but requires extra space in the trace buffer.</p>
<p><b>Data Capture</b></p>
<p>Selects the data access information that will be traced:</p>
<p>•</p>
<p><b>No Data Values (PC Trace Only)</b></p>
<p>•</p>
<p><b>Reads Only</b></p>
<p>•</p>
<p><b>Writes Only</b></p>
<p>•</p>
<p><b>Reads and Writes</b></p>
<p><b>INTEGRITY Interrupts at Address</b></p>
<p>Specifies the address that the interrupt vectors are copied to. For most ColdFire cores, this option</p>
<p>should be set to</p>
<p>0x0</p>
<p>.</p>
<p><i>167</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>INTEGRITY Interrupts at Other Location</b></p>
<p>Enable this option if you are tracing INTEGRITY and the BSP copies the interrupt handlers to</p>
<p>a different address than the</p>
<p>.vector</p>
<p>section is mapped to.</p>
<p><b>Timestamps</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace collection device records a</p>
<p>timestamp with each packet. Timestamps are displayed in the Trace List and are used by the</p>
<p>MULTI<b> Profile</b> window, PathAnalyzer, and EventAnalyzer.</p>
<p><b>Nexus e200 Target-Specific Options</b></p>
<p>Each option is described in the following table.</p>
<p><b>MDO Data Port Width</b></p>
<p>Selects the number of pins used to output trace data. Some targets support multiple MDO data</p>
<p>port widths. Using a larger port width reduces the chance of a processor stall and/or FIFO</p>
<p>overflow. We recommend using the largest port width that your target supports. If you specify</p>
<p>an unsupported port width, you may get invalid trace data.</p>
<p><b>Trace Clock Multiplier</b></p>
<p>Specifies the divisor for the trace clock. Not all targets support all divisors listed. In general, a</p>
<p>faster trace collect (smaller divisor) allows for more data to be collected and results in fewer</p>
<p>FIFO overflows. If you specify a divisor that your target does not support, you may get invalid</p>
<p>trace data.</p>
<p><b>Stall Processor to Avoid Overflows</b></p>
<p>Enables processor stalling to prevent FIFO overflows. The amount of trace data output by the</p>
<p>target varies depending on the code being executed and the trace configuration. Code with a</p>
<p>large number of indirect branches and data accesses (if data trace is enabled) may generate so</p>
<p>much data that the FIFO overflows. Trace data is lost when this happens. If this option is enabled,</p>
<p>the processor stalls when the FIFO starts to fill. This is very effective at preventing FIFO</p>
<p>overflows, but does not prevent all overflows. For more information, see the documentation</p>
<p>about incomplete trace data in the<i> MULTI: Debugging</i> book.</p>
<p><b>Note</b>: OS-awareness in TimeMachine requires specific parts of OS execution to be reconstructed.</p>
<p>If kernel trace data is lost due to FIFO overflows, MULTI may discard trace data for some tasks.</p>
<p>In this case, enabling<b> Stall Processor to Avoid Overflows</b> may improve OS-awareness.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>168</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Use Branch History Messages</b></p>
<p>Enables branch history messaging. Most Nexus targets are capable of generating 2 different</p>
<p>types of Nexus program trace messages. Traditional Nexus program trace messages are generated</p>
<p>each time a branch is taken (direct or indirect). Branch history messaging only generates a</p>
<p>message when 31 direct branch instructions have been executed (taken or not) or when an</p>
<p>indirect branch is taken.</p>
<p>Advantages of Branch History Messages:</p>
<p>•</p>
<p>More compact trace data</p>
<p>○</p>
<p>Less chance of overflow</p>
<p>○</p>
<p>Better utilization of trace buffer space</p>
<p>Disadvantages of Branch History Messages:</p>
<p>•</p>
<p>More likely to have uncorrelated data trace</p>
<p>•</p>
<p>More data is lost as a result of an overflow</p>
<p>○</p>
<p>Less likely that the tools will be able to reconstruct missing instructions</p>
<p>•</p>
<p>Less precise filtering</p>
<p>•</p>
<p>Less accurate timestamps</p>
<p>•</p>
<p>Less precise reporting of trigger locations</p>
<p><b>Note</b>: ARM mode instructions on Nexus ARM targets (MAC71xx) are always traced with</p>
<p>branch history messages.</p>
<p><b>Timestamps</b></p>
<p>This option is only supported with SuperTrace Probe v3.</p>
<p>Enables timestamps. When timestamps are enabled, the trace collection device records a</p>
<p>timestamp with each packet. Timestamps are displayed in the Trace List and are used by the</p>
<p>MULTI<b> Profile</b> window, PathAnalyzer, and EventAnalyzer.</p>
<p><b>Power Architecture QorIQ Nexus Target-Specific Options</b></p>
<p>Each option is described in the following table.</p>
<p><b>Branch and link correlation messages</b></p>
<p>Enables trace messages every time a branch and link occurs. When these messages are enabled,</p>
<p>timestamps are more precise, but trace data is less efficient.</p>
<p><b>CoreNet Trace</b></p>
<p>Enables trace output from the CoreNet peripheral. This trace output appears in the trace list, but</p>
<p>is not processed in any other way.</p>
<p><i>169</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Power Architecture QorIQ Nexus Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Data Path Trace</b></p>
<p>Enables trace output from the Data Path peripheral. This trace output appears in the trace list,</p>
<p>but is not processed in any other way.</p>
<p><b>DDR Trace</b></p>
<p>Enables trace output from the DDR peripheral. This trace output appears in the trace list, but is</p>
<p>not processed in any other way.</p>
<p><b>Enable/Disable program trace with MSR[PMM]</b></p>
<p>When used in conjunction with a mechanism in target software that sets and clears the</p>
<p>MSR[PMM]</p>
<p>bit, this option aids in determining which sections of code are traced. The</p>
<p>MSR[PMM]</p>
<p>bit is the</p>
<p>performance monitor mark bit, used for Nexus to provide execution context filtering.</p>
<p><b>Lite Trace</b></p>
<p>Available for e6500 targets only.</p>
<p>When enabled, the processor uses a link register stack optimization to double trace bandwidth</p>
<p>efficiency, reducing the risk of processor stalls (if enabled) and FIFO overflows.</p>
<p><b>OCeaN Trace</b></p>
<p>Enables trace output from the OCeaN peripheral. This trace output appears in the trace list, but</p>
<p>is not processed in any other way.</p>
<p><b>Stall Processor to Avoid Overflows</b></p>
<p>Enables processor stalling to prevent FIFO overflows. The amount of trace data output by the</p>
<p>target varies depending on the code being executed and the trace configuration. Code with a</p>
<p>large number of indirect branches and data accesses (if data trace is enabled) may generate so</p>
<p>much data that the FIFO overflows. Trace data is lost when this happens. If this option is enabled,</p>
<p>the processor stalls when the FIFO starts to fill. This is very effective at preventing FIFO</p>
<p>overflows, but does not prevent all overflows. For more information, see the documentation</p>
<p>about incomplete trace data in the<i> MULTI: Debugging</i> book.</p>
<p><b>Note</b>: OS-awareness in TimeMachine requires specific parts of OS execution to be reconstructed.</p>
<p>If kernel trace data is lost due to FIFO overflows, MULTI may discard trace data for some tasks.</p>
<p>In this case, enabling<b> Stall Processor to Avoid Overflows</b> may improve OS-awareness.</p>
<p><b>Stall threshold</b></p>
<p>When<b> Stall Processor to Avoid Overflows</b> is enabled, indicates a fraction of trace message</p>
<p>queue capacity at which the processor should stall. Smaller values result in more frequent stalls,</p>
<p>but fewer FIFO overflows.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>170</i></p>
<p><i>Chapter 4. Probe Option Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Timestamps</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace collection device records a</p>
<p>timestamp with each packet. Timestamps are displayed in the Trace List and are used by the</p>
<p>MULTI<b> Profile</b> window, PathAnalyzer, and EventAnalyzer.</p>
<p>QorIQ targets buffer Nexus trace data before sending it out over high-speed serial trace (HSST).</p>
<p>The buffer creates a variation in the time delta between when the packet is emitted by the core</p>
<p>and when it actually sends over HSST. The size of the delta is inversely proportional to the</p>
<p>HSST bandwidth, and varies depending on how full the buffer is. At minimum bandwidth (1</p>
<p>Aurora lane at 2.5 Gpbs), the maximum error is approximately 65 us.</p>
<p><b>Trace core<i> n</b></i></p>
<p>Enables or disables trace collection on an individual core in the system. This option determines</p>
<p>the cores for which trace data is collected when<b> Enable Trace</b> is turned on.</p>
<p><b>PowerPC 405, 440, and 460 Target-Specific Options</b></p>
<p>Each option is described in the following table.</p>
<p><b>Timestamps</b></p>
<p>Enables timestamps. When timestamps are enabled, the trace collection device records a</p>
<p>timestamp with each packet. Timestamps are displayed in the Trace List and are used by the</p>
<p>MULTI<b> Profile</b> window, PathAnalyzer, and EventAnalyzer.</p>
<p><b>Cycle Accurate</b></p>
<p>Enables IBM cycle-accurate mode. Often many trace packets contain no useful information and</p>
<p>can be discarded by the trace collection device. When this option is enabled, no packets will be</p>
<p>discarded. This allows the trace tools to determine the number of cycles spent executing each</p>
<p>instruction, but requires extra space in the trace buffer.</p>
<p><i>171</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC 405, 440, and 460 Target-Specific Options</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5</b></p>
<p><b>Probe Command Reference</b></p>
<p><b>Contents</b></p>
<p>Green Hills Debug Probe Commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>174</p>
<p>Other Green Hills Debug Server Commands . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>218</p>
<p>Green Hills Probe and SuperTrace Probe Terminal Prompts . . . . . . . . . . . . . .</p>
<p>224</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter documents the commands available to the<b> mpserv</b> debug server that</p>
<p>supports Green Hills Probe and SuperTrace Probe target connections. The commands</p>
<p>are divided into the following sections:</p>
<p>•</p>
<p>“Green Hills Debug Probe Commands” on page 174 — Unless otherwise noted,</p>
<p>these commands can be entered:</p>
<p>○</p>
<p>In the MULTI Debugger target pane.</p>
<p>○</p>
<p>In the MULTI Debugger command pane or<b> Command</b> pane, if prefixed</p>
<p>with the<b> target</b> command.</p>
<p>○</p>
<p>In a telnet or serial terminal window. For information about the terminal</p>
<p>window prompt, see “Green Hills Probe and SuperTrace Probe Terminal</p>
<p>Prompts” on page 224.</p>
<p>In addition to these commands,<b> mpserv</b> also supports the Green Hills debug server</p>
<p>scripting language, which is described in “The Green Hills Debug Server Scripting</p>
<p>Language” on page 228.</p>
<p><b>Green Hills Debug Probe Commands</b></p>
<p>In addition to the commands accepted by all Green Hills debug servers (see “Generic</p>
<p>Debug Server Commands” on page 218 for a complete list of these commands), the</p>
<p>Green Hills Debug Probes also accepts additional commands, which are described</p>
<p>in the subsequent listed sections. These additional commands are grouped into the</p>
<p>following nine command action categories:</p>
<p>•</p>
<p>“Configuration Commands” on page 175</p>
<p>•</p>
<p>“Front Panel I/O Pin Commands” on page 179</p>
<p>•</p>
<p>“Group Commands” on page 181</p>
<p>•</p>
<p>“JTAG and SWD Commands” on page 183</p>
<p>•</p>
<p>“System Commands” on page 187</p>
<p>•</p>
<p>“Target Commands” on page 190</p>
<p>○</p>
<p>“Cache, Memory, and TLB Commands” on page 191</p>
<p>○</p>
<p>“Run Control Commands” on page 202</p>
<p>○</p>
<p>“Other Commands” on page 207</p>
<p>•</p>
<p>“Test Commands” on page 212</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>174</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>For an alphabetized list of all of the Green Hills Debug Probe commands,</p>
<p>see the heading<b> commands</b> in the index.</p>
<p>The commands listed in these sections are supported by all Green Hills Debug</p>
<p>Probes unless otherwise noted. The following abbreviations are used to indicate</p>
<p>commands that do not apply to all three devices:</p>
<p>•</p>
<p><b>GHP</b> — Green Hills Probe</p>
<p>•</p>
<p><b>STP</b> — SuperTrace Probe</p>
<p>Unless otherwise noted, the Green Hills Debug Probe commands described in the</p>
<p>sections listed above can be entered:</p>
<p>•</p>
<p>In the MULTI Debugger target pane.</p>
<p>•</p>
<p>In the MULTI Debugger command pane or<b> Command</b> pane, if prefixed with</p>
<p>the<b> target</b> command.</p>
<p>•</p>
<p>In a telnet or serial terminal window. For information about the terminal window</p>
<p>prompt, see “Green Hills Probe and SuperTrace Probe Terminal Prompts”</p>
<p>on page 224.</p>
<p>For information about how to specify numbers when using the commands listed in</p>
<p>the following sections, see “Specifying Numbers with Green Hills Debug Probe</p>
<p>Commands” on page 215.</p>
<p><b>Configuration Commands</b></p>
<p><b>de</b></p>
<p>(Not available from<b> mpserv</b>.)</p>
<p>Detects whether the currently selected core is running in big endian or little endian</p>
<p>mode. If detection is successful, the endianness option is changed accordingly,</p>
<p>but the changes are not stored to non-volatile memory. To save the change to</p>
<p>non-volatile memory, use the<b> save</b> command. This change stays in effect until</p>
<p>the next reboot.</p>
<p><i>175</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Configuration Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Not For</b></p>
<p><b>ARC</b></p>
<p><b>Targets</b></p>
<p><b>detect [-only<i></b> option1</i> [<i>option2...</i>] |<b> -skip<i></b> option1</i> [<i>option2...</i>] ]</p>
<p>(Not available from<b> mpserv</b>.)</p>
<p>Automatically detects several options, including<b> adapter</b>,<b> logic_high</b>,<b> target</b> and</p>
<p><b>endianness</b>. Additional options might be detected depending on the target. To</p>
<p>make these settings persist when rebooting the probe, enter the<b> save</b> command</p>
<p>after detect has finished.</p>
<p>To detect the<b> target</b> option, the probe attempts to read the JTAG IDCODE or</p>
<p>PVR registers from each device in the scan chain, and use those values to identify</p>
<p>each device in the chain. A matching<b> target</b> type is selected for each identified</p>
<p>device, and unidentified devices are grouped together and configured as generic</p>
<p>JTAG devices. Some devices either have a faulty identification register, or have</p>
<p>no identification register, in which case they are configured as generic JTAG</p>
<p>devices (see “Specifying Your Target” on page 76). If detection is successful,</p>
<p>this command displays a table of devices found. If no devices are found, the</p>
<p>command displays an error. Successful detection indicates that low-level debug</p>
<p>connectivity is functional, and an error typically means that there is a low-level</p>
<p>connectivity problem such as no power, an incorrect<b> logic_high</b> value, or a</p>
<p>miswired debug port connection.<b> detect</b> may also fail to identify targets that are</p>
<p>not fully JTAG compliant.</p>
<p>Because multiple processors within the same family sometimes have the same</p>
<p>PVR or IDCODE,<b> detect</b> might not set the target to the exact processor type</p>
<p>connected. For example, MPC8266 targets will be detected as MPC8260 because</p>
<p>the two processors share an identical identification register value.</p>
<p><b>Note:</b> For PowerPC 750 and PowerPC 7445/7455 targets, the<b> target_rev</b> option</p>
<p>must be set to</p>
<p>auto</p>
<p>before using<b> detect</b>.</p>
<p>To detect only a single option, issue the command:</p>
<p>detect -only<i> optionname</i></p>
<p>Some options are not detectable or are not supported as an argument to<b> -only</b>. In</p>
<p>some cases, additional related options may be detected.</p>
<p>To skip detection of a particular option, issue the command (the only options that</p>
<p>may be skipped are<b> adapter</b>,<b> logic_high</b>,<b> power_detect</b>, and<b> use_gtl</b>):</p>
<p>detect -skip<i> optionname</i></p>
<p>Both<b> -only</b> and<b> -skip</b> may be repeated to detect multiple options, or to skip</p>
<p>multiple options. To detect or skip an option on only a single core, prefix the core</p>
<p>number. For example:</p>
<p>detect -only 1:endianness</p>
<p>detects only the<b> endianness</b> option on core 1.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>176</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Not for</b></p>
<p><b>STP with</b></p>
<p><b>Legacy</b></p>
<p><b>Kits</b></p>
<p><b>dlh</b></p>
<p>Detects the voltage on the power sense pin of the adapter, if available. If no power</p>
<p>is detected, no changes will be made. If a voltage is detected within the supported</p>
<p>range, the<b> logic_high</b> setting will be adjusted (to the nearest 0.1 volt), but the</p>
<p>change will not be stored to non-volatile memory. Use the<b> save</b> command to store</p>
<p>the setting in non-volatile memory.</p>
<p><b>restore</b></p>
<p>Restores the current configuration settings from non-volatile memory.</p>
<p><b>save</b></p>
<p>Saves the current configuration settings to non-volatile memory.</p>
<p><b>set</b> [<i>option</i> [<i> value</i> | default ]]</p>
<p>Sets configuration options by name, or displays current option settings.</p>
<p>If no parameters are given, this command displays the values of all options that</p>
<p>are not currently hidden. Some options are hidden under some circumstances.</p>
<p>For example, on ARM targets, setting the<b> use_rtck</b> option to something other</p>
<p>than</p>
<p>off</p>
<p>causes the<b> clock</b> option to become hidden. Do not change the value of</p>
<p>a hidden option.</p>
<p>If only an<i> option</i> is specified, the value of that option is displayed.</p>
<p>If an<i> option</i> and a<i> value</i> are specified, the option is set to the specified value and</p>
<p>saved to non-volatile memory. This command saves all non-volatile options,</p>
<p>including those that have been previously modified with<b> tset</b>.</p>
<p>If an<i> option</i> and the<b> default</b> argument are specified, the option is reset to its</p>
<p>factory default setting.</p>
<p>Examples:</p>
<p>&gt;set</p>
<p>Displays all configuration options.</p>
<p>&gt;set ip</p>
<p>Shows the value of the IP address.</p>
<p>&gt;set netmask 255.255.255.0</p>
<p>Sets the netmask to</p>
<p>255.255.255.0</p>
<p>and stores this setting to non-volatile</p>
<p>memory.</p>
<p>&gt;set rst_settle default</p>
<p>Resets the<b> rst_settle</b> option to its factory default setting.</p>
<p>Green Hills Probe users can use the<b> setup</b> command from a telnet or serial terminal</p>
<p>window to be guided interactively through setting common options (rather than</p>
<p>having to set each option with the<b> set</b> command).</p>
<p><i>177</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Configuration Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>setup</b> [<i> group</i> | reset ]</p>
<p>(Serial or terminal window only. Not available in the MULTI Debugger<b> Target</b></p>
<p>and<b> Command</b> panes.</p>
<p>Interactively guides you through setting the probe configuration options.</p>
<p>If no parameters are given, the interactive utility provides prompts to help you</p>
<p>set the most common options.</p>
<p>If you specify a<i> group</i>, the utility prompts you to set the options in that group.</p>
<p>The configuration groups are:</p>
<p>•</p>
<p>net</p>
<p>(network)</p>
<p>•</p>
<p>trg</p>
<p>(target-specific)</p>
<p>If you pass the<b> reset</b> argument, all of the configuration settings will revert to their</p>
<p>factory defaults.</p>
<p>Examples:</p>
<p>&gt;setup</p>
<p>Launches an interactive utility to configure the default group of common</p>
<p>configuration options. This is the easiest way to configure a new probe out of the</p>
<p>box.</p>
<p>&gt;setup reset</p>
<p>Resets all configuration options to their factory defaults.</p>
<p>This<b> setup</b> command functions differently than the<b> mpserv setup</b> command</p>
<p>described in “Generic Debug Server Commands” on page 218.</p>
<p><b>tracereg<i></b> reg_name</i></p>
<p><b>tracereg<i></b> reg_name</i> =<i> reg_value</i></p>
<p>Reads or writes trace registers to configure trace capture on the probe.</p>
<p><i>reg_name</i></p>
<p>is the name of the register to read or write.</p>
<p><i>reg_value</i></p>
<p>is the value to write to the trace register.</p>
<p><i>reg_name</i> =<i> reg_value</i></p>
<p>instructs the probe to set the contents of the register</p>
<p><i>reg_name</i></p>
<p>to the value specified by</p>
<p><i>reg_value</i></p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>178</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>tset</b> [<i>option</i> [<i>value</i>]]</p>
<p>Temporarily sets configuration options by name, or displays current option</p>
<p>settings.</p>
<p>If no parameters are given, all options and their current values are displayed.</p>
<p>If only an<i> option</i> is specified, the value of that option is displayed.</p>
<p>If an<i> option</i> and a<i> value</i> are specified, the option is set to the specified value, but</p>
<p>is not stored to non-volatile memory. The option setting stays in effect only until</p>
<p>the next reboot, unless you use the<b> save</b> command to save all configuration</p>
<p>changes to non-volatile memory.</p>
<p>Example:</p>
<p>&gt;tset clock 100 kHz</p>
<p>Sets the debug level to 42 until the next reboot.</p>
<p><b>Front Panel I/O Pin Commands</b></p>
<p><b>gpin</b></p>
<p>This command is deprecated. Use<b> iop</b> instead.</p>
<p><b>gpincfg</b> [<i>pin_config</i>]</p>
<p>This command is deprecated. Use<b> iop</b> instead.</p>
<p><i>179</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Front Panel I/O Pin Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>iop</b> [<i>binval</i>]</p>
<p><b>iop</b> [<i>pin</i> [.<i>field</i> [=<i>value</i>]]...]</p>
<p>Sets or displays the present state of the front panel I/O pins. There are three basic</p>
<p>formats for this command:</p>
<p>If no arguments are given,<b> iop</b> displays the current mode and value of each pin.</p>
<p>If a<i> binval</i> argument is given,<b> iop</b> sets the pins to the specified values. The<i> binval</i></p>
<p>argument must be three bits, where each bit corresponds to the setting of a pin</p>
<p>and can be either</p>
<p>1</p>
<p>or</p>
<p>0</p>
<p>. Pin 1 is set to the leftmost bit, pin 2 to the middle bit,</p>
<p>and pin 3 to the rightmost bit. The correspondence of the bits to pins can change</p>
<p>if more front panel pins are added in the future. The number of bits required in</p>
<p>the<i> binval</i> argument corresponds to the number of GPIO pins.</p>
<p>If one or more</p>
<p>[<i>pin</i>][.<i>field</i>][=<i>value</i>]</p>
<p>arguments are specified, the value of</p>
<p>one or more pins or pin fields are displayed or modified, where:</p>
<p>•</p>
<p><i><b>pin</b></i> — Specifies the name of the pin to view or modify, in the form</p>
<p>pin<i>#</i></p>
<p>or</p>
<p>p<i>#</i></p>
<p>. For example, to specify pin 1, you can use either</p>
<p>pin1</p>
<p>or</p>
<p>p1</p>
<p>as the</p>
<p><i>pin</i> argument. If a<i> pin</i> argument is specified without any other arguments,</p>
<p>the current value of the pin is displayed. If a<i> pin</i> argument is specified with</p>
<p>only a<b> =<i>value</b></i> argument, the output value of the pin is set to<i> value</i> (which</p>
<p>must be</p>
<p>1</p>
<p>or</p>
<p>0</p>
<p>in this case).</p>
<p>•</p>
<p><b>.<i>field</b></i> — Indicates a specific pin field to modify or display. (You must use</p>
<p>a<i><b> pin</b></i> argument also if you specify a<i> field</i>. If a<i> pin.field</i> is specified, but no</p>
<p><b>=<i>value</b></i> argument is given, the current setting of the pin field is displayed.</p>
<p>If<b> =<i>value</b></i> is specified with the<i> pin.field</i> argument, the indicated pin field is</p>
<p>set to the new value. Valid fields are listed below, with the possible values</p>
<p>that can be assigned to each.</p>
<p>○</p>
<p><b>value</b> — The pin's output value, which can be set to either</p>
<p>0</p>
<p>or</p>
<p>1</p>
<p>.</p>
<p>○</p>
<p><b>trigger</b> or<b> t</b> — (For pins configured as input pins only; currently not</p>
<p>supported) The input pin's method for triggering the probe, which can</p>
<p>be</p>
<p>n</p>
<p>(never),</p>
<p>f</p>
<p>(falling edge), or</p>
<p>r</p>
<p>(rising edge).</p>
<p>○</p>
<p><b>mode</b> or<b> m</b> — The pin's I/O mode, which can be set to either</p>
<p>o</p>
<p>(a</p>
<p>lowercase letter O, for output mode) or</p>
<p>i</p>
<p>(for input mode).</p>
<p>○</p>
<p><b>drive</b> or<b> d</b> — (For pins configured as output pins only) The pin's driving</p>
<p>mode, which can be set to either</p>
<p>a</p>
<p>(for active) or</p>
<p>g</p>
<p>(for open drain).</p>
<p>If no field is specified, but an<b> =<i>value</b></i> option is given, the pin's output value</p>
<p>is modified.</p>
<p><b>Example 5.1. Using IOP Commands</b></p>
<p>The following are examples of<b> iop</b> usage:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>180</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>&gt;iop 110</p>
<p>— Sets pins 1 and 2 to 1, and sets pin 3 to 0.</p>
<p>&gt;iop pin2</p>
<p>— Displays all the current settings for pin 2.</p>
<p>&gt;iop p2=0</p>
<p>— Sets pin 2 to 0.</p>
<p>&gt;iop pin1.mode=o</p>
<p>— Sets pin 1 to be an output pin.</p>
<p>&gt;iop p1=1 p2.m=o p3.m=o</p>
<p>— Sets pin 1 to 1, and sets pins 2 and 3 to be output</p>
<p>pins.</p>
<p><b>Group Commands</b></p>
<p><b>g</b> [<i>group_id</i>]</p>
<p>Sets the current group (for group-based operations) to the group with ID<i> group_id</i>.</p>
<p>A group ID is returned by the<b> ga</b> command when a new group is added. To see a list of groups</p>
<p>and their IDs, use the<b> gl</b> command.</p>
<p>If<i> group_id</i> is not specified,<b> g</b> displays the current group for group-based operations.</p>
<p><b>ga</b> [<i>type</i>]<i> cores</i></p>
<p>Adds a new synchronous run-control group and returns a group ID for the new group.</p>
<p><i>type</i> optionally specifies the type of run-control group. By default,<i> type</i> is set to</p>
<p>generic</p>
<p>. Only</p>
<p>set this if directed to do so by Green Hills Support.</p>
<p><i>cores</i> specifies one or more core IDs for the new group. For information about specifying<i> cores</i>,</p>
<p>see<b> -force_coreid</b> in “Options for Custom Connection Methods” on page 49.</p>
<p>Example:</p>
<p>&gt;ga 0..2,4</p>
<p>— adds a group of type</p>
<p>generic</p>
<p>using the core IDs 0, 1, 2, and 4.</p>
<p><i>181</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Group Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>gc</b> [<i> cores</i> | g<i>group_id</i> ]</p>
<p>Synchronously continues one or more cores. True synchronous control of cores may not be</p>
<p>available on all targets. If not available, cores will be resumed sequentially.</p>
<p>A group ID is returned by the<b> ga</b> command when a new group is added. To see a list of groups</p>
<p>and their IDs, use the<b> gl</b> command.</p>
<p>If<i> cores</i> is specified, this command synchronously continues a set of cores. For information</p>
<p>about specifying<i> cores</i>, see<b> -force_coreid</b> in “Options for Custom Connection Methods”</p>
<p>on page 49.</p>
<p>If</p>
<p>g<i>group_id</i></p>
<p>is specified, this command continues the synchronous run-control group specified</p>
<p>by<i> group_id</i>.</p>
<p>When used with no arguments,<b> gc</b> synchronously continues the current run-control group.</p>
<p>Examples:</p>
<p>&gt;gc g1</p>
<p>— continues run-control group 1.</p>
<p>&gt;gc 1</p>
<p>— continues core 1.</p>
<p>&gt;gc 0,3..6</p>
<p>— continues cores 0, 3, 4, 5 and 6.</p>
<p><b>gd<i></b> group_id</i> |<i> type cores</i></p>
<p>Deletes the specified synchronous run-control group.</p>
<p>If<i> group_id</i> is specified, this command deletes group with this ID. For a list of group IDs, use</p>
<p>the<b> gl</b> command.</p>
<p>If<i> type</i> is specified, this command deletes any run-control groups in the system of the same<i> type</i></p>
<p>that overlap with the provided<i> cores</i>.</p>
<p><i>cores</i> is the core list to use with<i> type</i>. For information about specifying<i> cores</i>, see<b> -force_coreid</b></p>
<p>in “Options for Custom Connection Methods” on page 49.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>182</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>gh</b> [<i> cores</i> | g<i>group_id</i> ]</p>
<p>Synchronously halts one or more cores. True synchronous control of cores may not be available</p>
<p>on all targets. If not available, cores will be halted sequentially.</p>
<p>A group ID is returned by the<b> ga</b> command when a new group is added. To see a list of groups</p>
<p>and their IDs, use the<b> gl</b> command.</p>
<p>If<i> cores</i> is specified, this command synchronously halts a set of cores. For information about</p>
<p>specifying<i> cores</i>, see<b> -force_coreid</b> in “Options for Custom Connection Methods” on page 49.</p>
<p>If</p>
<p>g<i>group_id</i></p>
<p>is specified, this command halts the synchronous run-control group specified by</p>
<p><i>group_id</i>.</p>
<p>When used without arguments, this command synchronously halts the current run-control group.</p>
<p>Examples:</p>
<p>&gt;gh g1</p>
<p>— halts run-control group 1.</p>
<p>&gt;gh 1</p>
<p>— halts core 1.</p>
<p>&gt;gh 0,3..6</p>
<p>— halts cores 0, 3 ,4, 5 and 6.</p>
<p><b>gl</b></p>
<p>Displays all configured run-control groups, listing the group number, group type and cores in</p>
<p>this group.</p>
<p><b>JTAG and SWD Commands</b></p>
<p><b>JTAG only</b></p>
<p><b>jd<i></b> bits</i> [ b | l ]<i> data</i> [<i>rti</i>]</p>
<p>Performs a JTAG data scan. The state of the target CPU's internal JTAG state</p>
<p>machine is moved to the</p>
<p>Shift-DR</p>
<p>state, and then<i> bits</i> of<i> data</i> are scanned in.</p>
<p>The CPU's JTAG state machine is moved back to</p>
<p>Select-DR-Scan</p>
<p>after</p>
<p>spending<i> rti</i> cycles in</p>
<p>Run-Test/Idle</p>
<p>. (The default value for</p>
<p>rti</p>
<p>is 0.) The</p>
<p>contents of the data register are read as the data is shifted in and is printed in</p>
<p>hexadecimal format.</p>
<p>The optional arguments</p>
<p>b</p>
<p>and</p>
<p>l</p>
<p>specify that data scanning starts with the most</p>
<p>or least significant bit.</p>
<p>This command prints the bits scanned out from the target in hexadecimal.</p>
<p><i>183</i></p>
<p><i>Green Hills Software</i></p>
<p><i>JTAG and SWD Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>JTAG only</b></p>
<p><b>ji<i></b> instruction</i> [<i>rti</i>]</p>
<p>Performs a JTAG instruction scan. The CPU's internal JTAG state machine is</p>
<p>moved to the</p>
<p>Shift-IR</p>
<p>state, and then the least significant bits of<i> instruction</i></p>
<p>are shifted in. The JTAG state machine is moved back to</p>
<p>Select-DR-Scan</p>
<p>after</p>
<p>spending<i> rti</i> cycles in</p>
<p>Run-Test/Idle</p>
<p>. (The default value for<i> rti</i> is 0.)</p>
<p>The value printed and returned from this command is the contents of the</p>
<p>instruction register as shifted out during the</p>
<p>Shift-IR</p>
<p>state.</p>
<p>Example:</p>
<p>&gt;ji 0xff</p>
<p>Shifts in bypass instruction for PowerPC 8260 and 8240 targets.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>184</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>JTAG only</b></p>
<p><b>jp</b> [ on | off ]</p>
<p><b>jp<i></b> pin_name</i> mode=<i>pin_mode</i></p>
<p><b>jp<i></b> pin_name</i> [mode=<i>pin_mode</i>]<i> level</i></p>
<p>Displays and controls JTAG pins. If no arguments are specified, all pins and their</p>
<p>current status are displayed. Specifying</p>
<p>on</p>
<p>or</p>
<p>off</p>
<p>enables or disables (tristates)</p>
<p>all interface pins. The<b> User</b> button emulates<b> jp on</b> and<b> jp off</b>. When the interface</p>
<p>pins are disabled, you can safely connect a different target board to the probe.</p>
<p>Specifying a<i> pin_name</i> together with a<i> level</i> of</p>
<p>1</p>
<p>or</p>
<p>0</p>
<p>drives individual pins high</p>
<p>or low to test for shorts, or forces unspecified pins to a board-specific value.</p>
<p>Specifying a<i> pin_mode</i>, for adapters that support it, changes the drive mode for</p>
<p>the pin. Valid modes are:</p>
<p>•</p>
<p>1|0</p>
<p>— active drive</p>
<p>•</p>
<p>Z|0</p>
<p>— open-collector</p>
<p>•</p>
<p>1|Z</p>
<p>— open-emitter</p>
<p>•</p>
<p>Z|Z</p>
<p>— disabled</p>
<p>•</p>
<p>LOW</p>
<p>— always low</p>
<p>•</p>
<p>HIGH</p>
<p>— always high</p>
<p>•</p>
<p>default</p>
<p>— reverts to the pin's default drive mode</p>
<p>For example:</p>
<p>&gt;jp</p>
<p>Lists the current status of all JTAG pins.</p>
<p>&gt;jp off</p>
<p>Tristates JTAG pins.</p>
<p>&gt;jp on</p>
<p>Enables all JTAG pins.</p>
<p>&gt;jp NRST 0</p>
<p>Pulls NRST low.</p>
<p>&gt;jp NTRST mode=Z|0 1</p>
<p>Changes the drive mode of</p>
<p>NTRST</p>
<p>to be open-collector.</p>
<p>&gt;jp HRST mode=1|0 1</p>
<p>Changes the drive mode of</p>
<p>HRST</p>
<p>to be active and pulls it high.</p>
<p><i>185</i></p>
<p><i>Green Hills Software</i></p>
<p><i>JTAG and SWD Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Not for</b></p>
<p><b>BDM</b></p>
<p><b>targets</b></p>
<p><b>jr</b></p>
<p>Resets the JTAG TAP or SWD controller.</p>
<p>We recommend that you do not use this command on XScale targets, because</p>
<p>the probe will lose control of the target, due to the way the XScale debug</p>
<p>architecture works.</p>
<p><b>SWD only</b></p>
<p><b>swd<i></b> sequence</i></p>
<p>Scans an arbitrary SWD sequence<i> sequence</i>, made up of the characters</p>
<p>0</p>
<p>,</p>
<p>1</p>
<p>, and</p>
<p>i</p>
<p>. For each</p>
<p>0</p>
<p>or</p>
<p>1</p>
<p>, that value is transmitted. For each</p>
<p>i</p>
<p>, the probe reads one bit.</p>
<p><b>SWD only</b></p>
<p><b>swdread</b> ap | dp<i> addr</i></p>
<p>Reads an SWD register at the address<i> addr</i>. If you specify</p>
<p>ap</p>
<p>, the probe reads</p>
<p>an</p>
<p>AP</p>
<p>register. If you specify</p>
<p>dp</p>
<p>, the probe reads a</p>
<p>DP</p>
<p>register.</p>
<p><b>SWD only</b></p>
<p><b>swdwrite</b> ap | dp<i> addr value</i></p>
<p>Writes the value<i> value</i> to an SWD register at the address<i> addr</i>. If you specify</p>
<p>ap</p>
<p>,</p>
<p>the probe writes an</p>
<p>AP</p>
<p>register. If you specify</p>
<p>dp</p>
<p>, the probe writes a</p>
<p>DP</p>
<p>register.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>186</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>System Commands</b></p>
<p><b>alias</b> [<i>alias</i>] [<i>expansion</i>]</p>
<p>Sets command alias or displays current aliases.</p>
<p>If no parameters are given, all aliases and their current values are listed.</p>
<p>If only an alias name is specified, the expansion value of the alias is displayed.</p>
<p>Aliases are not saved in non-volatile memory.</p>
<p>Examples:</p>
<p>&gt;alias</p>
<p>Displays all aliases.</p>
<p>&gt;alias mr1</p>
<p>Shows the expansion of the</p>
<p>mr1</p>
<p>alias.</p>
<p>&gt;alias dbuf md 0xff004020</p>
<p>Defines a new alias,</p>
<p>dbuf</p>
<p>, which dumps the memory at</p>
<p>0xff004020</p>
<p>when run.</p>
<p><b>exit</b></p>
<p>(Not available in the MULTI Debugger<b> Target</b> and<b> Command</b> panes.)</p>
<p>Exits a telnet session.</p>
<p>When run from the serial port, this command deactivates the serial console until</p>
<p>another command is entered. The serial terminal no longer prints the target status</p>
<p>updates generated by the checker thread.</p>
<p>You cannot exit an RS232 serial terminal session.</p>
<p><b>help</b> [<i> group</i> |<i> topic</i> [<i>subtopic</i>] ]</p>
<p>Displays help messages.</p>
<p>If no arguments are specified, a brief overview of the most commonly used</p>
<p>commands are displayed, and lists which<i> groups</i> are available.</p>
<p>If a<i> group</i> is specified, all help topics within that group are displayed. If a<i> topic</i></p>
<p>is specified, detailed help on that topic (and optional<i> subtopic</i>) is displayed.</p>
<p>This<b> help</b> command is specific to the Green Hills Debug Probes and differs from</p>
<p>a<b> help</b> command issued through<b> mpserv</b>. For information about the<b> mpserv help</b></p>
<p>command, see “Generic Debug Server Commands” on page 218.</p>
<p>Examples:</p>
<p>&gt;help bs</p>
<p>Displays help on the<b> breakpoint set</b> command.</p>
<p>&gt;help set ip</p>
<p>Displays help on setting the IP address.</p>
<p><i>187</i></p>
<p><i>Green Hills Software</i></p>
<p><i>System Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>info</b></p>
<p>Displays basic Green Hills Probe or SuperTrace Probe information.</p>
<p><b>print</b> [<i>argument</i>]...</p>
<p>Prints all arguments separated by spaces and followed by a newline to the current</p>
<p>terminal.</p>
<p>Example:</p>
<p>&gt;print &quot;Hello, World!&quot; &quot;Hello, World!&quot;</p>
<p><b>pterminal</b> [[<i>port_name</i>]|[-baud<i> baud_rate</i>]|[-parity<i> parity</i>]|[-databits</p>
<p><i>data_bits</i>]|[-stopbits<i> stop_bits</i>]|[-flowcontrol<i> flow_control</i>]]</p>
<p>Opens a terminal session to a port on the probe. To exit the session, press the</p>
<p>following three keys, in order</p>
<p>1.</p>
<p>Enter</p>
<p>2.</p>
<p>Tilde (</p>
<p>~</p>
<p>)</p>
<p>3.</p>
<p>Period (</p>
<p>.</p>
<p>)</p>
<p>To list available ports, run this command without any arguments.</p>
<p>serial</p>
<p>(the</p>
<p>RS-232 port on the back of the probe) is always listed, but is only available when</p>
<p><b>serial_terminal</b> is set to</p>
<p>off</p>
<p>. Some targets list an on-chip debug port.</p>
<p>The arguments for this command are:</p>
<p>•</p>
<p><i>port_name</i></p>
<p>— The name of the port to open.</p>
<p>•</p>
<p><i>baud_rate</i></p>
<p>— The baud rate. Valid values are 300, 1200, 2400, 4800, 9600,</p>
<p>19200, 38400, 57600, and 115200. The default is 9600.</p>
<p>•</p>
<p><i>parity</i></p>
<p>— The number and type of parity bits. Valid values are</p>
<p>none|even|odd</p>
<p>. The default is</p>
<p>none</p>
<p>.</p>
<p>•</p>
<p><i>data_bits</i></p>
<p>— The number of data bits in each word. Valid values are 5,</p>
<p>6, 7, and 8. The default value is 8.</p>
<p>•</p>
<p><i>stop_bits</i></p>
<p>— The number of stop bits. Valid values are 1 or 2. The default</p>
<p>is 1.</p>
<p>•</p>
<p><i>flow_control</i></p>
<p>— Type of flow control. Valid values are</p>
<p>none</p>
<p>and</p>
<p>xonxoff</p>
<p>. The default is</p>
<p>none</p>
<p>.</p>
<p>Examples:</p>
<p>pterminal serial -baud 115200</p>
<p>Opens the probe's serial port at a baud rate of 115200.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>188</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>reboot</b></p>
<p>(Not available in the MULTI Debugger<b> Target</b> and<b> Command</b> panes.)</p>
<p>Reboots the probe.</p>
<p>You must reboot your probe after changing certain configuration options, such</p>
<p>as</p>
<p>ip</p>
<p>,</p>
<p>netmask</p>
<p>,</p>
<p>gateway</p>
<p>, or</p>
<p>dhcp</p>
<p>.</p>
<p><b>support</b></p>
<p>Displays information that is useful to Green Hills support.</p>
<p><b>STPv1 only</b></p>
<p><b>tbtemp</b></p>
<p>(Not available in the MULTI Debugger<b> Target</b> and<b> Command</b> panes.)</p>
<p>Displays the temperature inside the SuperTrace Probe. Green Hills support may</p>
<p>ask for the output of this command to help diagnose problems.</p>
<p><b>w</b></p>
<p>(Not available in the MULTI Debugger<b> Target</b> and<b> Command</b> panes.)</p>
<p>Displays a list of all active connections to the probe. For each connection, the</p>
<p>following information is shown:</p>
<p>•</p>
<p>The connection type, displayed as one of the following:</p>
<p>○</p>
<p>Ethernet Debugger</p>
<p>— The MULTI Debugger is connected to the</p>
<p>probe through an Ethernet connection</p>
<p>○</p>
<p>Telnet</p>
<p>— A telnet session is connected to the probe console</p>
<p>○</p>
<p>Serial Console</p>
<p>— A serial terminal is connected to the probe</p>
<p>console</p>
<p>○</p>
<p>USB Debugger</p>
<p>— The MULTI Debugger is connected to the probe</p>
<p>through a USB connection</p>
<p>•</p>
<p>(Ethernet connections only) The IP address of the client</p>
<p>•</p>
<p>The number of seconds since the user last used the connection</p>
<p><i>189</i></p>
<p><i>Green Hills Software</i></p>
<p><i>System Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>xswitch</b> [ -defer | -nosave ] [-reset] [[+|-]<i>$switch</i>]</p>
<p>Sets or modifies the xswitch<i> $switch</i>. Do not use this option unless instructed to</p>
<p>do so by Green Hills support.</p>
<p>If you do not specify any arguments for<b> xswitch</b>, it displays all modified xswitches.</p>
<p>When you update your probe's firmware, it resets all xswitches to their default</p>
<p>values.</p>
<p>•</p>
<p>-defer</p>
<p>— Wait to modify the xswitch until the probe reboots.</p>
<p>•</p>
<p>-nosave</p>
<p>— Do not store the change to non-volatile memory. The change</p>
<p>will revert when the probe reboots.</p>
<p>•</p>
<p>-reset</p>
<p>— Restore<i> $switch</i> to its default value. If you do not specify<i> $switch</i>,</p>
<p>this option resets all xswitches.</p>
<p>•</p>
<p><i>$switch</i></p>
<p>— The xswitch you want to modify. If you precede this argument</p>
<p>with</p>
<p>+</p>
<p>or</p>
<p>-</p>
<p>, it is set or cleared respectively. Otherwise, the current value of</p>
<p>the xswitch is displayed.</p>
<p>For example, to set the</p>
<p>example.switch</p>
<p>xswitch immediately, but have that</p>
<p>change revert the next time you reboot the probe, type the following command:</p>
<p>xswitch -nosave +example.switch</p>
<p><b>Target Commands</b></p>
<p><b>Address Suffixes</b></p>
<p>Many target commands require an address parameter. How an address is accessed</p>
<p>can be modified with the following suffix characters:</p>
<p>v</p>
<p>— Indicates the specified address is virtual.</p>
<p>p</p>
<p>— Indicates the specified address is physical.</p>
<p>The</p>
<p>v</p>
<p>and</p>
<p>p</p>
<p>suffixes are mutually exclusive.</p>
<p>r</p>
<p>— Indicates that a raw memory access should be performed, bypassing any caches</p>
<p>even if they are valid or dirty. This suffix is ignored on targets that do not support</p>
<p>raw memory access.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>190</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>i</p>
<p>— Indicates that an instruction is being written and any necessary steps should</p>
<p>be taken (such as flushing the instruction cache) to ensure that the data written can</p>
<p>be executed by the target. This suffix only applies to memory writes.</p>
<p>Examples:</p>
<p>0x10000v</p>
<p>represents the virtual address</p>
<p>0x10000</p>
<p>.</p>
<p>0x4abcdp</p>
<p>represents the physical address</p>
<p>0x4abcd</p>
<p>.</p>
<p>&gt;md 0x4000r</p>
<p>Dump raw memory at</p>
<p>0x4000</p>
<p>.</p>
<p>&gt;mw 0x700i 0x60000000</p>
<p>Writes</p>
<p>0x60000000</p>
<p>to address</p>
<p>0x700</p>
<p>, and invalidates any corresponding instruction</p>
<p>cache entries.</p>
<p><b>Cache, Memory, and TLB Commands</b></p>
<p><b>clf</b> [<i>cache</i>]<i> address</i></p>
<p>Searches a cache for a valid entry corresponding to<i> address</i>.<i> cache</i> specifies the cache to be</p>
<p>searched and can be any one of the following:</p>
<p>•</p>
<p><b>i</b> — Specifies the instruction cache.</p>
<p>•</p>
<p><b>d</b> — Specifies the data cache.</p>
<p>•</p>
<p><b>1</b> — Specifies the unified L1 cache.</p>
<p>•</p>
<p><b>2</b> — Specifies the L2 cache.</p>
<p>•</p>
<p><b>3</b> — Specifies the L3 cache.</p>
<p>If<i> cache</i> is not specified, all caches are searched.</p>
<p>If a valid entry is found, it is displayed. If a valid entry is not found, the set number(s) searched</p>
<p>are displayed.</p>
<p><i>191</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>clop<i></b> op cache set</i> [<i>way</i>]</p>
<p><b>clop<i></b> op cache</i> address=<i>address</i></p>
<p>Performs a cache operation on one or more cache lines. Not all operations are supported on all</p>
<p>targets. It is possible that, for a given target, the set/way form of addressing is implemented</p>
<p>while the address form is not and vice versa.</p>
<p>The<i> op</i> argument specifies the operation to perform, and can be any one of the following:</p>
<p>•</p>
<p><b>fill</b></p>
<p>•</p>
<p><b>writeback</b></p>
<p>•</p>
<p><b>invalidate</b></p>
<p>•</p>
<p><b>flush</b></p>
<p>•</p>
<p><b>init</b></p>
<p>•</p>
<p><b>lock</b></p>
<p>•</p>
<p><b>unlock</b></p>
<p>The<i> cache</i> argument specifies the cache to operate on, and can be any one of the following:</p>
<p>•</p>
<p><b>i</b> — Specifies the instruction cache.</p>
<p>•</p>
<p><b>d</b> — Specifies the data cache.</p>
<p>•</p>
<p><b>1</b> — Specifies the unified L1 cache.</p>
<p>•</p>
<p><b>2</b> — Specifies the L2 cache.</p>
<p>•</p>
<p><b>3</b> — Specifies the L3 cache.</p>
<p><i>set</i> specifies the range of sets on which to perform the operation. For a fully-associative cache,</p>
<p>it specifies which lines to change. Use</p>
<p>*</p>
<p>to specify all sets.</p>
<p><i>way</i> specifies the range of ways in the sets on which to perform the operation. The default is</p>
<p>0</p>
<p>.</p>
<p>Use</p>
<p>*</p>
<p>to specify all ways.</p>
<p><i>address</i> specifies the address to perform the operation on.</p>
<p>For example, to initialize the entire i-cache:</p>
<p>clop init i * *</p>
<p>To flush the data cache line containing address</p>
<p>0x100</p>
<p>, if it exists:</p>
<p>clop flush d address=0x100</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>192</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>clr</b> [s<i>grouping</i>]<i> cache set</i></p>
<p>Reads a range of cache sets.</p>
<p>The optional</p>
<p>s<i>grouping</i></p>
<p>argument specifies the number of bytes into which memory is grouped</p>
<p>for display. If the</p>
<p>s<i>grouping</i></p>
<p>argument is not specified, memory is displayed in 4-byte groupings.</p>
<p>The<i> cache</i> argument specifies the cache to read, and can be any one of the following:</p>
<p>•</p>
<p><b>i</b> — Specifies the instruction cache.</p>
<p>•</p>
<p><b>d</b> — Specifies the data cache.</p>
<p>•</p>
<p><b>1</b> — Specifies the unified L1 cache.</p>
<p>•</p>
<p><b>2</b> — Specifies the L2 cache.</p>
<p>•</p>
<p><b>3</b> — Specifies the L3 cache.</p>
<p>The<i> set</i> argument specifies the range of sets to read. For a fully associative cache,<i> set</i> specifies</p>
<p>which lines to read.</p>
<p>Examples:</p>
<p>&gt;clr i 3</p>
<p>Reads the third set of the instruction cache.</p>
<p>&gt;clr s2 d 6</p>
<p>Reads the sixth set of the data cache and displays the data grouped in 16-bit units.</p>
<p><i>193</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>clsa<i></b> cache set</i> [<i>way</i>]<i> address</i></p>
<p>Sets the address on a single cache line. The least significant bits of the address for each cache</p>
<p>line are determined by the set to which that line belongs, and are not affected by this command.</p>
<p>The<i> cache</i> argument specifies which cache to change and can be any one of the following:</p>
<p>•</p>
<p><b>i</b> — Specifies the instruction cache.</p>
<p>•</p>
<p><b>d</b> — Specifies the data cache.</p>
<p>•</p>
<p><b>1</b> — Specifies the unified L1 cache.</p>
<p>•</p>
<p><b>2</b> — Specifies the L2 cache.</p>
<p>•</p>
<p><b>3</b> — Specifies the L3 cache.</p>
<p>The<i> set</i> argument specifies the range of sets to change. For a fully associative cache,<i> set</i> specifies</p>
<p>which lines to change.</p>
<p>The optional<i><b> way</b></i> argument specifies the range of ways in the sets to change. If not specified,</p>
<p>this value defaults to 0.</p>
<p>The<i> address</i> argument specifies the address to set. This address may be a physical address or a</p>
<p>virtual address, depending upon the type of target processor.</p>
<p>Examples:</p>
<p>&gt;clsa i 3 0x00020030</p>
<p>Sets the address of icache set 3 way 0 to</p>
<p>0x00020030</p>
<p>.</p>
<p>&gt;clsa d 6 2 0x560</p>
<p>Sets the address of dcache set 6 way 2 to</p>
<p>0x560</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>194</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>clst<i></b> cache set</i> [<i>way</i>]<i> tag</i></p>
<p>Sets the tag bits on one or more cache lines.</p>
<p>The<i> cache</i> argument specifies which cache to change and can be any one of the following:</p>
<p>•</p>
<p><b>i</b> — Specifies the instruction cache.</p>
<p>•</p>
<p><b>d</b> — Specifies the data cache.</p>
<p>•</p>
<p><b>1</b> — Specifies the unified L1 cache.</p>
<p>•</p>
<p><b>2</b> — Specifies the L2 cache.</p>
<p>•</p>
<p><b>3</b> — Specifies the L3 cache.</p>
<p>The<i> set</i> argument specifies the range of sets to change. For a fully associative cache,<i> set</i> specifies</p>
<p>which lines to change.</p>
<p>The optional<i><b> way</b></i> argument specifies the range of ways in the sets to change. If not specified,</p>
<p>this value defaults to 0.</p>
<p>The<i> tag</i> argument specifies the tag bits to set. The tag bits can be specified either as a single</p>
<p>number or as a sequence of</p>
<p><i>key</i>=<i>value</i></p>
<p>pairs (see “Bitfield Types” on page 217 for more</p>
<p>information). To see which fields are supported by your target, perform a<b> clr</b> command.</p>
<p>Unspecified fields default to</p>
<p>0</p>
<p>. (For tables listing CPU-specific bit information, see Appendix C,</p>
<p>“CPU-Specific Bit Tables” on page 299.)</p>
<p>Examples:</p>
<p>&gt;clst i 3 Valid=0xf,LRF=1</p>
<p>Sets the tag of icache line 3 way 0. The unspecified</p>
<p>L</p>
<p>bit will be</p>
<p>0</p>
<p>.</p>
<p>&gt;clst d 6 2 1</p>
<p>Sets the tag of dcache line 6 way 2 to</p>
<p>1</p>
<p>.</p>
<p><i>195</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p>ma [<i>start_address end_address</i> [<i>permission</i> [<i>match</i>] [<i>access_list</i>]]]</p>
<p>Defines debug memory access permissions starting at<i> start_address</i> (inclusive), and ending at</p>
<p><i>end_address</i> (inclusive). These permissions are used by all memory reads and writes (including</p>
<p>software breakpoints), and can be used to disallow unintentional or incorrect memory accesses</p>
<p>to memory and memory-mapped peripherals. To clear memory access permissions, use the<b> mca</b></p>
<p>command. All regions with undefined permissions allow both read and write access.</p>
<p><i>permission</i> specifies any combination of</p>
<p>r</p>
<p>,</p>
<p>w</p>
<p>,</p>
<p>f</p>
<p>,</p>
<p>0</p>
<p>, and</p>
<p>1</p>
<p>to allow reading, writing, flash</p>
<p>breakpoints and two features specific to the architecture, respectively. If you specify</p>
<p>-</p>
<p>for this</p>
<p>argument, all access to the memory region is disallowed. If you do not specify the argument,</p>
<p>rw</p>
<p>is used by default. The features</p>
<p>0</p>
<p>and</p>
<p>1</p>
<p>have different meanings depending on your target.</p>
<p>Support for flash breakpoints varies by target. Check the usage notes for more information.</p>
<p>Regions with</p>
<p>*</p>
<p>in the permission field of the memory range list cannot be modified by the user</p>
<p>due to hardware limitations.</p>
<p>The optional<i> match</i> argument is specified in the form:<i> value</i>/<i>mask</i>. The<i> mask</i> is ANDed with</p>
<p>the memory access address and this result is compared with the<i> value</i>. If the comparison fails,</p>
<p>no access is allowed. The default<i> match</i> is</p>
<p>0x0/0x0</p>
<p>.</p>
<p>The optional<i> access_list</i> argument specifies a comma-separated list of allowable access sizes</p>
<p>in bits. An asterisk (</p>
<p>*</p>
<p>) indicates that all access sizes are permissible, while the letter</p>
<p>b</p>
<p>allows</p>
<p>block accesses (which can use any access size).</p>
<p>If no arguments are specified,<b> ma</b> displays the current memory access permissions.</p>
<p>Examples:</p>
<p>&gt;ma</p>
<p>Displays current debug memory access permissions.</p>
<p>&gt;ma 0xz 0xh -</p>
<p>Prevents any access.</p>
<p>&gt;ma 0x80000000 0x8001ffff rw</p>
<p>Specifies the memory range as regular RAM.</p>
<p>&gt;ma 0xbf000c00 0xbf000cff rw 8</p>
<p>Specifies a device which has 8-bit registers.</p>
<p>&gt;ma 0xbf000d00 0xbf000dff rw 0x0/0x3 16</p>
<p>Specifies a device that has 16-bit registers, but only at a 32-bit aligned address.</p>
<p>&gt;ma 0xbf000e00 0xbf000eff rw 8,16</p>
<p>Prevents 32-bit accesses.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>196</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>mat<i> virtual_address</b></i></p>
<p>Attempts to translate the given<i> virtual_address</i> to the physical address it corresponds to, given</p>
<p>the current state of the processor.</p>
<p>The probe applies TLBs, page tables, or any other mechanism that the processor might use to</p>
<p>define the mapping of the specified address.</p>
<p>If the probe is not able to perform the translation, the probe assumes a direct mapping, and</p>
<p>returns the same address.</p>
<p><b>md</b> [s<i>grouping</i>]<i> start_address</i> [<i>length</i>]</p>
<p>Displays bytes of target memory.</p>
<p>The optional</p>
<p>s<i>grouping</i></p>
<p>argument specifies the number of bytes into which memory is grouped</p>
<p>for display. If this argument is not specified, memory is displayed in 4-byte groupings.</p>
<p>The<i> start_address</i> argument specifies the address to start reading memory.</p>
<p>The optional<i> length</i> argument specifies the number of bytes to display. If this argument is not</p>
<p>specified, 64 bytes are displayed.</p>
<p>Examples:</p>
<p>&gt;md 0xa0000000</p>
<p>Reads 64 bytes starting at</p>
<p>0xa0000000</p>
<p>.</p>
<p>&gt;md 0x1000 200</p>
<p>Reads 200 bytes starting at</p>
<p>0x1000</p>
<p>.</p>
<p>&gt;md s1 0xfff00000</p>
<p>Reads 64 bytes starting at</p>
<p>0xfff00000</p>
<p>, and displays the result in single bytes.</p>
<p><b>mf<i></b> start_address length pattern</i></p>
<p>(Not available from<b> mpserv</b>.)</p>
<p>Fills the block of target memory beginning at<i> start_address</i> and continuing for<i> length</i> bytes</p>
<p>with the 4-byte pattern,<i> pattern</i>.</p>
<p>Examples:</p>
<p>&gt;mf 0xa0000000 0x500 0x401e00e0</p>
<p>Fills</p>
<p>0x500</p>
<p>bytes starting at</p>
<p>0xa0000000</p>
<p>with the 4-byte pattern</p>
<p>0x401e00e0</p>
<p>.</p>
<p>&gt;mf 0x0 0x8000 0x21212121</p>
<p>Fills</p>
<p>0x8000</p>
<p>bytes starting at</p>
<p>0x00000000</p>
<p>with the 1-byte pattern</p>
<p>0x21</p>
<p>.</p>
<p><i>197</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>mr</b> [<i>access_size</i>]<i> start_address</i></p>
<p>Performs a sized memory read, beginning at<i> start_address</i>.</p>
<p>The optional parameter<i> access_size</i> specifies the size, in bytes, of the memory access. The</p>
<p>default value is 4. If this parameter is specified, you must verify that the<i> start_address</i> is aligned</p>
<p>in a compatible manner.</p>
<p>Examples:</p>
<p>&gt;mr 0xa0000000</p>
<p>Reads 4 bytes of data from</p>
<p>0xa0000000</p>
<p>.</p>
<p>&gt;mr 1 0x1000</p>
<p>Reads 1 byte of data from</p>
<p>0x1000</p>
<p>.</p>
<p><b>mw</b> [<i>access_size</i>]<i> start_address value</i></p>
<p>Performs a sized memory write of the value,<i> value</i>, beginning at<i> start_address</i>.</p>
<p>The optional parameter<i> access_size</i> specifies the size, in bytes, of the memory access. The</p>
<p>default memory<i> access_size</i> is 4. If this parameter is specified, you must verify that the</p>
<p><i>start_address</i> is aligned in a compatible manner.</p>
<p>Examples:</p>
<p>&gt;mw 0xa0000000 0x23</p>
<p>Performs a 4-byte memory write of</p>
<p>0x00000023</p>
<p>to</p>
<p>0xa0000000</p>
<p>.</p>
<p>&gt;mw 1 0x1000 0xfd</p>
<p>Performs a 1-byte memory write of</p>
<p>0xfd</p>
<p>to</p>
<p>0x1000</p>
<p>.</p>
<p><b>regdcr<i></b> reg_num</i> [=<i>value</i>] |<i> reg_num value</i></p>
<p>(For PowerPC 4xx targets only.)</p>
<p>Accesses a PowerPC 4xx DCR register. If<i> value</i> is specified,<b> regdcr</b> writes the value to the</p>
<p>DCR register specified by<i> reg_num</i>. If no value is specified,<b> regdcr</b> prints the value of the</p>
<p>specified DCR register.</p>
<p>Examples:</p>
<p>&gt;regdcr 0x12</p>
<p>Prints the value of the first peripheral bank configuration register (EBC0_B0CR).</p>
<p>&gt;regdcr 0x12 0x0</p>
<p>Writes the value</p>
<p>0x0</p>
<p>to EBC0_B0CR.</p>
<p>&gt;regdcr 0x12=0x0</p>
<p>Writes the value</p>
<p>0x0</p>
<p>to EBC0_B0CR.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>198</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>rr</b> [<i> name</i> |<i> group</i> ]...</p>
<p>Reads target registers.</p>
<p>If no parameters are specified, the most commonly accessed registers are displayed. Alternatively,</p>
<p>you can use any number of<i> name</i> and<i> group</i> arguments to specify registers, where:</p>
<p>•</p>
<p><i>name</i> specifies a register name, such as</p>
<p>r0</p>
<p>or</p>
<p>pc</p>
<p>. You can also use wildcards when</p>
<p>specifying names:</p>
<p>○</p>
<p>*</p>
<p>— matches zero or more characters</p>
<p>○</p>
<p>?</p>
<p>— matches exactly one character</p>
<p>All matching registers are displayed. If you specify an asterisk by itself (</p>
<p>rr *</p>
<p>), all registers</p>
<p>and groups are displayed.</p>
<p>•</p>
<p><i>group</i> specifies a group of registers.</p>
<p>For example, on an ARM target:</p>
<p>rr cp15</p>
<p>Reads the system coprocessor (</p>
<p>cp15</p>
<p>).</p>
<p>For more information about special registers available for the<b> rr</b> command, see “Target-Specific</p>
<p>Special Registers” on page 209.</p>
<p><b>rw<i></b> name value</i></p>
<p>Writes the value,<i> value</i>, to the register,<i> name</i>.</p>
<p>Examples:</p>
<p>&gt;rw pc 0xa0000000</p>
<p>Sets the</p>
<p>PC</p>
<p>to</p>
<p>0xa0000000</p>
<p>.</p>
<p>&gt;rw r1 0x0</p>
<p>Sets</p>
<p>R1</p>
<p>to</p>
<p>0x0</p>
<p>.</p>
<p>For more information about special registers available for the<b> rw</b> command, see “Target-Specific</p>
<p>Special Registers” on page 209.</p>
<p><i>199</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>tlbr</b> [-valid] [ i | d | ds | dl | t0 | t1 | l2 | lockdown ]<i> entry</i></p>
<p>Reads and prints out a range of entries or sets from the target's translation lookaside buffer</p>
<p>(TLB), where:</p>
<p>•</p>
<p>The optional<b> -valid</b> option only prints valid TLB entries (if an entry has a valid bit).</p>
<p>•</p>
<p>The optional<b> i</b> or<b> d</b> option specifies the instruction TLB or data TLB. This argument is</p>
<p>ignored on targets without separate instruction and data TLBs. On targets with separate</p>
<p>instruction and data TLBs, the default TLB used if neither<b> i</b> or<b> d</b> is specified depends upon</p>
<p>the specific implementation.</p>
<p>•</p>
<p>The optional<b> ds</b> or<b> dl</b> option specifies the data store TLB and the data load TLB.</p>
<p>(Cortex-A15)</p>
<p>•</p>
<p>The optional<b> t0</b> or<b> t1</b> option specifies the target's TLB 0 or TLB 1 TLBs. This argument is</p>
<p>ignored on targets without TLB 0 and TLB 1.<b> t0</b> and<b> t1</b> are used only for PowerPC 85xx</p>
<p>and QorIQ targets, with<b> t1</b> being the default if no option is specified.</p>
<p>•</p>
<p>The optional<b> l2</b> option specifies the</p>
<p>L2</p>
<p>TLB. (Cortex-A15)</p>
<p>•</p>
<p>The optional<b> lockdown</b> option specifies Lockdown TLB. (ARM926)</p>
<p>•</p>
<p><i><b>entry</b></i> specifies the range of entries or sets to read, with</p>
<p>0</p>
<p>specifying the first entry or set.</p>
<p>To specify a range from<i> x</i> to<i> y</i>, inclusive, use the format</p>
<p><i>x</i>..<i>y</i></p>
<p>. To read the entire TLB, use</p>
<p>an asterisk (</p>
<p>*</p>
<p>).</p>
<p>Entries are printed for fully-associative or direct-mapped TLBs, while sets are printed for</p>
<p>set-associative TLBs.</p>
<p>Examples:</p>
<p>&gt;tlbr i 3</p>
<p>Prints the fourth TLB entry or set. On a PowerPC 440gx (fully-associative TLB), this command</p>
<p>prints:</p>
<p>entry 3: vaddr=0x03000000 vtag=0x02700007 (!U0,!U1,!U2,!U3,V,!TS,SIZE=0x7,</p>
<p>TID=0x0,!W,!I,!M,!G,!E,!UX,!UW,!UR,SX,SW,SR) -&gt;</p>
<p>paddr=0x0:03000000 ptag=0x0 (ERPN=0x0)</p>
<p>&gt;tlbr 3..8</p>
<p>idx w vaddr</p>
<p>U0U1U2U3VTsSizeTidWIMGEUxUwUrSxSwSr</p>
<p>paddr</p>
<p>Erpn</p>
<p>3 0 0x03000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:03000000</p>
<p>0</p>
<p>4 0 0x04000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:04000000</p>
<p>0</p>
<p>5 0 0x05000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:05000000</p>
<p>0</p>
<p>6 0 0x06000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:06000000</p>
<p>0</p>
<p>7 0 0x07000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:07000000</p>
<p>0</p>
<p>8 0 0xe0000000 --------V--</p>
<p>1</p>
<p>0-I-G---------SwSr -&gt; 0x1:40000000</p>
<p>1</p>
<p>&gt;tlbr *</p>
<p>idx w vaddr</p>
<p>U0U1U2U3VTsSizeTidWIMGEUxUwUrSxSwSr</p>
<p>paddr</p>
<p>Erpn</p>
<p>3 0 0x03000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:03000000</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>200</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>4 0 0x04000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:04000000</p>
<p>0</p>
<p>5 0 0x05000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:05000000</p>
<p>0</p>
<p>6 0 0x06000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:06000000</p>
<p>0</p>
<p>7 0 0x07000000 --------V--</p>
<p>7</p>
<p>0-----------SxSwSr -&gt; 0x0:07000000</p>
<p>0</p>
<p>8 0 0xe0000000 --------V--</p>
<p>1</p>
<p>0-I-G---------SwSr -&gt; 0x1:40000000</p>
<p>1</p>
<p>...</p>
<p>63 0 0x00024000 --------VTs</p>
<p>2</p>
<p>5-----Ux--Ur------ -&gt; 0x0:01fc0000</p>
<p>0</p>
<p><b>tlbw</b> [ i | d | t0 | t1 | lockdown ]<i> entry</i> [<i>way</i>]<i> vaddr vtag paddr ptag</i></p>
<p>Writes an entry in the target's translation lookaside buffer (TLB) with CPU-specific TLB settings</p>
<p>and information, where:</p>
<p>•</p>
<p>The optional<b> i</b> or<b> d</b> option specifies the instruction TLB or data TLB. This argument is</p>
<p>ignored on targets without separate instruction and data TLBs. On targets with separated</p>
<p>instruction and data TLBs, the default TLB used if neither<b> i</b> or<b> d</b> is specified depends upon</p>
<p>the specific implementation.</p>
<p>•</p>
<p>The optional<b> t0</b> or<b> t1</b> option specifies the target's TLB 0 or TLB 1 TLBs. This argument</p>
<p>is ignored on targets without TLB 0 and TLB 1.<b> t0</b> and<b> t1</b> are used only for PowerPC 85xx</p>
<p>and QorIQ targets, with<b> t1</b> being the default if no option is specified.</p>
<p>•</p>
<p>The optional<b> lockdown</b> option specifies Lockdown TLB. (ARM926)</p>
<p>•</p>
<p>The<i> entry</i> argument specifies the entry or range of entries in the TLB to be written.</p>
<p>•</p>
<p>The optional<i> way</i> argument can be used to specify the way in the entry to be written, if</p>
<p>applicable. Generally, this argument only needs to be specified for CPUs with set-associative</p>
<p>TLBs. If this argument is not specified, it defaults to</p>
<p>0</p>
<p>.</p>
<p>•</p>
<p>The<i> vaddr</i> argument specifies the virtual address to write to<i> entry</i>.</p>
<p>•</p>
<p>The<i> vtag</i> argument specifies CPU-specific TLB information to write for<i> vaddr</i>'s entry.</p>
<p>•</p>
<p>The<i> paddr</i> argument specifies the physical address to write to<i> entry</i>.</p>
<p>•</p>
<p>The<i> ptag</i> argument specifies CPU-specific TLB information to write for<i> paddr</i>'s entry.</p>
<p>In the syntax above,<i> vtag</i> and<i> ptag</i> are bitfield types. The bits can be specified either as a single</p>
<p>number or as a sequence of</p>
<p><i>key</i>=<i>value</i></p>
<p>pairs (see “Bitfield Types” on page 217 for more</p>
<p>information). For CPU-specific tag information, see the tables in Appendix C, “CPU-Specific</p>
<p>Bit Tables” on page 299.</p>
<p><i>201</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Run Control Commands</b></p>
<p><b>bc<i></b> id</i></p>
<p>Clears the breakpoint with the ID number<i> id</i>.</p>
<p><b>bca</b></p>
<p>Clears all breakpoints.</p>
<p><b>bl</b></p>
<p>Lists all breakpoints in the same format as specified by the<b> bs</b> command (see the</p>
<p>following table entry).</p>
<p>For information about number formats in the list, see “Specifying Numbers with</p>
<p>Green Hills Debug Probe Commands” on page 215 and “Address Suffixes”</p>
<p>on page 190.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>202</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>bs</b> [r] [w] [x]<i> address</i> [/<i>address_mask</i>] [<i>size</i>] [d=<i>data</i> [/<i>data_mask</i>]] [c=<i>count</i>]</p>
<p>Sets a breakpoint at address<i> address</i>.</p>
<p>Any combination of</p>
<p>r</p>
<p>(read),</p>
<p>w</p>
<p>(write), or</p>
<p>x</p>
<p>(execute) specifies a hardware</p>
<p>breakpoint. If none of these parameters (</p>
<p>r</p>
<p>,</p>
<p>w</p>
<p>, or</p>
<p>x</p>
<p>) are included,<b> bs</b> sets a software</p>
<p>breakpoint. Hardware breakpoint support varies between target CPUs. Consult</p>
<p>your CPU or core manufacturer's manual for more details on your target's level</p>
<p>of hardware breakpoint support.</p>
<p>The optional<i> data</i> argument specifies data to be used for hardware compare</p>
<p>breakpoints.</p>
<p>You can specify an<i> address_mask</i> to apply to a target address before comparing</p>
<p>it to<i> address</i>, and/or a<i> data_mask</i> to apply to the target data before comparing it</p>
<p>to<i> data</i>.</p>
<p>Note that a mask of</p>
<p>0xffffffff</p>
<p>means that all bits are significant. Whereas a</p>
<p>mask of</p>
<p>0xffffff00</p>
<p>means that the least significant byte is ignored in the</p>
<p>comparison. Masks and read/write/execute filtering are only available if hardware</p>
<p>breakpoints are supported by the target CPU.</p>
<p>The optional<i> size</i> argument specifies the size of the breakpoint. The default size</p>
<p>is the target's instruction length.</p>
<p>The optional</p>
<p>c=</p>
<p><i>count</i> argument specifies the number of times the breakpoint</p>
<p>should be hit before the target actually halts.</p>
<p>Examples:</p>
<p>&gt;bs x 0x200000</p>
<p>Sets a hardware breakpoint at</p>
<p>0x200000</p>
<p>.</p>
<p>&gt;bs 0xa00000000</p>
<p>Sets a software breakpoint at</p>
<p>0xa0000000</p>
<p>.</p>
<p>&gt;bs rw 0x1000/0xffffff00 2 d=0x1234 c=3</p>
<p>Sets a data hardware breakpoint the third time a 16-bit value of</p>
<p>0x1234</p>
<p>is read</p>
<p>in the address range</p>
<p>0x1000</p>
<p>through</p>
<p>0x10fe</p>
<p>.</p>
<p>&gt;bs w 0x1000 4 d=0x12340000/0xffff0000</p>
<p>Sets a hardware breakpoint when a 32-bit value with the most significant bits</p>
<p>equal to</p>
<p>0x1234</p>
<p>is written to</p>
<p>0x1000</p>
<p>.</p>
<p><i>203</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>cr</b> pre | tap | post | full</p>
<p>Performs, on the current core, one or all of the phases that make up a typical reset</p>
<p>sequence, where:</p>
<p>•</p>
<p><b>pre</b> — Prepares the core for reset.</p>
<p>•</p>
<p><b>tap</b> — Performs all steps required while the CPU reset line (for example,</p>
<p>nHRESET</p>
<p>or</p>
<p>nRESET</p>
<p>) is asserted. On JTAG targets, this performs the JTAG</p>
<p>Test Access Port (TAP) reset, including toggling the TAP reset line (for</p>
<p>example,</p>
<p>nTRST</p>
<p>). This step works only if<b> target_reset_pin</b> is set to</p>
<p>independent</p>
<p>, otherwise, it should be skipped.</p>
<p>•</p>
<p><b>post</b> — Performs any necessary post-reset initialization.</p>
<p>•</p>
<p><b>full</b> — Performs all three reset phases and toggles the CPU reset line as</p>
<p>appropriate. This option assumes that the probe can control the reset line.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>204</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>t<i></b> cores</i> [<i>command</i>]</p>
<p>Changes the current core ID to<i> cores</i> or issues a detailed command for all specified</p>
<p>cores.</p>
<p><i>cores</i> is a comma separated list of core groups. For information about specifying</p>
<p><i>cores</i>, see<b> -force_coreid</b> in “Options for Custom Connection Methods”</p>
<p>on page 49.</p>
<p>If no<i> command</i> is specified,<b> t</b> changes the current core to the core with the ID</p>
<p><i>cores</i> and all subsequent commands apply to the new core until another<b> t</b> command</p>
<p>is executed. This form of the command is not available from within the MULTI</p>
<p>Debugger.</p>
<p>If a<i> command</i> is specified, the current core ID is not changed, and the command</p>
<p>is issued for all cores listed in<i> cores</i>. In this case,<i> cores</i> can consist of a single</p>
<p>core, a list of cores separated by commands, a range of cores, or an asterisk (</p>
<p>*</p>
<p>)</p>
<p>to indicate all cores.</p>
<p>Examples:</p>
<p>&gt;t 0</p>
<p>Selects core 0, or the first core.</p>
<p>&gt;t 9</p>
<p>Selects core 9, or the tenth core.</p>
<p>&gt;t 1 th</p>
<p>Halts core 1, the second core, but does not change the default core setting to 1.</p>
<p>&gt;t 0,3 ti</p>
<p>Prints the status for cores 0 and 3.</p>
<p>&gt;t 3..5 tc</p>
<p>Resumes cores 3, 4, and 5.</p>
<p><b>tc</b></p>
<p>Continues running the target from the current</p>
<p>PC</p>
<p>(program counter).</p>
<p><b>th</b></p>
<p>Halts a running target.</p>
<p><b>ti</b></p>
<p>Displays current target status information.</p>
<p><b>tl</b></p>
<p>Lists all targets in the system and their status.</p>
<p><i>205</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>tr</b> [-s] [ d | r ]</p>
<p>Resets the target system using JTAG reset pins.</p>
<p>If</p>
<p>d</p>
<p>is specified, or if neither</p>
<p>d</p>
<p>nor</p>
<p>r</p>
<p>is specified, the target remains in debug</p>
<p>mode immediately after the reset. For targets that do not support this behavior,</p>
<p>a halt request is sent immediately.</p>
<p>If</p>
<p>r</p>
<p>is specified, the target system runs freely after the reset.</p>
<p>Passing the</p>
<p>-s</p>
<p>option causes<b> tr</b> to perform a soft reset that does not wiggle the</p>
<p>JTAG reset lines. (The</p>
<p>-s</p>
<p>option is not supported for all targets.)</p>
<p>On a multi-core system,<b> tr</b> is only guaranteed to reset one core. Other cores can</p>
<p>be reset or experience other side effects as a result of<b> tr</b>. This depends on how</p>
<p>the cores are connected to the core being reset.</p>
<p>Examples:</p>
<p>&gt;tr</p>
<p>Resets the target and keeps it in debug mode.</p>
<p>&gt;tr r</p>
<p>Resets the target and lets it run.</p>
<p><b>ts</b></p>
<p>Single steps one instruction on the target. On some architectures this might result</p>
<p>in more than one instruction being executed. For instance, the branch delay slot</p>
<p>can also be executed when single stepping a branch instruction on a MIPS target.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>206</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Other Commands</b></p>
<p><b>addkey<i></b> featurename key</i></p>
<p>Adds or changes a feature key on this device. Feature keys turn on probe</p>
<p>functionality that is only available as an add-on or is still in beta. Feature keys</p>
<p>are provided by Green Hills support.</p>
<p><b>checkkey<i></b> featurename</i></p>
<p>Reports the current stored value of a feature key, and whether or not that key is</p>
<p>valid. Feature keys are provided by Green Hills Support, and can be added with</p>
<p>the<b> addkey</b> command.</p>
<p><b>GHP only;</b></p>
<p><b>available</b></p>
<p><b>only in</b></p>
<p><b>MPserv;</b></p>
<p><b>ARC</b></p>
<p><b>targets</b></p>
<p><b>only</b></p>
<p><b>dp<i></b> filename</i></p>
<p>Programs a target device with the file specified by<i> filename</i>. Currently, the only</p>
<p>supported target device is the Xilinx FPGA on ARC evaluation boards. In that</p>
<p>case, the file should be a .xbf file provided by ARC. Note that there is no way</p>
<p>for the debug probe to verify correct device programming.</p>
<p><i>207</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>prm status<i></b> logentries</i></p>
<p><b>prm start</b> [<b>-invalidate</b>] [<i> addr</i> | - ] [<i> connstr</i> | - ]</p>
<p><b>prm stop</b></p>
<p><b>prm subscribe<i></b> msgtype</i>[,...] | all | none</p>
<p>Controls the Probe Run Mode Proxy on the probe. This command can start, stop,</p>
<p>get status, and subscribe to messages.</p>
<p><b>prm status</b> – Gets the status of the Proxy.<i> logentries</i> specifies the maximum</p>
<p>number of log entries to print with the status.</p>
<p><b>prm start</b> – Starts the Probe Run Mode Proxy. If the Proxy is already running it</p>
<p>will be stopped and restarted.</p>
<p>•</p>
<p>-invalidate</p>
<p>invalidates the current header so the Probe Agent can tell</p>
<p>when the target has started. This should not be used if the kernel has already</p>
<p>booted.</p>
<p>•</p>
<p><i>addr</i> specifies the address of the</p>
<p>.gipctarget</p>
<p>section. If none is specified</p>
<p>and<b> mpserv</b> knows this address, that address is used by default.</p>
<p>•</p>
<p><i>connstr</i> specifies the connection string. It defaults to the connection string</p>
<p><b>mpserv</b> used to connect to the probe, or the probe's hostname.</p>
<p><b>prm stop</b> — Stops the Probe Run Mode Proxy.</p>
<p>stop *</p>
<p>stops any and all</p>
<p>instances.</p>
<p><b>prm subscribe</b> — Subscribes to one or more message types or clear subscriptions.</p>
<p>Setting the subscription list replaces any previous subscription list.</p>
<p>•</p>
<p><i>msgtype</i> is one of</p>
<p>error</p>
<p>,</p>
<p>info</p>
<p>,</p>
<p>debug</p>
<p>, or</p>
<p>signal</p>
<p>. The signal type shows</p>
<p>any output generated by the interrupt script.</p>
<p>•</p>
<p>all</p>
<p>subscribes to all types.</p>
<p>•</p>
<p>none</p>
<p>clears all subscriptions.</p>
<p>Examples:</p>
<p>•</p>
<p>prm</p>
<p>Queries the Proxy status and displays recent log entries.</p>
<p>•</p>
<p>prm start -invalidate</p>
<p>When run from<b> mpserv</b>, uses the</p>
<p>.gipctarget</p>
<p>section address of the loaded program to start the Proxy,</p>
<p>invalidating the header on the target in the process.</p>
<p>•</p>
<p>prm start 0x80001240</p>
<p>Starts the Proxy with base address</p>
<p>0x80001240</p>
<p>.</p>
<p>•</p>
<p>prm start - -</p>
<p>Starts the Proxy with the address from the link map and</p>
<p>with no connection string (to disable automatic partnering).</p>
<p>•</p>
<p>prm subscribe info,error</p>
<p>Subscribes to both</p>
<p>info</p>
<p>and</p>
<p>error</p>
<p>messages from the Proxy.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>208</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>syscalls</b> [ on | off ]</p>
<p>Enables or disables system calls. System calls are on by default.</p>
<p>If no argument is specified, this command reports the current state of system</p>
<p>calls.</p>
<p>System calls for performing input and output on the host are implemented with</p>
<p>a software breakpoint. The<b> syscalls</b> command can be used to disable and enable</p>
<p>this breakpoint and therefore system call servicing by the host. When running</p>
<p>code from ROM, it may not be possible to set the system call breakpoint and you</p>
<p>may need to use<b> syscalls off</b> to disable it.</p>
<p><b>time</b> [-noprint] [-repeat<i> num</i>] [command]</p>
<p>Executes the probe command<i> command</i> and outputs the amount of time it took</p>
<p>to execute it. To run the command multiple times, pass the<b> -repeat</b> option,</p>
<p>followed by the number of repetitions.</p>
<p><b>STP, ARM</b></p>
<p><b>only;</b></p>
<p><b>available</b></p>
<p><b>only in</b></p>
<p><b>MPserv</b></p>
<p><b>trace_registers</b> [ on | off ]</p>
<p>Enables or disables support for trace registers. Should be used in combination</p>
<p>with<b> -no_trace_registers</b> argument. For information, see “Options for Custom</p>
<p>Connection Methods” on page 49.</p>
<p><b>MPserv</b></p>
<p><b>only</b></p>
<p><b>trace_state</b></p>
<p>Prints</p>
<p>1</p>
<p>if trace is supported and enabled. Otherwise prints</p>
<p>0</p>
<p>.</p>
<p><b>STP, PPC</b></p>
<p><b>405, 440,</b></p>
<p><b>and 460</b></p>
<p><b>only;</b></p>
<p><b>available</b></p>
<p><b>only in</b></p>
<p><b>MPserv</b></p>
<p><b>trace_triggers</b> [ on | off ]</p>
<p>Enables or disables support for trace triggers.</p>
<p>If no argument is specified, this command reports whether or not trace triggers</p>
<p>are enabled.</p>
<p>If you specify</p>
<p>on</p>
<p>:</p>
<p>•</p>
<p>all hardware and software breakpoints are disabled</p>
<p>•</p>
<p>you cannot set new breakpoints</p>
<p>•</p>
<p>before downloading your program, you must disable system calls with the</p>
<p>syscalls off</p>
<p>command</p>
<p>For more information, see “Using Triggers with PowerPC 405, 440, and 460”</p>
<p>on page 362.</p>
<p><b>Target-Specific Special Registers</b></p>
<p>The following sections provide detailed listings of target-specific special registers</p>
<p>that can be used with the<b> rr</b> and<b> rw</b> commands.</p>
<p><i>209</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target-Specific Special Registers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM</b></p>
<p>This section contains information about special registers for ARM targets.</p>
<p>If your target is an ARM 11, ARMv7-A, or ARMv7-R, you can use the<b> rr</b> and<b> rw</b></p>
<p>commands to access an arbitrary register that is not available by name. To do this,</p>
<p>follow the command with:</p>
<p><i>coproc</i>,<i>opcode_1</i>,<i>CRn</i>,<i>CRm</i>,[<i>opcode_2</i>]</p>
<p>Where<i> coproc</i>,<i> opcode_1</i>,<i> CRn</i>,<i> CRm</i>, and<i> opcode_2</i> refer to the same fields as an</p>
<p>ARM MCR or MRC instruction.</p>
<p>Only use this syntax if the a register is not available by name. If you use this syntax</p>
<p>with a register that is available by name, it might corrupt the register.</p>
<p>When using this syntax:</p>
<p>•</p>
<p>Do not put spaces between any of the arguments.</p>
<p>•</p>
<p>The maximum value for<i> opcode_1</i> and<i> opcode_2</i> is 7. The maximum value for</p>
<p>the other parameters is 15.</p>
<p>•</p>
<p>If you omit<i> opcode_2</i>, it defaults to zero.</p>
<p>For example, the following two commands are equivalent. They both read the</p>
<p>coprocessor 15 ID register:</p>
<p>rr cp15,0,c0,c0,0</p>
<p>rr p15,0,c0,c0</p>
<p>On ARM Cortex targets, you can use the<b> rr</b> and<b> rw</b> commands with the following</p>
<p>special registers. Such transactions are always 32-bit and must be 4-byte aligned.:</p>
<p>•</p>
<p>ahb[0x<i>addr</i>]</p>
<p>performs transactions on the AHB-AP.</p>
<p>•</p>
<p>apb[0x<i>addr</i>]</p>
<p>performs transactions on the APB-AP.</p>
<p>•</p>
<p>axi[0x<i>addr</i>]</p>
<p>performs transactions on the AXI-AP.</p>
<p>For example:</p>
<p>rr ahb[0x80024000]</p>
<p>Reads the value at address</p>
<p>0x80024000</p>
<p>on the AHB-AP.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>210</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Power Architecture</b></p>
<p>This section contains information about special registers for Power Architecture</p>
<p>targets.</p>
<p>On Power Architecture QorIQ targets, you can use<b> rr</b> and<b> rw</b> commands to directly</p>
<p>access CCSR space. To do this, follow the command with:</p>
<p>ccsr[0x<i>addr</i>]</p>
<p>When using this syntax:</p>
<p>•</p>
<p>You can add a suffix of</p>
<p>.1</p>
<p>,</p>
<p>.2</p>
<p>, or</p>
<p>.4</p>
<p>to specify the access size in bytes. If the</p>
<p>access size is not specified, the default is 4 bytes.</p>
<p>•</p>
<p>0x<i>addr</i></p>
<p>must be aligned to the access size.</p>
<p>For example:</p>
<p>rr ccsr[0xc14].4</p>
<p>Reads the 4-byte value at a</p>
<p>0xc14</p>
<p>offset into CCSR space. On the QorIQ P4080,</p>
<p>this is the LAW_LAWBARL1 register.</p>
<p><i>211</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Target-Specific Special Registers</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Test Commands</b></p>
<p><b>STPv3</b></p>
<p><b>Only</b></p>
<p><b>selftest</b></p>
<p>Runs diagnostic tests on the probe's trace components. These tests take several</p>
<p>seconds, and take longer for probes that have additional trace memory. If any of</p>
<p>the tests fail, ensure the pod is securely attached to the probe. If<b> selftest</b> still fails,</p>
<p>contact Green Hills Support.</p>
<p><b>Not for</b></p>
<p><b>BDM</b></p>
<p><b>(PowerPC</b></p>
<p><b>5xx,</b></p>
<p><b>PowerPC</b></p>
<p><b>8xx, and</b></p>
<p><b>ColdFire)</b></p>
<p><b>targets</b></p>
<p><b>vb</b> [<i>count</i>]</p>
<p>Verifies that the JTAG bypass register can be scanned properly. This test scans</p>
<p>several predefined patterns, and continues to scan in<i> count</i> number of random</p>
<p>patterns. The default value of<i> count</i> is 1000.</p>
<p>This is a good first step to verify that you have set up your system correctly, and</p>
<p>that the probe can communicate with the target.</p>
<p>Examples:</p>
<p>&gt;vb 512</p>
<p>Scans a test sequence and an additional 512 random values.</p>
<p><b>Not for</b></p>
<p><b>eTPU cores</b></p>
<p><b>vbp<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Tests software execution breakpoint control by writing a simple test program to</p>
<p>the target and executing it. This test verifies register and memory reads and writes</p>
<p>between every breakpoint.</p>
<p>This command takes the same arguments as the<b> vc</b> command. For more</p>
<p>information, see the<b> vc</b> documentation.</p>
<p><b>Not for</b></p>
<p><b>eTPU cores</b></p>
<p><b>vbph<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Tests hardware execution breakpoint control by writing a simple test program to</p>
<p>the target and executing it. This test verifies register and memory reads and writes</p>
<p>between every breakpoint.</p>
<p>This command takes the same arguments as the<b> vc</b> command. For more</p>
<p>information, see the<b> vc</b> documentation.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>212</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Not for</b></p>
<p><b>eTPU cores</b></p>
<p><b>vc<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Tests single instruction stepping, breakpoints, and asynchronous run/halt control</p>
<p>by writing a simple test program to the target and stepping through it. This test</p>
<p>verifies register and memory reads and writes between every operation.</p>
<p>Before performing this test, the probe checks to determine if the current state of</p>
<p>the target could interfere with the tests. If so, it lists a description of each issue</p>
<p>and aborts the test.</p>
<p>The<b> vc</b> command accepts the following arguments:</p>
<p>•</p>
<p><i>start_address</i> — A 1 KB area of memory to which the test program is written.</p>
<p>You must be able to read, write, and execute from this memory.</p>
<p>•</p>
<p><i>count</i> — The number of times to run the test. The default value is</p>
<p>1</p>
<p>. The</p>
<p>maximum value is</p>
<p>1000</p>
<p>.</p>
<p>It also accepts the following options (not available in the MULTI Debugger<b> Cmd</b></p>
<p>or<b> Target</b> panes):</p>
<p>•</p>
<p>-fix</p>
<p>— If any problems are found by the pre-test check, try to fix those</p>
<p>problems and run the test.</p>
<p>•</p>
<p>-i[<i>inc</i>]</p>
<p>— On each successive run, increase the address where the test is</p>
<p>performed by<i> inc</i>. If you do not specify<i> inc</i>, the address is incremented by</p>
<p>the size of the test program.</p>
<p>•</p>
<p>-ignore</p>
<p>— Do not abort the test when the pre-test check finds potential</p>
<p>problems.</p>
<p>•</p>
<p>-nocheck</p>
<p>— Do not perform the pre-test check.</p>
<p>For example:</p>
<p>&gt;vc 0xa0000000</p>
<p>Tests single instruction stepping, breakpoints and asynchronous run/halt control</p>
<p>on a test program loaded at</p>
<p>0xa0000000</p>
<p>&gt;vc 0x8000 0x10 -i0x100</p>
<p>Performs the test 16 times, starting at address</p>
<p>0x8000</p>
<p>and adding</p>
<p>0x100</p>
<p>to the</p>
<p>address on each subsequent test.</p>
<p><b>ve<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Verifies that the byte order (endianness) configuration setting matches the actual</p>
<p>setting on the target.</p>
<p>This command takes the same arguments as the<b> vc</b> command. For more</p>
<p>information, see the<b> vc</b> documentation.</p>
<p><i>213</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Test Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>STP only</b></p>
<p><b>vle</b></p>
<p>Verifies the communication link with the active trace pod. This command is</p>
<p>useful for ensuring that the probe can communicate with the active trace pod,</p>
<p>and that there are no loose connections or bad cables.</p>
<p>This command prints an error message if there is a problem with your SuperTrace</p>
<p>setup. If your cable, trace pod, and connection are functioning properly, the</p>
<p>command will not print anything.</p>
<p><b>vm</b> [<i>access_size</i>]<i> start_address length</i></p>
<p>Tests memory by writing a random sequence of values to the specified memory</p>
<p>range and then reading it back, comparing the values.</p>
<p>•</p>
<p><i>access_size</i> — Specifies the size, in bytes, of the memory accesses. If you</p>
<p>do not specify this argument, the probe uses a<i> block</i> access, which is the</p>
<p>fastest way to access memory. Because the size of a block access varies by</p>
<p>target and the access method may differ from normal accesses, only use it</p>
<p>if you want the test to be fast, but do not care how the access is performed.</p>
<p>•</p>
<p><i>start_address</i> — Specifies the first address in the memory range.</p>
<p>•</p>
<p><i>length</i> — A 32-bit value that specifies the number of bytes to test.</p>
<p>Examples:</p>
<p>&gt;vm 0xa0000000 0x10000</p>
<p>Tests memory</p>
<p>0xa0000000</p>
<p>to</p>
<p>0xa000ffff</p>
<p>.</p>
<p>&gt;vm 1 0x0 0x7fff</p>
<p>Tests byte access</p>
<p>0x0</p>
<p>to</p>
<p>0x8000</p>
<p>.</p>
<p><b>vr</b> [<i>$count</i>]</p>
<p>Verifies that the processor's general purpose registers can be read and written</p>
<p>properly. This test writes random values into the general purpose registers, reads</p>
<p>the values back, and verifies that the values read back match the values written.</p>
<p>This test requires that the target is halted. It is a good test after<b> vb</b> to verify that</p>
<p>more complicated probe-target communications are working. It is simpler than</p>
<p>the<b> vm</b> test because it does not require any memory to be present or initialized.</p>
<p>The optional argument<i> $count</i> specifies the number of times the test is run. The</p>
<p>default value is 1.</p>
<p>Examples:</p>
<p>vr 50</p>
<p>Performs the test 50 times. Each test uses a different set of random values to write</p>
<p>to the registers for verification.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>214</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Not for</b></p>
<p><b>eTPU cores</b></p>
<p><b>vrh<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Verifies asynchronous run/halt control by writing a test program to memory and</p>
<p>executing it. This test verifies register and memory reads and writes between</p>
<p>every run and halt sequence.</p>
<p>This command takes the same arguments as the<b> vc</b> command. For more</p>
<p>information, see the<b> vc</b> documentation.</p>
<p><b>Not for</b></p>
<p><b>eTPU cores</b></p>
<p><b>vsi<i></b> start_address</i> [<i> count</i> [-i[<i>inc</i>]] | -fix | -ignore | -nocheck ]</p>
<p>Tests single instruction stepping by writing a simple test program to the target</p>
<p>and stepping through it. This test verifies register and memory reads and writes</p>
<p>between every step.</p>
<p>This command takes the same arguments as the<b> vc</b> command. For more</p>
<p>information, see the<b> vc</b> documentation.</p>
<p><b>vta</b></p>
<p>Verifies that the correct target adapter is connected and that all required pins can</p>
<p>be controlled and monitored. You may have to disconnect the ribbon cable from</p>
<p>the target system for accurate results.</p>
<p><b>Specifying Numbers with Green Hills Debug Probe Commands</b></p>
<p>For many Green Hills Debug Probe commands, you can specify numbers in regular</p>
<p>decimal form (for example,</p>
<p>1024</p>
<p>) or in hexadecimal form with a leading</p>
<p>0x</p>
<p>(for</p>
<p>example,</p>
<p>0x400</p>
<p>). Decimal and hexadecimal numbers can be as large as your</p>
<p>application requires. Leading zeros in hexadecimal numbers are significant. For</p>
<p>example,</p>
<p>0x01234_5678</p>
<p>is considered a 36-bit number, and would be rejected in</p>
<p>a context that requires a 32-bit number.</p>
<p>To make numbers less cumbersome, you can use the special fill digits</p>
<p>h</p>
<p>(for high)</p>
<p>and</p>
<p>z</p>
<p>(for zero) when the number of bits of a number is known (for example, when</p>
<p>specifying a register value).</p>
<p>In some circumstances, you may also need to use delimiters with these fill digits to</p>
<p>avoid ambiguities. For instance, you cannot replace both the</p>
<p>0</p>
<p>s and</p>
<p>1</p>
<p>s in the number</p>
<p>0xa001ffff</p>
<p>with</p>
<p>z</p>
<p>s and</p>
<p>h</p>
<p>s, because this would be ambiguous. To overcome this</p>
<p>problem, place delimiters in the number. You can place an underscore (</p>
<p>_</p>
<p>) every 16</p>
<p>bits, and a colon (</p>
<p>:</p>
<p>) every 32 bits.</p>
<p>The subsequent table demonstrates the use of fill digits and delimiters to provide</p>
<p>shorthand representations of hexadecimal numbers.</p>
<p><i>215</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Specifying Numbers with Green Hills Debug Probe Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Number with fill digits</b></p>
<p><b>and delimiters</b></p>
<p><b>Hexadecimal number</b></p>
<p>0xaz</p>
<p>0xa0000000</p>
<p>0xaz1ffff</p>
<p>0xa001ffff</p>
<p>0xa001h</p>
<p>0xa001ffff</p>
<p>0xaz1_h</p>
<p>0xa001ffff</p>
<p>0xh:a001z</p>
<p>0xffffffffa0010000</p>
<p><b>Data Types for Green Hills Debug Probe Commands</b></p>
<p>Some of the Green Hills Debug Probe commands use specific range and bitfield</p>
<p>types, which are described in the following.</p>
<p><b>Range Type</b></p>
<p>The syntax:</p>
<p>[x][..][y] | *</p>
<p>specifies an inclusive range of unsigned integers from</p>
<p>x</p>
<p>to</p>
<p>y</p>
<p>.</p>
<p>x</p>
<p>must be less than</p>
<p>or equal to</p>
<p>y</p>
<p>, and both</p>
<p>x</p>
<p>and</p>
<p>y</p>
<p>are unsigned integers. If</p>
<p>x</p>
<p>is omitted,</p>
<p>x = 0</p>
<p>is</p>
<p>assumed. If</p>
<p>y</p>
<p>is omitted, the highest possible value is assumed for</p>
<p>y</p>
<p>.</p>
<p>Using an asterisk in place of the</p>
<p>[x][..][y]</p>
<p>syntax specifies a range containing</p>
<p>all possible values.</p>
<p>A single number is used to specify a range of one value.</p>
<p>The following table lists several examples that demonstrate the syntax for specifying</p>
<p>ranges. These examples assume a 32-bit range.</p>
<p><b>Meaning</b></p>
<p><b>Syntax</b></p>
<p>3, 4, 5</p>
<p>3..5</p>
<p>invalid range</p>
<p>3.5</p>
<p>invalid range</p>
<p>3...5</p>
<p>invalid range</p>
<p>5..3</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>216</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Meaning</b></p>
<p><b>Syntax</b></p>
<p>3</p>
<p>3..3</p>
<p>3</p>
<p>3</p>
<p>0, 1, 2, 3, 4, 5, 6, 7</p>
<p>..7</p>
<p>18, 19, 20, ... 4294967295</p>
<p>18..</p>
<p>0, 1, 2, 3, ... 4294967295</p>
<p>*</p>
<p><b>Bitfield Types</b></p>
<p>The syntax:</p>
<p><i>number</i> |<i> key</i>[=<i>value</i>][,<i>key</i>[=<i>value</i>]...]</p>
<p>specifies a value and is typically used with commands for writing cache and TLB</p>
<p>tags. The value can be specified numerically (with the<i> number</i> argument), or with</p>
<p>a set of comma-separated keys that correspond to individual bitfields. Keys not</p>
<p>specified default to</p>
<p>0</p>
<p>. Key names are case-insensitive.</p>
<p>The bitfield keys are specific to each command and each CPU architecture. For</p>
<p>CPU-specific bit information, see Appendix C, “CPU-Specific Bit Tables”</p>
<p>on page 299.</p>
<p><b>Example 5.2. Bitfields and Bit Positions</b></p>
<p>The PowerPC 440's TLB virtual tags consist of the following bitfields and bit</p>
<p>positions.</p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>SR</p>
<p>0</p>
<p>SW</p>
<p>1</p>
<p>SX</p>
<p>2</p>
<p>UR</p>
<p>3</p>
<p>UW</p>
<p>4</p>
<p>UX</p>
<p>5</p>
<p>E</p>
<p>6</p>
<p>G</p>
<p>7</p>
<p><i>217</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Data Types for Green Hills Debug Probe Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>M</p>
<p>8</p>
<p>I</p>
<p>9</p>
<p>W</p>
<p>10</p>
<p>TID</p>
<p>12..19</p>
<p>SIZE</p>
<p>20..23</p>
<p>TS</p>
<p>24</p>
<p>V</p>
<p>25</p>
<p>These bit positions do not correspond to actual TLB virtual tag bit positions. They</p>
<p>are translated by the probe to the actual hardware's bit positions when written.</p>
<p>The key specification:</p>
<p>v,!ts,size=0x9,tid=0x0,!w,i,m,g,!e,ux,uw,ur,sx,sr,sr</p>
<p>corresponds to a number value of</p>
<p>0x29003bf</p>
<p>.</p>
<p><b>Other Green Hills Debug Server Commands</b></p>
<p>In addition to the commands described in “Green Hills Debug Probe Commands”</p>
<p>on page 174, the Green Hills Probe also accepts the generic Green Hills debug server</p>
<p>commands listed in this section.</p>
<p>You can enter all of the commands listed below directly into the<b> mpserv Target</b></p>
<p>pane. You can also enter these commands into the MULTI Debugger command</p>
<p>pane using the<b> target</b> command. These commands cannot be entered through telnet</p>
<p>or a serial terminal. All of the Green Hills debug server commands are</p>
<p>case-insensitive.</p>
<p><b>Generic Debug Server Commands</b></p>
<p>You can enter all of these commands directly into the debug server<b> Target</b> pane.</p>
<p>You can also enter these commands into the MULTI Debugger command pane</p>
<p>using the<b> target</b> command. All of the Green Hills debug server commands are</p>
<p>case-insensitive.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>218</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>addressof<i></b> symbol</i></p>
<p>Returns the address of<i> symbol</i>. This command requires that an image be loaded in the MULTI</p>
<p>Debugger.</p>
<p><b>amask</b> [<i>mask</i>] [<i>value</i>]</p>
<p>If no arguments are specified, the current settings of the download mask and value are displayed.</p>
<p>The default settings of<i> mask</i> and<i> value</i> are</p>
<p>0xffffffffffffffff</p>
<p>and</p>
<p>0</p>
<p>, respectively.</p>
<p>If<i> mask</i> and<i> value</i> are specified,<b> amask</b> sets the download mask and value to<i> mask</i> and<i> value</i>.</p>
<p>When<b> mpserv</b> downloads a program, it will bitwise AND<i> mask</i> and bitwise OR<i> value</i> with the</p>
<p>download addresses, as follows:</p>
<p><i>address</i> = (<i>address</i> &amp;<i> mask</i>) |<i> value</i></p>
<p>The<b> amask</b> command is useful for shifting download target addresses without relinking a</p>
<p>program. However, the program being downloaded still retains its original relocations and might</p>
<p>not run correctly at its new destination address without further support on the target.</p>
<p><b>close<i></b> fd</i></p>
<p>Closes the specified file descriptor,<i> fd</i>.</p>
<p><b>debug<i></b> n</i></p>
<p>Sets the debugging bit flags.</p>
<p>Do not use this command unless directed to do so by Green Hills Technical Support.</p>
<p><b>delrange<i></b> addr</i></p>
<p>Deletes a checked address range starting at<i> addr</i>. See<b> setrange</b> for more information about</p>
<p>checked memory ranges.</p>
<p><b>delrangeall</b></p>
<p>Deletes all checked address ranges. See<b> setrange</b> for more information about checked memory</p>
<p>ranges.</p>
<p><b>echo</b> [ on | off ]</p>
<p>If no argument is specified, the current echo mode is printed.</p>
<p>If<b> on</b> or<b> off</b> is specified, printing of commands executed in a script are enabled or disabled.</p>
<p><b>fprint<i></b> fd string</i></p>
<p>Prints<i> string</i> to the specified file,<i> fd</i>, with script variable expansion.</p>
<p><b>fprintb<i></b> fd integer</i></p>
<p>Prints<i> integer</i> to the specified file,<i> fd</i>, in binary mode.</p>
<p><b>fread<i></b> fd identifier</i></p>
<p>Reads one line of text from the specified file,<i> fd</i>. The line is stored as a variable with the specified</p>
<p><i>identifier</i>. The number of bytes read is returned. If there is an error,</p>
<p>-1</p>
<p>is returned.</p>
<p><i>219</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>freadb<i></b> fd identifier</i></p>
<p>Reads an integer from the specified file,<i> fd</i>, in binary mode. The integer is stored as a variable</p>
<p>with the specified<i> identifier</i>. The number of bytes read is returned. If there is an error,</p>
<p>-1</p>
<p>is</p>
<p>returned.</p>
<p><b>getenv<i></b> envName identifier</i></p>
<p>Stores the value of the environment variable,<i> envName</i>, in the script variable with the specified</p>
<p>identifier.</p>
<p><b>help</b> [<i> command</i> |<i> group</i> ]</p>
<p>If no argument is specified, general help information and instructions for finding more detailed</p>
<p>and specific help is printed.</p>
<p>If a<i> command</i> is specified, detailed help information about the specified<i> command</i> is printed.</p>
<p>If a<i> group</i> is specified, a list of all of the commands in the group with information about the</p>
<p>arguments each command takes is printed. Valid command groups include<b> target</b>,<b> server</b>, and</p>
<p><b>scripting</b>.</p>
<p>Example 1:</p>
<p>&gt; help server</p>
<p>help [&lt;command&gt; | &lt;group&gt;]</p>
<p>debug &lt;n&gt;</p>
<p>playdead</p>
<p>Example 2:</p>
<p>&gt; help help</p>
<p>help [&lt;command&gt; | &lt;group&gt;]</p>
<p>Prints help information</p>
<p><b>listrange</b></p>
<p>Lists all checked ranges. See<b> setrange</b> for more information about checked memory ranges.</p>
<p><b>listvars</b></p>
<p>Prints all variable identifiers in no particular order.</p>
<p>Example:</p>
<p>&gt; str1=&quot;foo&quot;</p>
<p>&gt; str2=&quot;bar&quot;</p>
<p>&gt; i=100</p>
<p>&gt; listvars</p>
<p>i</p>
<p>str1</p>
<p>str2</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>220</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>load</b> [all] [text] [data] [bss]</p>
<p>If no argument is specified: Displays the current<b> load</b> settings.</p>
<p>If one or more arguments are specified,<b> load</b> instructs which sections to include in host-to-target</p>
<p>downloads.</p>
<p>.text</p>
<p>sections contain code,</p>
<p>.data</p>
<p>sections contain initialized variables, and</p>
<p>.bss</p>
<p>sections contain uninitialized data. Setting the<b> all</b> option includes all of these sections in the</p>
<p>download.</p>
<p>You can combine the<b> load</b> command with the<b> noload</b> command.</p>
<p>Green Hills startup code clears all</p>
<p>.bss</p>
<p>sections so you do not need to download them. In most</p>
<p>cases, the default setting is</p>
<p>text data</p>
<p>, but the default varies according to your debug server.</p>
<p>Standard Example:</p>
<p>&gt; load all</p>
<p>Download Options: text data bss</p>
<p>Advanced Example:</p>
<p>&gt; load all noload bss</p>
<p>Download Options: text data</p>
<p><b>m</b> [-d<i>size</i>]<i> address</i>[=<i>val</i>]</p>
<p>If</p>
<p>=<i>val</i></p>
<p>is not specified, the indicated memory<i> address</i> on the target is read.</p>
<p>If</p>
<p>=<i>val</i></p>
<p>is specified,<i> val</i> to the specified memory<i> address</i>on the target is written.</p>
<p>Memory addresses and values must be specified in hexadecimal (with or without a leading</p>
<p>0x</p>
<p>).</p>
<p>The optional<b> -d</b> argument can be used to set the access size to byte (<b>-d1</b>), short (<b>-d2</b>), or long</p>
<p>(<b>-d4</b>). The default is<b> -d4</b>.</p>
<p>Examples:</p>
<p>&gt; m 1000</p>
<p>7ca62b78</p>
<p>&gt; m 1000=12345678</p>
<p>&gt; m -d2 1000</p>
<p>1234</p>
<p><b>nofail<i></b> command</i></p>
<p>Executes the specified<i> command</i> and always returns success.</p>
<p><i>221</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>noload</b> [all] [text] [data] [bss]</p>
<p>If no argument is specified, the current<b> noload</b> settings are displayed.</p>
<p>If one or more arguments are specified,<b> noload</b> specifies which sections to exclude from</p>
<p>host-to-target downloads.</p>
<p>.text</p>
<p>sections contain code,</p>
<p>.data</p>
<p>sections contain initialized</p>
<p>variables, and</p>
<p>.bss</p>
<p>sections contain uninitialized data. Setting the<b> all</b> option excludes all of</p>
<p>these sections from the download.</p>
<p>Use the command<b> noload bss</b> to exclude</p>
<p>.bss</p>
<p>sections from downloads. These sections are</p>
<p>cleared to all zeros by programs compiled with Green Hills tools; therefore, downloading them</p>
<p>to the target is usually unnecessary.</p>
<p><b>open<i></b> file</i></p>
<p>Opens the specified<i> file</i> for writing and returns a file descriptor.</p>
<p><b>print<i></b> string</i></p>
<p>Prints<i> string</i> with script variable expansion.</p>
<p>Example:</p>
<p>&gt; print Test</p>
<p>Test</p>
<p><b>random<i></b> max</i></p>
<p>Generates and returns a pseudo-random number between</p>
<p>0</p>
<p>and</p>
<p><i>max</i>-1</p>
<p>.</p>
<p><b>reg</b> [<i>reg</i> [<i>=val</i>]]</p>
<p>Reads or writes to the specified registers.</p>
<p>If no arguments are specified: Lists the names and values of all target registers.</p>
<p>If a register name is specified: Prints the value of the specified register.</p>
<p>If a value (</p>
<p>=<i>val</i></p>
<p>) is specified for a register: Sets the register to the specified value. Values should</p>
<p>be given in hexadecimal form with no leading</p>
<p>0x</p>
<p>.</p>
<p>Example:</p>
<p>reg r1</p>
<p>reg r1 is 0x0001a000</p>
<p>&gt; reg r1=1</p>
<p>reg r1 is now 0x00000001</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>222</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>regnum<i></b> reg</i>[=<i>val</i>]</p>
<p>If =<i>val</i> is not specified, the specified register,<i> reg</i> is read and returned.</p>
<p>If</p>
<p>=<i>val</i></p>
<p>is specified,<b> regnum</b> writes<i> val</i> to the specified register,<i> reg</i>.</p>
<p>Registers are specified by MULTI register number and values in hexadecimal with no leading</p>
<p>0x</p>
<p>.</p>
<p>Example:</p>
<p>&gt; regnum 0=deadbeef</p>
<p>&gt; regnum 0</p>
<p>Register 0=deadbeef</p>
<p><b>rg<i></b> regname</i>[=<i>val</i>]</p>
<p>If<i> val</i> is not specified: Reads and returns the specified register,<i> regname</i>.</p>
<p>If<i> val</i> is specified: Writes<i> val</i> to the specified register,<i> regname</i>.</p>
<p><b>script<i></b> file</i></p>
<p>Executes the commands in the specified script file,<i> file</i>, as if they were typed in line by line.</p>
<p><b>setrange<i></b> addr length</i></p>
<p>Sets a checked address range beginning at<i> addr</i> and extending for<i> length</i> bytes.</p>
<p>A checked address range is a range of addresses that are considered inaccessible. Any memory</p>
<p>access, read, or write to a checked address range can fail.</p>
<p>The<b> setrange</b> command is useful for restricting access to target memory that might be sensitive</p>
<p>or volatile.</p>
<p><b>setup<i></b> file</i></p>
<p>Specifies a script file,<i> file</i>, to be automatically run immediately prior to every host-to-target</p>
<p>download.</p>
<p>This<b> setup</b> command functions differently than the Green Hills Probe<b> setup</b> command.</p>
<p><b>sleep<i></b> n</i></p>
<p>Suspends<b> mpserv</b> for<i> n</i> seconds.</p>
<p><i>223</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Debug Server Commands</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>status</b></p>
<p>Prints and returns the current status of<b> mpserv</b> using the following status codes:</p>
<p>0 Running</p>
<p>1 Stopped by breakpoint</p>
<p>2 Single step completed</p>
<p>3 Exception</p>
<p>4 Halted</p>
<p>5 Process exited</p>
<p>6 Process terminated</p>
<p>7 No process</p>
<p>8 (Unassigned)</p>
<p>9 Stopped by hardware breakpoint</p>
<p>10 Failure</p>
<p>11 Process ready to run</p>
<p>12 Host system call in progress</p>
<p>13 Target reset</p>
<p><b>step</b></p>
<p>Single steps the target CPU from the current program counter location.</p>
<p><b>undef<i></b> variable</i></p>
<p>Removes<i> variable</i> and releases any memory associated with it.</p>
<p>Example:</p>
<p>&gt; x=5</p>
<p>&gt; undef x</p>
<p>&gt; print $x</p>
<p>Error: variable undefined!</p>
<p><b>Green Hills Probe and SuperTrace Probe Terminal Prompts</b></p>
<p>At a terminal prompt, a probe indicates the target's type, position in the scan chain,</p>
<p>and current status. Commands are directed to the core identified by the prompt. The</p>
<p>command line prompt for single-core target systems is:</p>
<p><i>coretype</i>[<i>status</i>]</p>
<p>The command line prompt for multi-core target systems uses the following syntax:</p>
<p><i>coretype</i>[<i>position</i>,<i>status</i>]</p>
<p>where:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>224</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><i>coretype</i> indicates the CPU core type.</p>
<p>•</p>
<p><i>position</i> indicates the position in the JTAG scan, with</p>
<p>0</p>
<p>indicating the first</p>
<p>position (for multi-core systems only).</p>
<p>•</p>
<p><i>status</i> indicates the current status. Values for<i> status</i> are listed in the table below.</p>
<p><b>Meaning</b></p>
<p><b>Value of<i> status</b></i></p>
<p>The status of the target is currently unknown, either because the</p>
<p>probe has not requested target information or because an error has</p>
<p>occurred.</p>
<p><b>?</b></p>
<p>The target is not in a recognizable state. This can be caused by</p>
<p>incorrect probe configuration or faulty hardware.</p>
<p><b>!</b></p>
<p>The target is currently held in reset, meaning that the probe was</p>
<p>attempting to reset and halt the processor, but the processor appeared</p>
<p>to stay in reset instead of entering debug mode.</p>
<p>This status is common on systems with multiple processors, where</p>
<p>a primary processor resets successfully, but the other processors are</p>
<p>held in reset until they are released by software running on the</p>
<p>primary processor.</p>
<p><b>-</b></p>
<p>The target is powered off.</p>
<p><b>x</b></p>
<p>The target is currently halted because of a hardware execution</p>
<p>breakpoint or data watchpoint.</p>
<p><b>B</b></p>
<p>The probe has requested that the target resume, but the target had</p>
<p>not successfully left debugging mode when the probe last queried</p>
<p>for the target status.</p>
<p><b>C</b></p>
<p>Target is currently halted because of an unknown exception.</p>
<p><b>E</b></p>
<p>The probe has requested that the target halt, but the target had not</p>
<p>successfully entered debugging mode when the probe last queried</p>
<p>for the target status.</p>
<p><b>H</b></p>
<p>The target is currently stopped at the reset vector after a reset.</p>
<p><b>R</b></p>
<p>The target is busy and status cannot be received.</p>
<p><b>Y</b></p>
<p>The target is currently halted because of a software breakpoint.</p>
<p><b>b</b></p>
<p>The target is running under control of the probe.</p>
<p><b>c</b></p>
<p>The target is running freely. (This can occur if the target is reset</p>
<p>external to the probe.)</p>
<p><b>f</b></p>
<p>The target is currently halted because of a halt request from the probe.</p>
<p><b>h</b></p>
<p>The target is not connected and the pins are tri-stated.</p>
<p><b>n</b></p>
<p><i>225</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Probe and SuperTrace Probe Terminal Prompts</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Meaning</b></p>
<p><b>Value of<i> status</b></i></p>
<p>The target is currently halted after completing a single instruction</p>
<p>step.</p>
<p><b>s</b></p>
<p><b>Example 5.3. Terminal Prompt for Single-Core Target</b></p>
<p>The terminal prompt:</p>
<p>mips32_4kep[h] %</p>
<p>indicates that the probe is connected to a single MIPS Technologies MIPS32 4KEp</p>
<p>core that is presently halted.</p>
<p><b>Example 5.4. Terminal Prompt for a Multi-Core Target</b></p>
<p>The terminal prompt:</p>
<p>arm7tdmi[0,b] %</p>
<p>indicates that probe commands are directed to the ARM7TDMI core, which is the</p>
<p>first device in the scan chain and is currently halted because of a software breakpoint.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>226</i></p>
<p><i>Chapter 5. Probe Command Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix A</b></p>
<p><b>Legacy Scripting Reference</b></p>
<p><b>Contents</b></p>
<p>The Green Hills Debug Server Scripting Language . . . . . . . . . . . . . . . . . . . . .</p>
<p>228</p>
<h1 style="page-break-before:always; "></h1>
<p>This chapter documents the legacy Green Hills debug server scripting language.</p>
<p><b>The Green Hills Debug Server Scripting Language</b></p>
<p>In addition to the commands listed in “Generic Debug Server Commands”</p>
<p>on page 218, a full scripting language is available from the<b> mpserv</b> command line.</p>
<p>You can run scripts by:</p>
<p>•</p>
<p>Entering scripts one line at a time at the command prompt. When entering a</p>
<p>script line by line, nothing is executed until the top-level enclosing<b> while</b> or<b> if</b></p>
<p>statement is terminated.</p>
<p>•</p>
<p>Storing commands in a script file and then running the file using the<b> script</b></p>
<p>command.</p>
<p>•</p>
<p>Storing commands in a script file and then using the<b> -setup</b> option or<b> setup</b></p>
<p>command (or the<b> Target Setup Script</b> field in some Connection Editors) to</p>
<p>ensure that the script file is automatically executed immediately prior to every</p>
<p>host-to-target download.</p>
<p><b>General Notes</b></p>
<p>When writing scripts, keep the following points in mind:</p>
<p>•</p>
<p>There can be no more than one statement per line.</p>
<p>•</p>
<p>Any line that has the</p>
<p>#</p>
<p>character as the first non-whitespace character is treated</p>
<p>as a comment.</p>
<p>•</p>
<p>Variables do not need to be declared before they are used.</p>
<p>•</p>
<p>Variable types are determined automatically. For example, an identifier that is</p>
<p>bound to an integer variable can later be assigned to a string variable.</p>
<p>•</p>
<p>Variable and function names are not case-sensitive.</p>
<p><b>Scripting Syntax</b></p>
<p>The following sections describe and give examples of some features of the Green</p>
<p>Hills debug server scripting language.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>228</i></p>
<p><i>Appendix A. Legacy Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Expressions</b></p>
<p>Expressions in the Green Hills debug server scripting language are similar to C</p>
<p>language expressions. Unlike C, each operator has its own precedence (</p>
<p>10/2*5</p>
<p>evaluates to 1, not 25), and there are no unary operators (such as</p>
<p>~</p>
<p>and unary</p>
<p>-</p>
<p>).</p>
<p>The following table contains, in order of precedence, the valid operators you can</p>
<p>use in expressions. Note that a string is treated like an integer if it contains a string</p>
<p>representation of an integer.</p>
<p><b>String Function</b></p>
<p><b>Integer Function</b></p>
<p><b>Operator</b></p>
<p>Grouping of operators to ensure desired</p>
<p>evaluation</p>
<p>Grouping of operators to ensure</p>
<p>desired evaluation</p>
<p>( )</p>
<p>Invalid</p>
<p>Multiplication</p>
<p>*</p>
<p>Invalid</p>
<p>Division</p>
<p>/</p>
<p>Invalid</p>
<p>Modulus</p>
<p>%</p>
<p>Concatenation</p>
<p>Addition</p>
<p>+</p>
<p>Invalid</p>
<p>Subtraction</p>
<p>-</p>
<p>Invalid</p>
<p>Bitwise left shift</p>
<p>&lt;&lt;</p>
<p>Invalid</p>
<p>Bitwise right shift</p>
<p>&gt;&gt;</p>
<p>Alphabetic less than</p>
<p>Less than</p>
<p>&lt;</p>
<p>Alphabetic less than or equal to</p>
<p>Less than or equal to</p>
<p>&lt;=</p>
<p>Alphabetic greater than</p>
<p>Greater than</p>
<p>&gt;</p>
<p>Alphabetic greater than or equal to</p>
<p>Greater than or equal to</p>
<p>&gt;=</p>
<p>Equality test</p>
<p>Equality test</p>
<p>==</p>
<p>Inequality test</p>
<p>Inequality test</p>
<p>!=</p>
<p>Invalid</p>
<p>Bitwise AND</p>
<p>&amp;</p>
<p>Invalid</p>
<p>Bitwise XOR</p>
<p>^</p>
<p>Invalid</p>
<p>Bitwise OR</p>
<p>|</p>
<p>Invalid</p>
<p>Logical AND</p>
<p>&amp;&amp;</p>
<p>Invalid</p>
<p>Logical OR</p>
<p>||</p>
<p><b>Assignments</b></p>
<p>The syntax for an assignment is:</p>
<p><i>229</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Scripting Syntax</i></p>
<h1 style="page-break-before:always; "></h1>
<p><i>identifier</i> =<i> expression</i></p>
<p>The<i> expression</i> is evaluated and the result is stored as a variable with the given</p>
<p><i>identifier</i>. String, integer, and array variables are supported. Identifiers can contain</p>
<p>alphanumeric characters and the underscore (</p>
<p>_</p>
<p>) character, but cannot begin with a</p>
<p>number, or have the same name as a command.</p>
<p><b>Arrays</b></p>
<p>Arrays are indexed lists of variables. Each cell in an array can contain a string, an</p>
<p>integer, or an array. Array indexing begins with the index</p>
<p>0</p>
<p>. An array can be created</p>
<p>by assigning an entire array to an identifier or by assigning a string, an integer, or</p>
<p>an array to one cell of an array. To reference a cell, follow the array identified by</p>
<p>the index contained in square brackets. If an array cell contains another array, the</p>
<p>elements in the second array are accessed by appending an additional index in square</p>
<p>brackets. The following example demonstrates the various methods of array access.</p>
<p>endl=&quot;\n&quot;</p>
<p>bar[3] = 42</p>
<p>foo = { bar, 7, &quot;hello&quot; }</p>
<p>print $foo[2] world.$endl</p>
<p>if(foo[0][3]==bar[2+1])</p>
<p>print Array indexing works.$endl</p>
<p>endif</p>
<p>Arrays are dynamically allocated in a sparse fashion. For example, making an</p>
<p>assignment to</p>
<p>foo[0]</p>
<p>and then to</p>
<p>foo[100]</p>
<p>only allocates two array cells, and</p>
<p>no space is used for the undefined array cells 1 through 99. After an array element</p>
<p>has been allocated, it can only be deallocated by using the<b> undef</b> command on the</p>
<p>top-level array identifier.</p>
<p><b>Conditionals</b></p>
<p>The following table explains the syntax for conditionals.</p>
<p><b>Effect</b></p>
<p><b>Syntax</b></p>
<p>If<i> expression</i> evaluates to zero, nothing happens. Otherwise, the block</p>
<p>of statements between the<b> if</b> and<b> endif</b> lines are executed.</p>
<p><b>if<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>endif</b></p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>230</i></p>
<p><i>Appendix A. Legacy Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Effect</b></p>
<p><b>Syntax</b></p>
<p>If<i> expression</i> evaluates to zero, the debug server executes the block</p>
<p>of statements between the<b> else</b> and<b> endif</b> lines. Otherwise, the block</p>
<p>of statements between the<b> if</b> and<b> else</b> lines are executed.</p>
<p><b>if<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>else</b></p>
<p><i>statements</i></p>
<p><b>endif</b></p>
<p>If<i> expression1</i> does not evaluate to zero, the debug server executes</p>
<p>the block of statements between the<b> if</b> and<b> elif</b> lines.</p>
<p>If<i> expression1</i> does evaluate to zero and<i> expression2</i> does not evaluate</p>
<p>to zero, the debug server executes the block of statements between</p>
<p>the<b> elif</b> and<b> endif</b> lines.</p>
<p>If both<i> expression1</i> and<i> expression2</i> evaluate to zero, the debug server</p>
<p>continues evaluating each of the subsequent<b> elif</b> expressions (if any)</p>
<p>that occur before the<b> endif</b> statement and will execute the block of</p>
<p>statement associated with each<b> elif</b> that does not evaluate to zero.</p>
<p>If none of the<b> elif</b> expressions evaluates to non-zero, the debug server</p>
<p>will not execute anything.</p>
<p><b>if<i> expression1</b></i></p>
<p><i>statements</i></p>
<p><b>elif<i> expression2</b></i></p>
<p><i>statements</i></p>
<p>[<b>elif<i> expressionX</b></i></p>
<p><i>statements</i>]...</p>
<p><b>endif</b></p>
<p><b>Loops</b></p>
<p>The following table explains the syntax for loops.</p>
<p><b>Effect</b></p>
<p><b>Syntax</b></p>
<p>The statements between the<b> while</b> and<b> endwhile</b> lines are executed</p>
<p>as long as<i> expression</i> does not evaluate to zero.</p>
<p><b>while<i> expression</b></i></p>
<p><i>statements</i></p>
<p><b>endwhile</b></p>
<p>The statements between<b> do</b> and<b> while</b> are executed one time, then</p>
<p>continue to execute as long as<i> expression</i> does not evaluate to zero.</p>
<p><b>do</b></p>
<p><i>statements</i></p>
<p><b>dowhile<i> expression</b></i></p>
<p>Be careful to avoid infinite loops. If an infinite loop occurs, you must shut down</p>
<p>and restart the debug server.</p>
<p><i>231</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Scripting Syntax</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Variable Expansion</b></p>
<p>To use script variables as arguments to Green Hills debug server commands, you</p>
<p>must prepend the variable name with one or two</p>
<p>$</p>
<p>characters.</p>
<p>•</p>
<p>To pass a variable to a command in its default text representation, prepend the</p>
<p>variable name with a single</p>
<p>$</p>
<p>character. This passes a decimal string for integer</p>
<p>variables and passes the string itself for string variables. Integers are expanded</p>
<p>as two's complement signed 32-bit integers. An entire array cannot be given</p>
<p>as an argument to a command.</p>
<p>•</p>
<p>To pass an integer variable to a command as a hexadecimal string, prepend the</p>
<p>variable name with two</p>
<p>$</p>
<p>characters. Use this method with commands such as</p>
<p><b>m</b> that require arguments in hexadecimal form. The hexadecimal string does</p>
<p>not include a leading</p>
<p>0x</p>
<p>.</p>
<p>Variable expansion must be unambiguous. The script parser attempts to use the</p>
<p>longest legal identifier name following the</p>
<p>$</p>
<p>character. In the following example,</p>
<p>the user has attempted to print the string</p>
<p>bar</p>
<p>after the expansion of the variable</p>
<p>foo</p>
<p>. The parser interprets this as printing the value of the variable</p>
<p>foobar</p>
<p>and</p>
<p>reports that the variable is not defined:</p>
<p>&gt;foo=&quot;foo&quot;</p>
<p>&gt;print $foobar</p>
<p>Error: variable undefined!</p>
<p><b>Example Scripts</b></p>
<p>You can use the following examples of the Green Hills debug server scripting</p>
<p>language as a guide when writing your own scripts.</p>
<p><b>Example A.1. Testing Script File Access in ASCII Mode</b></p>
<p>For this example, assume that the file<b> test.ascii</b> contains the following text:</p>
<p>This is a test of script file access in ascii mode.</p>
<p>This should print 3 lines of which this is the second.</p>
<p>And this is the third.</p>
<p>The following script commands access the file<b> test.ascii</b>:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>232</i></p>
<p><i>Appendix A. Legacy Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p>file = open test.ascii</p>
<p>filecontents=&quot;&quot;</p>
<p>totalchars=0</p>
<p>while(numlinechars=fread file line)</p>
<p>filecontents=filecontents+line</p>
<p>totalchars=totalchars+numlinechars</p>
<p>endwhile</p>
<p>close file</p>
<p>endl=&quot;\n&quot;</p>
<p>print Read: $filecontents$endl</p>
<p>print Total of $totalchars characters read.$endl</p>
<p>The output of this example script on a Linux/Solaris host is:</p>
<p>Read: This is a test of script file access in ascii mode.</p>
<p>This should print 3 lines of which this is the second.</p>
<p>And this is the third.</p>
<p>Total of 130 characters read.</p>
<p><b>Example A.2. Accessing a File</b></p>
<p>The following script is another example of accessing a file:</p>
<p>i=100</p>
<p>file = open temp.bin</p>
<p>while(i&gt;0)</p>
<p>fprintb file $i</p>
<p>i=i-1</p>
<p>endwhile</p>
<p>close file</p>
<p>file = open temp.bin</p>
<p>sum=0</p>
<p>while(freadb file i)</p>
<p>sum=sum+i</p>
<p>endwhile</p>
<p>close file</p>
<p>endl=&quot;\n&quot;</p>
<p>print The numbers between 1 and 100 sum to $sum!$endl</p>
<p>The output of this example script is:</p>
<p>The numbers between 1 and 100 sum to 5050!</p>
<p><i>233</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Example Scripts</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Example A.3. Calculating a CRC32 Value</b></p>
<p>The following script calculates the CRC32 value of the memory range</p>
<p>0x010000</p>
<p>to</p>
<p>0x010100</p>
<p>and prints the result in the<b> Target</b> pane. This script demonstrates the</p>
<p>use of loops, conditional statements, expressions, variables, and other debug server</p>
<p>scripting constructs in a real application.</p>
<p># Change the following values to specify the memory</p>
<p># range you want to calculate a CRC32 for.</p>
<p># Note: locations from memstart to memend-1 are used</p>
<p># to compute the CRC32 value.</p>
<p>memstart=0x010000</p>
<p>memend=0x010100</p>
<p># This is the CRC32 polynomial. This is the same as</p>
<p># is used in ethernet packets.</p>
<p>p=2+4+16+32+128+256+1024+2048+4096+65536+4194304+8388608+67108864</p>
<p>r=0</p>
<p>ptr=memstart</p>
<p>while(ptr&lt;memend)</p>
<p>currbyte=m -d1 $$ptr</p>
<p>currbit=128</p>
<p>while(currbit)</p>
<p>test=r&amp;(1&lt;&lt;31)</p>
<p>r=r&lt;&lt;1</p>
<p>r=r|(currbyte&amp;currbit)</p>
<p>if(test)</p>
<p>r=r^p</p>
<p>endif</p>
<p>currbit=currbit&gt;&gt;1</p>
<p>endwhile</p>
<p>ptr=ptr+1</p>
<p>endwhile</p>
<p># This loop is for the 32 zeros appended to the</p>
<p># original memory contents</p>
<p>i=0</p>
<p>while(i&lt;32)</p>
<p>test=r&amp;(1&lt;&lt;31)</p>
<p>r=r&lt;&lt;1</p>
<p>if(test)</p>
<p>r=r^p</p>
<p>endif</p>
<p>i=i+1</p>
<p>endwhile</p>
<p># Now the resulting 32 bit CRC is in r</p>
<p># Many of the same ASCII control codes that are used</p>
<p># in C are supported in debug server scripts.</p>
<p>endl=&quot;\n&quot;</p>
<p>print CRC32 = $$r$endl</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>234</i></p>
<p><i>Appendix A. Legacy Scripting Reference</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix B</b></p>
<p><b>Pin Tables</b></p>
<p><b>Contents</b></p>
<p>Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>236</p>
<p>Green Hills Probe Connector Pin Assignments . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>237</p>
<p>SuperTrace Probe Trace Pod Pin Assignments . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>279</p>
<p>SuperTrace Probe TE Trace Pod and Green Hills Probe TE Adapter Pin</p>
<p>Assignments . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>291</p>
<p>SuperTrace Probe High-Speed Serial Trace Pin Assignments . . . . . . . . . . . . .</p>
<p>294</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Overview</b></p>
<p>The debug interface for most CPU types is essentially a synchronous serial port:</p>
<p>serial data in, serial data out, and bit clock. This applies to JTAG, BDM, and SWD</p>
<p>debug ports. Additional pins have been added for system reset, debug interruption,</p>
<p>and status notification. Different manufacturers have standardized their own</p>
<p>connector and pin configuration schemes, but a common set of design rules apply</p>
<p>to all:</p>
<p>1.</p>
<p>Route the debug interface signals together, maintaining approximately equal</p>
<p>signal length and termination.</p>
<p>2.</p>
<p>Provide a continuous ground return path adjacent to the debug signals.</p>
<p>3.</p>
<p>Place the debug interface connector as close as reasonably possible to the CPU,</p>
<p>and keep track lengths short.This will reduce the antenna area of these signals.</p>
<p>4.</p>
<p>Pull all CPU debug input signals to a high or low state when no debug probe</p>
<p>is connected. Choose an appropriate value for the pull-up or pull-down resistors</p>
<p>to reduce crosstalk and to meet valid logic level requirements.</p>
<p>5.</p>
<p>Clearly mark the pin orientation of the debug connector to avoid backward</p>
<p>probe insertion. Use a keyed, shrouded header if possible.</p>
<p>6.</p>
<p>Series-terminate the CPU debug output signals as needed for improved</p>
<p>impedance matching.</p>
<p>7.</p>
<p>Use the standard debug connector and assignments for your target processor</p>
<p>family. Although the Green Hills debug probes can use nearly any standard</p>
<p>connector on any supported processor, other probe manufacturers cannot</p>
<p>support this connection.</p>
<p><b>Note</b></p>
<p>The information published in this document is an extract from CPU</p>
<p>product data sheets and application notes, and is provided for information</p>
<p>purposes only. For detailed information please check the most recent</p>
<p>version of the relevant documentation from the target device manufacturer.</p>
<p>Green Hills Software cannot be held responsible for any incorrect or</p>
<p>incomplete information.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>236</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Green Hills Probe Connector Pin Assignments</b></p>
<p>The reference tables below identify the pin numbers and pin names for the connectors</p>
<p>supported by the Green Hills Probe.</p>
<p><b>CPU Families and Debug Connectors</b></p>
<p><b>See</b></p>
<p><b>Connector</b></p>
<p><b>Debug Family</b></p>
<p><b>CPU Family</b></p>
<p>“Analog Devices</p>
<p>DSP” on page 239</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>Analog Devices DSP</p>
<p>Analog Devices</p>
<p>Blackfin</p>
<p>“ARM Legacy</p>
<p>14-Pin” on page 241</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>ARM (14-pin) (For</p>
<p>all ARM &amp; XScale</p>
<p>Targets)</p>
<p>ARM Licensees</p>
<p>(Legacy 14-pin)</p>
<p>“ARM Legacy</p>
<p>20-Pin” on page 243</p>
<p>20-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>ARM (20-pin) (For</p>
<p>all ARM &amp; XScale</p>
<p>Targets)</p>
<p>ARM Licensees</p>
<p>(Legacy 20-pin)</p>
<p>“ARM CoreSight</p>
<p>20-Pin” on page 245</p>
<p>20-pin</p>
<p>0.050&quot; (1.27 mm)</p>
<p>dual-row header</p>
<p>ARM (20-pin) (For</p>
<p>all CoreSight Targets)</p>
<p>ARM Licensees</p>
<p>(CoreSight 20-pin)</p>
<p>“ARM CoreSight</p>
<p>10-Pin” on page 247</p>
<p>10-pin</p>
<p>0.050&quot; (1.27 mm)</p>
<p>dual-row header</p>
<p>ARM (10-pin) (For</p>
<p>all CoreSight Targets)</p>
<p>ARM Licensees</p>
<p>(CoreSight 10-pin)</p>
<p>“MIPS EJTAGV2.0</p>
<p>and lower”</p>
<p>on page 255</p>
<p>12-pin (minimum)</p>
<p>0.050&quot; (1.27 mm)</p>
<p>dual-row header</p>
<p>MIPS EJTAG V2.0</p>
<p>and lower</p>
<p>MIPS Licensees</p>
<p>(IDT323xx, others)</p>
<p>“MIPS EJTAG V2.5</p>
<p>and higher”</p>
<p>on page 257</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>MIPS EJTAG V2.5</p>
<p>and higher</p>
<p>MIPS</p>
<p>4K/5K/20K,Licensees</p>
<p>“ColdFire BDM”</p>
<p>on page 259</p>
<p>26-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>ColdFire BDM</p>
<p>Freescale ColdFire V2,</p>
<p>V3, V4, V4e, V5,</p>
<p>52xx, 53xx, 54xx</p>
<p>“PowerPC 4xx</p>
<p>Targets” on page 269</p>
<p>16-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>PowerPC 4xx</p>
<p>Freescale and IBM</p>
<p>PowerPC 4xx</p>
<p>“PowerPC BDM”</p>
<p>on page 264</p>
<p>10-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>PowerPC BDM</p>
<p>Freescale PowerPC</p>
<p>5xx, 8xx</p>
<p><i>237</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Probe Connector Pin Assignments</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>See</b></p>
<p><b>Connector</b></p>
<p><b>Debug Family</b></p>
<p><b>CPU Family</b></p>
<p>“PowerPC COP”</p>
<p>on page 266</p>
<p>16-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>PowerPC COP</p>
<p>PowerPC 51xx, 52xx,</p>
<p>6xx, 7xx, 74xx, 82xx,</p>
<p>83xx, 85xx, and QorIQ</p>
<p>“Intel XDP-60”</p>
<p>on page 249</p>
<p>60-pin</p>
<p>MICTOR connector</p>
<p>Intel XDP-60</p>
<p>Intel x86</p>
<p>“Intel XDP-SSA”</p>
<p>on page 252</p>
<p>31-pin</p>
<p>dual-row header</p>
<p>Intel XDP-SSA</p>
<p>Intel x86</p>
<p>“Intel XDP-SFF-24”</p>
<p>on page 254</p>
<p>24-pin</p>
<p>flat flex</p>
<p>Intel XDP-SFF-24</p>
<p>Intel x86</p>
<p>“Generic Nexus”</p>
<p>on page 271</p>
<p>38-pin</p>
<p>MICTOR connector</p>
<p>PowerPC</p>
<p>55xx/56xx/57xx</p>
<p>Freescale PowerPC</p>
<p>55xx/56xx/57xx</p>
<p>“Renesas H-UDI”</p>
<p>on page 277</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>Renesas H-UDI</p>
<p>Renesas SH-2A and</p>
<p>SH2A-FPU</p>
<p>“EOnCE” on page 273</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>EOnCE</p>
<p>PowerPC</p>
<p>55xx/56xx57xx</p>
<p>“Texas Instruments</p>
<p>DSP” on page 275</p>
<p>14-pin</p>
<p>0.100&quot; (2.54 mm)</p>
<p>dual-row header</p>
<p>Texas Instruments</p>
<p>DSP</p>
<p>Texas Instruments</p>
<p>OMAP</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>238</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Analog Devices DSP</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>Emulation Pin</p>
<p>NEMU</p>
<p>2</p>
<p>n/c</p>
<p>3</p>
<p>n/c</p>
<p>5</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>6</p>
<p>n/c</p>
<p>7</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>8</p>
<p>n/c</p>
<p>9</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>10</p>
<p>n/c</p>
<p>11</p>
<p>2</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>12</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>14</p>
<p>Ground reference</p>
<p>GND</p>
<p>1, 4,</p>
<p>13</p>
<p><b>Notes:</b></p>
<p><i>239</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Analog Devices DSP</i></p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–2</p>
<p>103309–2</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2514–5002UB</p>
<p>2514–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>240</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM Legacy 14-Pin</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>1</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>3</p>
<p>3</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>5</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>7</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>9</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>11</p>
<p>3, 4</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>12</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>13</p>
<p>Ground reference</p>
<p>GND</p>
<p>2, 4, 6,</p>
<p>8, 10,</p>
<p>14</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1000</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the JTAG, BDM, or SWD</p>
<p>interface. You may connect this pin directly to the target power, although high</p>
<p><i>241</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Legacy 14-Pin</i></p>
<h1 style="page-break-before:always; "></h1>
<p>currents might be encountered if the pin is accidentally shorted to ground. The</p>
<p>probe draws negligible current from these pins.</p>
<p>2.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>3.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>4.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–2</p>
<p>103309–2</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2514–5002UB</p>
<p>2514–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>242</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM Legacy 20-Pin</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVsense</p>
<p>1</p>
<p>1</p>
<p>From Target</p>
<p>Target power</p>
<p>TVcc</p>
<p>2</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>3</p>
<p>3</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>5</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS/SWDIO</p>
<p>7</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>9</p>
<p>5</p>
<p>From Target</p>
<p>Return</p>
<p>TCK</p>
<p>(reclocked)</p>
<p>RTCK</p>
<p>11</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO/SWO</p>
<p>13</p>
<p>3, 4</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>15</p>
<p>6</p>
<p>To Target</p>
<p>Probe Debug Request</p>
<p>DBREQ</p>
<p>17</p>
<p>6</p>
<p>From Target</p>
<p>Probe Debug Acknowledge</p>
<p>DBACK</p>
<p>19</p>
<p><i>243</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Legacy 20-Pin</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Ground reference</p>
<p>GND</p>
<p>4, 6, 8, 10,</p>
<p>12, 14, 16,</p>
<p>18, 20</p>
<p>In SWD mode,</p>
<p>nTRST</p>
<p>and</p>
<p>TDI</p>
<p>are unused,</p>
<p>TMS</p>
<p>becomes</p>
<p>SWDIO</p>
<p>and is bidirectional,</p>
<p>and</p>
<p>TDO</p>
<p>becomes</p>
<p>SWO</p>
<p>and is unused.</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the JTAG, BDM, or SWD</p>
<p>interface. You may connect this pin directly to the target power, although high</p>
<p>currents might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>3.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>4.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>5.</p>
<p>RTCK</p>
<p>is a reclocked</p>
<p>TCK</p>
<p>signal, used by the debugging probe to determine the</p>
<p>CPU's core operating frequency, useful for debugging CPU targets with variable</p>
<p>clock frequencies. Please consult your CPU documentation - this pin is optional.</p>
<p>Typical target termination is a low-ohm series termination resistor (</p>
<p>22</p>
<p>to</p>
<p>33</p>
<p>ohms).</p>
<p>6.</p>
<p>DBREQ</p>
<p>and</p>
<p>DBACK</p>
<p>are optional pins. These pins are seldom included in</p>
<p>commercial ARM CPU implementations.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–5</p>
<p>103309–5</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2520–5002UB</p>
<p>2520–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>244</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM CoreSight 20-Pin</b></p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>VTref</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP machine state</p>
<p>TMS</p>
<p>2</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>4</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO/SWO</p>
<p>6</p>
<p>2</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI/SWDIO</p>
<p>8</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>10</p>
<p>To Target</p>
<p>Trace Clock</p>
<p>TraceClk</p>
<p>12</p>
<p>From Target</p>
<p>Trace Data</p>
<p>TRACEDATA[0]</p>
<p>14</p>
<p>From Target</p>
<p>Trace Data</p>
<p>TRACEDATA[1]</p>
<p>16</p>
<p>From Target</p>
<p>Trace Data</p>
<p>TRACEDATA[2]</p>
<p>18</p>
<p>From Target</p>
<p>Trace Data</p>
<p>TRACEDATA[3]</p>
<p>20</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5, 7,</p>
<p>9, 11,</p>
<p>13, 15,</p>
<p>17, 19</p>
<p>In SWD mode,</p>
<p>nTRST</p>
<p>and</p>
<p>TDI</p>
<p>are unused,</p>
<p>TMS</p>
<p>becomes</p>
<p>SWDIO</p>
<p>and is bidirectional,</p>
<p>and</p>
<p>TDO</p>
<p>becomes</p>
<p>SWO</p>
<p>and is unused.</p>
<p><i>245</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM CoreSight 20-Pin</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between 33 and 1000 ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the JTAG, BDM, or SWD</p>
<p>interface. You may connect this pin directly to the target power, although high</p>
<p>currents might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>FTSH-110–01–L-DV-K-A</p>
<p>Samtec [http://www.samtec.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>246</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM CoreSight 10-Pin</b></p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>VTref</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP machine state</p>
<p>TMS</p>
<p>2</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>4</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO/SWO</p>
<p>6</p>
<p>2</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI/SWDIO</p>
<p>8</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>10</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5, 7,</p>
<p>9</p>
<p>In SWD mode,</p>
<p>nTRST</p>
<p>and</p>
<p>TDI</p>
<p>are unused,</p>
<p>TMS</p>
<p>becomes</p>
<p>SWDIO</p>
<p>and is bidirectional,</p>
<p>and</p>
<p>TDO</p>
<p>becomes</p>
<p>SWO</p>
<p>and is unused.</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between 33 and 1000 ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the JTAG, BDM, or SWD</p>
<p>interface. You may connect this pin directly to the target power, although high</p>
<p>currents might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><i>247</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM CoreSight 10-Pin</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>FTSH-105-01-L-DV-K-A-TR</p>
<p>Samtec [http://www.samtec.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>248</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Intel XDP-60</b></p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Ground reference</p>
<p>GND</p>
<p>1</p>
<p>Ground reference</p>
<p>GND</p>
<p>2</p>
<p>1</p>
<p>To Target</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A0</p>
<p>3</p>
<p>OBS C control/strobe</p>
<p>OBSFN_C0</p>
<p>4</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A1</p>
<p>5</p>
<p>OBS C control/strobe</p>
<p>OBSFN_C1</p>
<p>6</p>
<p>Ground reference</p>
<p>GND</p>
<p>7</p>
<p>Ground reference</p>
<p>GND</p>
<p>8</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[0]</p>
<p>9</p>
<p>OBS C data</p>
<p>OBSDATA_C[0]</p>
<p>10</p>
<p>From Target</p>
<p>OBS A data</p>
<p>OBSDATA_A[1]</p>
<p>11</p>
<p>OBS C data</p>
<p>OBSDATA_C[1]</p>
<p>12</p>
<p>Ground reference</p>
<p>GND</p>
<p>13</p>
<p>Ground reference</p>
<p>GND</p>
<p>14</p>
<p>From Target</p>
<p>OBS A data</p>
<p>OBSDATA_A[2]</p>
<p>15</p>
<p>OBS C data</p>
<p>OBSDATA_C[2]</p>
<p>16</p>
<p>From Target</p>
<p>OBS A data</p>
<p>OBSDATA_A[3]</p>
<p>17</p>
<p>OBS C data</p>
<p>OBSDATA_C[3]</p>
<p>18</p>
<p>Ground reference</p>
<p>GND</p>
<p>19</p>
<p>Ground reference</p>
<p>GND</p>
<p>20</p>
<p>2</p>
<p>OBS B control/strobe</p>
<p>OBSFN_B0</p>
<p>21</p>
<p>OBS D control/strobe</p>
<p>OBSFN_D0</p>
<p>22</p>
<p>OBS B control/strobe</p>
<p>OBSFN_B1</p>
<p>23</p>
<p>OBS D control/strobe</p>
<p>OBSFN_D1</p>
<p>24</p>
<p>Ground reference</p>
<p>GND</p>
<p>25</p>
<p>Ground reference</p>
<p>GND</p>
<p>26</p>
<p>OBS B data</p>
<p>OBSDATA_B[0]</p>
<p>27</p>
<p>OBS D data</p>
<p>OBSDATA_D[0]</p>
<p>28</p>
<p>OBS B data</p>
<p>OBSDATA_B[1]</p>
<p>29</p>
<p><i>249</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Intel XDP-60</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>OBS D data</p>
<p>OBSDATA_D[1]</p>
<p>30</p>
<p>Ground reference</p>
<p>GND</p>
<p>31</p>
<p>Ground reference</p>
<p>GND</p>
<p>32</p>
<p>OBS B data</p>
<p>OBSDATA_B[2]</p>
<p>33</p>
<p>OBS D data</p>
<p>OBSDATA_D[2]</p>
<p>34</p>
<p>OBS B data</p>
<p>OBSDATA_B[3]</p>
<p>35</p>
<p>OBS D data</p>
<p>OBSDATA_D[3]</p>
<p>36</p>
<p>Ground reference</p>
<p>GND</p>
<p>37</p>
<p>Ground reference</p>
<p>GND</p>
<p>38</p>
<p>From Target</p>
<p>Target power</p>
<p>HOOK0</p>
<p>39</p>
<p>From Target</p>
<p>System clock frequency</p>
<p>reference</p>
<p>ITPCLK/HOOK4</p>
<p>40</p>
<p>Reserved</p>
<p>HOOK1</p>
<p>41</p>
<p>From Target</p>
<p>System clock frequency</p>
<p>reference</p>
<p>ITPCLK#/HOOK5</p>
<p>42</p>
<p>OBS termination</p>
<p>VCC_OBS_AB</p>
<p>43</p>
<p>OBS termination</p>
<p>VCC_OBS_CD</p>
<p>44</p>
<p>From Target</p>
<p>Split-VTT / reserved</p>
<p>HOOK2</p>
<p>45</p>
<p>From Target</p>
<p>Detect debug reset</p>
<p>HOOK6</p>
<p>46</p>
<p>Reserved</p>
<p>HOOK3</p>
<p>47</p>
<p>To Target</p>
<p>Control debug reset</p>
<p>HOOK7</p>
<p>48</p>
<p>Ground reference</p>
<p>GND</p>
<p>49</p>
<p>Ground reference</p>
<p>GND</p>
<p>50</p>
<p>Bidirectional</p>
<p>I2C ITP-XDP interface</p>
<p>SDA</p>
<p>51</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>52</p>
<p>Bidirectional</p>
<p>I2C ITP-XDP interface</p>
<p>SCL</p>
<p>53</p>
<p>To Target</p>
<p>JTAG TAP Reset</p>
<p>TRSTn</p>
<p>54</p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK1</p>
<p>55</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>56</p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK0</p>
<p>57</p>
<p>To Target</p>
<p>JTAG TAP machine state</p>
<p>TMS</p>
<p>58</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>250</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Ground reference</p>
<p>GND</p>
<p>59</p>
<p>Ground reference</p>
<p>GND</p>
<p>60</p>
<p><b>Notes</b></p>
<p>•</p>
<p>Used for the</p>
<p>PREQ0</p>
<p>signal.</p>
<p>•</p>
<p>Used for the</p>
<p>PREQ1</p>
<p>signal.</p>
<p>Example connector part numbers:</p>
<p><b>Name</b></p>
<p><b>Manufacturer</b></p>
<p>60-pin BSH-030–01</p>
<p>Samtec [http://www.samtec.com]</p>
<p><i>251</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Intel XDP-60</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Intel XDP-SSA</b></p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Bidirectional</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A0</p>
<p>1</p>
<p>Ground reference</p>
<p>GND</p>
<p>2</p>
<p>Bidirectional</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A1</p>
<p>3</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[0]</p>
<p>4</p>
<p>Ground reference</p>
<p>GND</p>
<p>5</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[1]</p>
<p>6</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[2]</p>
<p>7</p>
<p>Ground reference</p>
<p>GND</p>
<p>8</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[3]</p>
<p>9</p>
<p>From Target</p>
<p>Target power</p>
<p>HOOK0</p>
<p>10</p>
<p>Ground reference</p>
<p>GND</p>
<p>11</p>
<p>Reserved</p>
<p>HOOK1</p>
<p>12</p>
<p>From Target</p>
<p>System clock frequency reference</p>
<p>HOOK4</p>
<p>13</p>
<p>OBS termination</p>
<p>VCCOBS_AB</p>
<p>14</p>
<p>From Target</p>
<p>System clock frequency reference</p>
<p>HOOK5</p>
<p>15</p>
<p>From Target</p>
<p>Split-VTT / reserved</p>
<p>HOOK2</p>
<p>16</p>
<p>Ground reference</p>
<p>GND</p>
<p>17</p>
<p>Reserved</p>
<p>HOOK3</p>
<p>18</p>
<p>From Target</p>
<p>Detect debug reset</p>
<p>HOOK6</p>
<p>19</p>
<p>Ground reference</p>
<p>GND</p>
<p>20</p>
<p>To Target</p>
<p>Control debug reset</p>
<p>HOOK7</p>
<p>21</p>
<p>Bidirectional</p>
<p>I2C ITP-XDP interface</p>
<p>SCL</p>
<p>22</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>23</p>
<p>Bidirectional</p>
<p>I2C ITP-XDP interface</p>
<p>SDA</p>
<p>24</p>
<p>To Target</p>
<p>JTAG TAP Reset</p>
<p>TRSTn</p>
<p>25</p>
<p>Ground reference</p>
<p>GND</p>
<p>26</p>
<p>Ground reference</p>
<p>GND</p>
<p>27</p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK1</p>
<p>28</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>29</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>252</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK0</p>
<p>30</p>
<p>To Target</p>
<p>JTAG TAP machine state</p>
<p>TMS</p>
<p>31</p>
<p>Example connector part numbers:</p>
<p><b>Name</b></p>
<p><b>Manufacturer</b></p>
<p>DF9C-31S</p>
<p>Hirose [http://www.hirose.com]</p>
<p><i>253</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Intel XDP-SSA</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Intel XDP-SFF-24</b></p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Bidirectional</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A0</p>
<p>1</p>
<p>Bidirectional</p>
<p>OBS A control/strobe</p>
<p>OBSFN_A1</p>
<p>2</p>
<p>Ground reference</p>
<p>GND</p>
<p>3</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[0]</p>
<p>4</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[1]</p>
<p>5</p>
<p>Ground reference</p>
<p>GND</p>
<p>6</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[2]</p>
<p>7</p>
<p>Bidirectional</p>
<p>OBS A data</p>
<p>OBSDATA_A[3]</p>
<p>8</p>
<p>Ground reference</p>
<p>GND</p>
<p>9</p>
<p>From Target</p>
<p>Target power</p>
<p>HOOK0</p>
<p>10</p>
<p>From Target</p>
<p>Split-VTT / reserved</p>
<p>HOOK2</p>
<p>11</p>
<p>From Target</p>
<p>System clock frequency reference</p>
<p>HOOK4</p>
<p>12</p>
<p>From Target</p>
<p>System clock frequency reference</p>
<p>HOOK5</p>
<p>13</p>
<p>OBS termination</p>
<p>VCCOBS_AB</p>
<p>14</p>
<p>From Target</p>
<p>Detect debug reset</p>
<p>HOOK6</p>
<p>15</p>
<p>To Target</p>
<p>Control debug reset</p>
<p>HOOK7</p>
<p>16</p>
<p>Ground reference</p>
<p>GND</p>
<p>17</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>18</p>
<p>To Target</p>
<p>JTAG TAP Reset</p>
<p>TRSTn</p>
<p>19</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>20</p>
<p>To Target</p>
<p>JTAG TAP machine state</p>
<p>TMS</p>
<p>21</p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK1</p>
<p>22</p>
<p>Ground reference</p>
<p>GND</p>
<p>23</p>
<p>To Target</p>
<p>JTAG TAP clock</p>
<p>TCK0</p>
<p>24</p>
<p>Example connector part numbers:</p>
<p><b>Name</b></p>
<p><b>Manufacturer</b></p>
<p>52435-2472</p>
<p>Molex [http://www.molex.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>254</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MIPS EJTAGV2.0 and lower</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>1</p>
<p>2</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>3</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>5</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>7</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>9</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>11</p>
<p>Ground reference</p>
<p>GND</p>
<p>2, 4, 6,</p>
<p>8, 10,</p>
<p>12</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p><i>255</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS EJTAGV2.0 and lower</i></p>
<h1 style="page-break-before:always; "></h1>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>FTSH-106–F-DV</p>
<p>Samtec [http://www.samtec.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>256</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MIPS EJTAG V2.5 and higher</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>1</p>
<p>3</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>3</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>5</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>7</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>9</p>
<p>3, 4</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>11</p>
<p>Optional key (pin removed)</p>
<p>Key (n/c)</p>
<p>12</p>
<p>To Target</p>
<p>Debug interrupt, active high</p>
<p>DINT</p>
<p>13</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>14</p>
<p>Ground reference</p>
<p>GND</p>
<p>2, 4, 6,</p>
<p>8, 10</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p><i>257</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS EJTAG V2.5 and higher</i></p>
<h1 style="page-break-before:always; "></h1>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>3.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>4.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–2</p>
<p>103309–2</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2514–5002UB</p>
<p>2514–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>258</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ColdFire BDM</b></p>
<p>Pin description and termination</p>
<p>ColdFireV5</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>No connection</p>
<p>n/c</p>
<p>1</p>
<p>To Target</p>
<p>Hardware Breakpoint Input</p>
<p>BKPT</p>
<p>2</p>
<p>To Target</p>
<p>Debug serial clock</p>
<p>DSCK</p>
<p>4</p>
<p>No connection</p>
<p>n/c</p>
<p>6</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>System reset, active low</p>
<p>nRESET</p>
<p>7</p>
<p>To Target</p>
<p>Serial data input</p>
<p>DSI</p>
<p>8</p>
<p>Power sense</p>
<p>Pad_Vdd</p>
<p>9</p>
<p>From Target</p>
<p>Serial data output</p>
<p>DSO</p>
<p>10</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[8]</p>
<p>12</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[7]</p>
<p>13</p>
<p><i>259</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire BDM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[6]</p>
<p>14</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[5]</p>
<p>15</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[3]</p>
<p>16</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[2]</p>
<p>17</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[1]</p>
<p>18</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[0]</p>
<p>19</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[4]</p>
<p>21</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[9]</p>
<p>22</p>
<p>From Target</p>
<p>Processor clock</p>
<p>PST_CLK</p>
<p>24</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>25</p>
<p>To Target</p>
<p>Transfer Error Acknowledge Input</p>
<p>TEA</p>
<p>26</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5,</p>
<p>11, 20,</p>
<p>23</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>260</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p>ColdFireV4(e)</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>No connection</p>
<p>n/c</p>
<p>1</p>
<p>To Target</p>
<p>Hardware Breakpoint Input</p>
<p>BKPT</p>
<p>2</p>
<p>To Target</p>
<p>Debug serial clock</p>
<p>DSCK</p>
<p>4</p>
<p>No connection</p>
<p>n/c</p>
<p>6</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>System reset, active low</p>
<p>nRESET</p>
<p>7</p>
<p>To Target</p>
<p>Serial data input</p>
<p>DSI</p>
<p>8</p>
<p>No connection</p>
<p>n/c</p>
<p>9</p>
<p>From Target</p>
<p>Serial data output</p>
<p>DSO</p>
<p>10</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[7]</p>
<p>12</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[6]</p>
<p>13</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[5]</p>
<p>14</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[4]</p>
<p>15</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[3]</p>
<p>16</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[2]</p>
<p>17</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[1]</p>
<p>18</p>
<p>From Target</p>
<p>Processor status/data (real time trace)</p>
<p>PSTDDATA</p>
<p>[0]</p>
<p>19</p>
<p>n/c</p>
<p>21</p>
<p>n/c</p>
<p>22</p>
<p>From Target</p>
<p>Processor clock</p>
<p>PST_CLK</p>
<p>24</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>25</p>
<p>To Target</p>
<p>Transfer Error Acknowledge Input</p>
<p>TEA</p>
<p>26</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5,</p>
<p>11, 20,</p>
<p>23</p>
<p><i>261</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire BDM</i></p>
<h1 style="page-break-before:always; "></h1>
<p>ColdFireV2/V3</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>No connection</p>
<p>n/c</p>
<p>1</p>
<p>To Target</p>
<p>Hardware Breakpoint Input</p>
<p>BKPT</p>
<p>2</p>
<p>To Target</p>
<p>Debug serial clock</p>
<p>DSCK</p>
<p>4</p>
<p>No connection</p>
<p>n/c</p>
<p>6</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>System reset, active low</p>
<p>nRESET</p>
<p>7</p>
<p>To Target</p>
<p>Serial data input</p>
<p>DSI</p>
<p>8</p>
<p>No connection</p>
<p>n/c</p>
<p>9</p>
<p>From Target</p>
<p>Serial data output</p>
<p>DSO</p>
<p>10</p>
<p>From Target</p>
<p>Processor status (real time trace)</p>
<p>PST[3]</p>
<p>12</p>
<p>From Target</p>
<p>Processor status (real time trace)</p>
<p>PST[2]</p>
<p>13</p>
<p>From Target</p>
<p>Processor status (real time trace)</p>
<p>PST[1]</p>
<p>14</p>
<p>From Target</p>
<p>Processor status (real time trace)</p>
<p>PST[0]</p>
<p>15</p>
<p>From Target</p>
<p>Data (real time trace)</p>
<p>DDATA[3]</p>
<p>16</p>
<p>From Target</p>
<p>Data (real time trace)</p>
<p>DDATA[2]</p>
<p>17</p>
<p>From Target</p>
<p>Data (real time trace)</p>
<p>DDATA[1]</p>
<p>18</p>
<p>From Target</p>
<p>Data (real time trace)</p>
<p>DDATA[0]</p>
<p>19</p>
<p>From Target</p>
<p>n/c</p>
<p>21</p>
<p>From Target</p>
<p>n/c</p>
<p>22</p>
<p>From Target</p>
<p>Processor clock</p>
<p>PST_CLK</p>
<p>24</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>25</p>
<p>To Target</p>
<p>Transfer Error Acknowledge Input</p>
<p>TEA</p>
<p>26</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5,</p>
<p>11, 20,</p>
<p>23</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>262</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–6</p>
<p>103309–6</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2526–5002UB</p>
<p>2526–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>263</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ColdFire BDM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC BDM</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>Processor Status</p>
<p>VFLS0/FRZ</p>
<p>1</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target soft reset, active low</p>
<p>SRESET</p>
<p>2</p>
<p>2</p>
<p>To Target</p>
<p>Debug serial clock</p>
<p>DSCK</p>
<p>4</p>
<p>From Target</p>
<p>Processor Status</p>
<p>VFLS1/FRZ</p>
<p>6</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target hard reset, active low</p>
<p>HRESET</p>
<p>7</p>
<p>2</p>
<p>To Target</p>
<p>Debug serial data input</p>
<p>DSDI</p>
<p>8</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>9</p>
<p>From Target</p>
<p>Debug serial data output</p>
<p>DSDO</p>
<p>10</p>
<p>Ground reference</p>
<p>GND</p>
<p>3, 5</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>264</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–1</p>
<p>103309–1</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2510–5002UB</p>
<p>2510–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>265</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC BDM</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC COP</b></p>
<p>PowerPC 603ev, 7xx, 74xx, 82xx, 83xx, 85xx, and QorIQ targets.</p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>JTAG Test Data Output</p>
<p>TDO</p>
<p>1</p>
<p>5, 10</p>
<p>Bidirectional</p>
<p>CPU</p>
<p>QACK</p>
<p>QACK</p>
<p>2</p>
<p>1</p>
<p>To Target</p>
<p>JTAG Test Data Input</p>
<p>TDI</p>
<p>3</p>
<p>3, 11</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>4</p>
<p>7, 10</p>
<p>From Target</p>
<p>CPU</p>
<p>QREQ</p>
<p>QREQ</p>
<p>5</p>
<p>2</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>6</p>
<p>1, 8</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>7</p>
<p>10</p>
<p>To Target</p>
<p>CPU checkstop input</p>
<p>CKSTP_I</p>
<p>8</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>9</p>
<p>n/c</p>
<p>10</p>
<p>4, 5,</p>
<p>10</p>
<p>Bidirectional</p>
<p>Target soft reset</p>
<p>nSRESET</p>
<p>11</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>266</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>9</p>
<p>n/c</p>
<p>12</p>
<p>4, 5,</p>
<p>11</p>
<p>Bidirectional</p>
<p>Target hard reset</p>
<p>nHRESET</p>
<p>13</p>
<p>Optional keying pin, removed on</p>
<p>some targets</p>
<p>Key</p>
<p>14</p>
<p>10</p>
<p>From Target</p>
<p>Target checkstop output</p>
<p>CKSTP_O</p>
<p>15</p>
<p>Ground reference</p>
<p>GND</p>
<p>16</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>To avoid spurious noise affecting the CPU when the probe is not connected,</p>
<p>pull this signal to a logical high level with a pull-up resistor on the target.</p>
<p>Typical value range will be approximately</p>
<p>4.7k</p>
<p>to</p>
<p>47k</p>
<p>ohms. Please consult</p>
<p>the datasheet of your target CPU for proper resistor value.</p>
<p>2.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>interface. You</p>
<p>may connect this pin directly to the target power, although high currents might</p>
<p>be encountered if the pin is accidentally shorted to ground.</p>
<p>3.</p>
<p>Common practice is to pull this pin to a defined state (high or low) with a</p>
<p>resistor, however some processors require this pin to be asserted during a cold</p>
<p>reset for proper CPU initialization. Consult your target CPU's user manual for</p>
<p>specific details.</p>
<p>4.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>5.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>6.</p>
<p>While the probe does not require connection to this signal to fully debug the</p>
<p>target CPU, certain processors require this signal to be pulled down on the</p>
<p>board in order for the probe to debug the processor. Consult your target CPU's</p>
<p>user manual for specific details.</p>
<p>7.</p>
<p>QREQ</p>
<p>is sometimes called</p>
<p>HALTED</p>
<p>.</p>
<p>8.</p>
<p>TCK</p>
<p>connection on the board should be as direct as possible, and routed over</p>
<p>continuous ground when possible.</p>
<p><i>267</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC COP</i></p>
<h1 style="page-break-before:always; "></h1>
<p>9.</p>
<p>Pin 12 was specified to be grounded in older COP design documents, whereas</p>
<p>newer documents specify pin 12 as no-connect. If your board design requires</p>
<p>pin 12 to be no-connect, you may remove pin 12 on the probe's target adapter.</p>
<p>For example, if your board design presents power on pin 12, you should</p>
<p>disconnect pin 12 from the probe.</p>
<p>10. This signal is optional, and does not need to be connected to the probe for</p>
<p>correct debugging operation, however this signal may require some form of</p>
<p>termination. Consult your target CPU's user manual for specific details.</p>
<p>11.</p>
<p>nHRESET</p>
<p>and</p>
<p>nTRST</p>
<p>must not be wired, logically ORed, or otherwise tied</p>
<p>together on the board. For more information, see “Diagnosing Reset Line</p>
<p>Problems” on page 319.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–3</p>
<p>103309–3</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2516–5002UB</p>
<p>2516–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>268</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 4xx Targets</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>JTAG Test Data Output</p>
<p>TDO</p>
<p>1</p>
<p>n/c</p>
<p>2</p>
<p>3</p>
<p>To Target</p>
<p>JTAG Test Data Input</p>
<p>TDI</p>
<p>3</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>4</p>
<p>n/c</p>
<p>5</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>6</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>7</p>
<p>n/c</p>
<p>8</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>9</p>
<p>n/c</p>
<p>10</p>
<p>3, 4</p>
<p>To Target</p>
<p>Halt input</p>
<p>nHALT</p>
<p>11</p>
<p>n/c</p>
<p>12</p>
<p>n/c</p>
<p>13</p>
<p><i>269</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC 4xx Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>Optional keying pin, removed on</p>
<p>some targets</p>
<p>Key</p>
<p>14</p>
<p>n/c</p>
<p>15</p>
<p>Ground reference</p>
<p>GND</p>
<p>16</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>3.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>4.</p>
<p>When attempting to perform a freeze-mode reset, the probe asserts the</p>
<p>nHALT</p>
<p>pin. If the<b> reset_type</b> option is set to</p>
<p>chip</p>
<p>(the default) or</p>
<p>core</p>
<p>, this pin is</p>
<p>optional. If it is set to</p>
<p>system</p>
<p>, a precise reset is only possible if this pin is</p>
<p>connected.</p>
<p><b>Note</b></p>
<p>Do not tie the</p>
<p>nHRESET</p>
<p>and</p>
<p>nTRST</p>
<p>pins together. The probe does not</p>
<p>use</p>
<p>HALTED</p>
<p>(pin 5),</p>
<p>Checkstop_in</p>
<p>(pin 8), or</p>
<p>Checkstop_out</p>
<p>(pin</p>
<p>15). The pins can be left unconnected.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–3</p>
<p>103309–3</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2516–5002UB</p>
<p>2516–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>270</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Generic Nexus</b></p>
<p>When debugging with a Green Hills Probe, an adapter is required to connect to a</p>
<p>Nexus interface. We recommend that you use a COP to MICTOR adapter. To</p>
<p>purchase one of these adapters, contact your Green Hills Sales Representative.</p>
<p>Some hardware implements connections that deviate slightly from the Nexus</p>
<p>standard. If you are using a SuperTrace Probe to collect trace data, check your</p>
<p>hardware manual to determine if this is the case. If you are using a PowerPC 55xx,</p>
<p>see “PowerPC 55xx/56xx/57xx Nexus” on page 289.</p>
<p>This connector uses a bus connection that runs along the middle of the connector</p>
<p>for ground; it does not have a pin for this purpose.</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p>n/c</p>
<p>1</p>
<p>n/c</p>
<p>2</p>
<p>n/c</p>
<p>3</p>
<p>n/c</p>
<p>4</p>
<p>Bidirectional</p>
<p>VEND_IO0</p>
<p>5</p>
<p>From Target</p>
<p>CLKOUT</p>
<p>6</p>
<p>Bidirectional</p>
<p>VEND_IO2</p>
<p>7</p>
<p>Bidirectional</p>
<p>VEND_IO3</p>
<p>8</p>
<p>To Target</p>
<p>RESET</p>
<p>9</p>
<p>To Target</p>
<p>EVTI</p>
<p>10</p>
<p>Bidirectional</p>
<p>TDO</p>
<p>11</p>
<p>From Target</p>
<p>VREF</p>
<p>12</p>
<p>Bidirectional</p>
<p>VEND_IO4</p>
<p>13</p>
<p>Bidirectional</p>
<p>RDY</p>
<p>14</p>
<p>To Target</p>
<p>TCK</p>
<p>15</p>
<p>From Target</p>
<p>MDO7</p>
<p>16</p>
<p>To Target</p>
<p>TMS</p>
<p>17</p>
<p>From Target</p>
<p>MDO6</p>
<p>18</p>
<p>To Target</p>
<p>TDI</p>
<p>19</p>
<p>From Target</p>
<p>MDO5</p>
<p>20</p>
<p><i>271</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Generic Nexus</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p>To Target</p>
<p>TRST</p>
<p>21</p>
<p>From Target</p>
<p>MDO4</p>
<p>22</p>
<p>To Target</p>
<p>VEND_IO1</p>
<p>23</p>
<p>From Target</p>
<p>MDO3</p>
<p>24</p>
<p>Bidirectional</p>
<p>TOOL_IO3</p>
<p>25</p>
<p>From Target</p>
<p>MDO2</p>
<p>26</p>
<p>Bidirectional</p>
<p>TOOL_IO2</p>
<p>27</p>
<p>From Target</p>
<p>MDO1</p>
<p>28</p>
<p>Bidirectional</p>
<p>TOOL_IO1</p>
<p>29</p>
<p>From Target</p>
<p>MDO0</p>
<p>30</p>
<p>From Target</p>
<p>UBATT</p>
<p>31</p>
<p>From Target</p>
<p>EVTO</p>
<p>32</p>
<p>From Target</p>
<p>UBATT</p>
<p>33</p>
<p>From Target</p>
<p>MCKO</p>
<p>34</p>
<p>Bidirectional</p>
<p>TOOL_IO0</p>
<p>35</p>
<p>From Target</p>
<p>MSEO1</p>
<p>36</p>
<p>From Target</p>
<p>VALTREF</p>
<p>37</p>
<p>From Target</p>
<p>MSEO0</p>
<p>38</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>272</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>EOnCE</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>2</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>1</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>3</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>5</p>
<p>n/c</p>
<p>7</p>
<p>n/c</p>
<p>8</p>
<p>2, 3</p>
<p>Bidirectional</p>
<p>Target Reset, active low</p>
<p>nRESET</p>
<p>9</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>10</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>11</p>
<p>n/c</p>
<p>12</p>
<p>n/c</p>
<p>13</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>14</p>
<p>Ground reference</p>
<p>GND</p>
<p>2, 4, 6</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p><i>273</i></p>
<p><i>Green Hills Software</i></p>
<p><i>EOnCE</i></p>
<h1 style="page-break-before:always; "></h1>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>3.</p>
<p>This signal is typically used with open-drain drivers and pull-up resistors,</p>
<p>hence the bidirectional notation. This pin can also be configured as an</p>
<p>input-only to the target, however in this configuration the probe will not be</p>
<p>able to directly detect a target-asserted reset.</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–2</p>
<p>103309–2</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2514–5002UB</p>
<p>2514–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>274</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Texas Instruments DSP</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>1</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, active low</p>
<p>nTRST</p>
<p>2</p>
<p>3</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>3</p>
<p>1</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>5</p>
<p>No connection</p>
<p>n/c</p>
<p>6</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>7</p>
<p>4</p>
<p>From Target</p>
<p>Return</p>
<p>TCK</p>
<p>(reclocked)</p>
<p>RTCK</p>
<p>9</p>
<p>3</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>11</p>
<p>From Target</p>
<p>Emulation pin 0</p>
<p>EMU0</p>
<p>13</p>
<p>From Target</p>
<p>Emulation pin 1</p>
<p>EMU1</p>
<p>14</p>
<p>Ground reference</p>
<p>GND</p>
<p>4, 8,</p>
<p>10, 12</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Connect to the target power supply through a current-limiting resistor. The</p>
<p>value range should be between</p>
<p>33</p>
<p>and</p>
<p>1.0k</p>
<p>ohms. The power supply voltage</p>
<p><i>275</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Texas Instruments DSP</i></p>
<h1 style="page-break-before:always; "></h1>
<p>should be representative of the logic levels used in the</p>
<p>JTAG</p>
<p>/</p>
<p>BDM</p>
<p>interface.</p>
<p>You may connect this pin directly to the target power, although high currents</p>
<p>might be encountered if the pin is accidentally shorted to ground.</p>
<p>2.</p>
<p>Check the target CPU datasheet for treatment of the</p>
<p>nTRST</p>
<p>pin. Common</p>
<p>practice is to pull this pin to a defined state (high or low) with a resistor,</p>
<p>however some processors require this pin to be asserted during a cold reset</p>
<p>for proper CPU initialization. Please consult the documentation for your target</p>
<p>CPU.</p>
<p>3.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>4.</p>
<p>RTCK</p>
<p>is a reclocked</p>
<p>TCK</p>
<p>signal, used by the debugging probe to determine the</p>
<p>CPU's core operating frequency, useful for debugging CPU targets with variable</p>
<p>clock frequencies. Typical target termination is a low-ohm series termination</p>
<p>resistor (</p>
<p>22</p>
<p>to</p>
<p>33</p>
<p>ohms). Please consult your CPU documentation.(this pin is</p>
<p>optional.)</p>
<p>Example connector part numbers:</p>
<p><b>Right Angle</b></p>
<p><b>Vertical</b></p>
<p><b>Manufacturer</b></p>
<p>103311–2</p>
<p>103309–2</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p>2514–5002UB</p>
<p>2514–6002UB</p>
<p>3M [http://www.3m.com]</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>276</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Renesas H-UDI</b></p>
<p>Pin description and termination</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>1</p>
<p>No Connection</p>
<p>NC</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP machine reset</p>
<p>nTRST</p>
<p>3</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>5</p>
<p>From Target</p>
<p>Run/Break mode indicator</p>
<p>ASEBRK</p>
<p>7</p>
<p>From Target</p>
<p>Target voltage reference</p>
<p>TVcc</p>
<p>8</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>9</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>11</p>
<p>1</p>
<p>From Target</p>
<p>Reset Status</p>
<p>nRST</p>
<p>13</p>
<p>Ground reference</p>
<p>GND</p>
<p>4, 6,</p>
<p>10, 12,</p>
<p>14</p>
<p><b>Notes:</b></p>
<p>The H-UDI specification requires a reset line from the target that indicates if the</p>
<p>target is currently in a reset state (signal</p>
<p>nRST</p>
<p>from pin 13). If a target instead</p>
<p>presents a</p>
<p>nRST</p>
<p>pin to the probe that can be used as an input to the board to cause</p>
<p><i>277</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Renesas H-UDI</i></p>
<h1 style="page-break-before:always; "></h1>
<p>a target reset, the probe can be reconfigured to use that signal to cause a system-wide</p>
<p>reset by setting the<b> allow_hard_rst</b> option to<b> on</b>. For more information about this</p>
<p>option, see “CPU Families and Debug Connectors” on page 237</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>278</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe Trace Pod Pin Assignments</b></p>
<p>This section describes pin assignments and electrical characteristics for the</p>
<p>SuperTrace Probe trace pods.</p>
<p>The input pins on SuperTrace Probe V1 active pods have the following electrical</p>
<p>characteristics:</p>
<p>•</p>
<p>The input capacitance is 10 pF.</p>
<p>•</p>
<p>Data lines are routed on 0.005 inch tracks on FR4 over a continuous plane. The</p>
<p>length of the data lines is 1.152 +/- 0.030 inches.</p>
<p>•</p>
<p>Data and clock signals are AC terminated to circuit ground with 330 Ohms +</p>
<p>5.6 pF in series. This is subject to modification or removal.</p>
<p>The input pins on SuperTrace Probe V3 active pods have the following electrical</p>
<p>characteristics:</p>
<p>•</p>
<p>The input capacitance is 10 pF.</p>
<p>•</p>
<p>Data and clock lines are routed on impedance-controlled, length-matched</p>
<p>microstrip and stripline structures with a target impedance of 50 Ohms +/-</p>
<p>10%. Total track lengths are 37 mm +/- 2 mm.</p>
<p>•</p>
<p>All data and clock signals are resistively terminated to ground with a 10 K</p>
<p>pull-down.</p>
<p>All probe inputs have light pull-downs to avoid completely floating signals. The</p>
<p>strength of these pull-downs varies slightly between different models of Green Hills</p>
<p>debug hardware, but is 500K to 1Mohm on current hardware models of STPv3 and</p>
<p>Green Hills Probe v3. For more specific information about pull-downs of older</p>
<p>hardware models, contact Green Hills support.</p>
<p><i>279</i></p>
<p><i>Green Hills Software</i></p>
<p><i>SuperTrace Probe Trace Pod Pin Assignments</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM ETM/PTM/CoreSight MICTOR</b></p>
<p>The following table describes pin assignments for the SuperTrace Probe trace pod</p>
<p>for ARM ETM/PTM/CoreSight MICTOR. Connect unused trace inputs to circuit</p>
<p>ground. For example, if you are implementing an 8-bit trace port, connect pins 23,</p>
<p>25, 27, 29, 31, 33, 35, and 37 to ground.</p>
<p><b>Notes</b></p>
<p><b>Type</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>CoreSight/ETMv3</b></p>
<p><b>ETMv1</b></p>
<p>n/c</p>
<p>n/c</p>
<p>1</p>
<p>n/c</p>
<p>n/c</p>
<p>2</p>
<p>n/c</p>
<p>n/c</p>
<p>3</p>
<p>n/c</p>
<p>n/c</p>
<p>4</p>
<p>3</p>
<p>GND</p>
<p>GND</p>
<p>5</p>
<p>From Target</p>
<p>TRACECLK</p>
<p>TRACECLK</p>
<p>6</p>
<p>4</p>
<p>To Target</p>
<p>DBGREQ</p>
<p>DBGREQ</p>
<p>7</p>
<p>4</p>
<p>From Target</p>
<p>DBGACK</p>
<p>DBGACK</p>
<p>8</p>
<p>Open-drain</p>
<p>nSRST</p>
<p>nSRST</p>
<p>9</p>
<p>4</p>
<p>To Target</p>
<p>EXTTrig</p>
<p>EXTTrig</p>
<p>10</p>
<p>6</p>
<p>From Target</p>
<p>TDO/SWO</p>
<p>TDO</p>
<p>11</p>
<p>5</p>
<p>From Target</p>
<p>VTref</p>
<p>VTref</p>
<p>12</p>
<p>From Target</p>
<p>RTCK</p>
<p>RTCK</p>
<p>13</p>
<p>5</p>
<p>Bidirectional</p>
<p>Vsupply</p>
<p>Vsupply</p>
<p>14</p>
<p>2</p>
<p>To Target</p>
<p>TCK</p>
<p>TCK</p>
<p>15</p>
<p>From Target</p>
<p>TRACEDATA[7]</p>
<p>TRACEPKT[7]</p>
<p>16</p>
<p>2, 6</p>
<p>To Target</p>
<p>TMS</p>
<p>TMS</p>
<p>17</p>
<p>From Target</p>
<p>TRACEDATA[6]</p>
<p>TRACEPKT[6]</p>
<p>18</p>
<p>To Target</p>
<p>TDI/SWDIO</p>
<p>TDI</p>
<p>19</p>
<p>From Target</p>
<p>TRACEDATA[5]</p>
<p>TRACEPKT[5]</p>
<p>20</p>
<p>To Target</p>
<p>nTRST</p>
<p>nTRST</p>
<p>21</p>
<p>From Target</p>
<p>TRACEDATA[4]</p>
<p>TRACEPKT[4]</p>
<p>22</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[15]</p>
<p>TRACEPKT[15]</p>
<p>23</p>
<p>From Target</p>
<p>TRACEDATA[3]</p>
<p>TRACEPKT[3]</p>
<p>24</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>280</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Type</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>CoreSight/ETMv3</b></p>
<p><b>ETMv1</b></p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[14]</p>
<p>TRACEPKT[14]</p>
<p>25</p>
<p>From Target</p>
<p>TRACEDATA[2]</p>
<p>TRACEPKT[2]</p>
<p>26</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[13]</p>
<p>TRACEPKT[13]</p>
<p>27</p>
<p>From Target</p>
<p>TRACEDATA[1]</p>
<p>TRACEPKT[1]</p>
<p>28</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[12]</p>
<p>TRACEPKT[12]</p>
<p>29</p>
<p>3</p>
<p>From Target</p>
<p>GND</p>
<p>TRACEPKT[0]</p>
<p>30</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[11]</p>
<p>TRACEPKT[11]</p>
<p>31</p>
<p>3</p>
<p>From Target</p>
<p>GND</p>
<p>TRACESYNC</p>
<p>32</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[10]</p>
<p>TRACEPKT[10]</p>
<p>33</p>
<p>3</p>
<p>From Target</p>
<p>PULL-UP</p>
<p>PIPESTAT[2]</p>
<p>34</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[9]</p>
<p>TRACEPKT[9]</p>
<p>35</p>
<p>From Target</p>
<p>TRACECTL</p>
<p>PIPESTAT[1]</p>
<p>36</p>
<p>1</p>
<p>From Target</p>
<p>TRACEDATA[8]</p>
<p>TRACEPKT[8]</p>
<p>37</p>
<p>From Target</p>
<p>TRACEDATA[0]</p>
<p>PIPESTAT[0]</p>
<p>38</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>For ETMv1, trace inputs in this group can be used for single-core tracing, or</p>
<p>for the second CPU in a compatible dual-core target.</p>
<p>2.</p>
<p>On STPv1, legacy STPv3 pod, and Green Hills Probe v2/v3, the probe adds</p>
<p>serial termination of 33 ohms when using the ARM-20 legacy TTM and</p>
<p>ARM-20-to-MICTOR pin adapter. The STPv3 TE pod has variable termination</p>
<p>of these signals (firmware-controlled by the documented<b> jtag_drive</b> option).</p>
<p>The Green Hills Probe v3 TE system has no series termination of these signals.</p>
<p>Customers do not need to add termination of their own to these signals, however</p>
<p>if the device does not have suitable pull-up/down resistors on-device, we</p>
<p>recommend a very light (&gt;100k ohms) pull-up on</p>
<p>TMS</p>
<p>and a similarly light</p>
<p>pull-down on</p>
<p>TCK</p>
<p>to avoid unexpected debug logic activity when no probe is</p>
<p>connected.</p>
<p>3.</p>
<p>For CoreSight and direct ETMv3 systems, this pin is not connected and may</p>
<p>display as</p>
<p>n/c</p>
<p>in the output of the<b> jp</b> command. The designation listed in the</p>
<p>table is recommended by the specification.</p>
<p><i>281</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM ETM/PTM/CoreSight MICTOR</i></p>
<h1 style="page-break-before:always; "></h1>
<p>4.</p>
<p>DBGACK</p>
<p>and</p>
<p>DBGREQ</p>
<p>are unnecessary and typically not used. Customers should</p>
<p>normally connect</p>
<p>DBGACK</p>
<p>to ground and leave</p>
<p>DBGREQ</p>
<p>unconnected.</p>
<p>EXTTrig</p>
<p>is also not commonly used, and can be left unconnected.</p>
<p>5.</p>
<p>New probes draw negligible current from both</p>
<p>VTRef</p>
<p>and</p>
<p>VSupply</p>
<p>. The</p>
<p>STPv1 and STPv3 legacy pods may draw as much as 5mA from</p>
<p>VSupply</p>
<p>,</p>
<p>but as long as</p>
<p>VTRef</p>
<p>is connected, probe operation will not be impacted if</p>
<p>VSupply</p>
<p>cannot meet that current demand. Only one of</p>
<p>VTRef</p>
<p>or</p>
<p>VSupply</p>
<p>needs to be connected via pull-up to the JTAG/SWD reference voltage of the</p>
<p>board in order to enable power and voltage level detection on Green Hills</p>
<p>debug hardware, but the ARM specifications indicate that both should be</p>
<p>connected for maximum debug device compatibility.</p>
<p>6.</p>
<p>In SWD and cJTAG two-wire modes,</p>
<p>TDI</p>
<p>and</p>
<p>TDO</p>
<p>are unused and</p>
<p>TMS</p>
<p>becomes bidirectional.</p>
<p>The public ARM documentation for the CoreSight TPIU has further information</p>
<p>about SoC-level design considerations for trace of this type.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>282</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM ETMv3/PTM/CoreSight MIPI-60</b></p>
<p>The following table describes pin assignments for the SuperTrace Probe trace pod</p>
<p>for ARM CoreSight/ETMv3/PTM using a MIPI-60 connector. Connect unused</p>
<p>trace inputs to circuit ground. For example, if you are implementing an 8-bit trace</p>
<p>port, connect pins 35, 37, 39, 41, 43, 45, 47, and 49 to ground.</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>CoreSight</b></p>
<p><b>MIPI-60</b></p>
<p>From Target</p>
<p>VREF_DEBUG</p>
<p>VREF_DEBUG</p>
<p>1</p>
<p>1</p>
<p>To Target</p>
<p>TMS</p>
<p>TMS</p>
<p>2</p>
<p>1</p>
<p>To Target</p>
<p>TCK</p>
<p>TCK</p>
<p>3</p>
<p>2</p>
<p>From Target</p>
<p>TDO/SWO</p>
<p>TDO</p>
<p>4</p>
<p>2</p>
<p>To Target</p>
<p>TDI/SWDIO</p>
<p>TDI</p>
<p>5</p>
<p>3</p>
<p>To Target</p>
<p>nRESET</p>
<p>nRESET</p>
<p>6</p>
<p>2</p>
<p>From Target</p>
<p>RTCK</p>
<p>RTCK</p>
<p>7</p>
<p>n/c</p>
<p>TRST_PD</p>
<p>8</p>
<p>To Target</p>
<p>nTRST</p>
<p>nTRST</p>
<p>9</p>
<p>To Target</p>
<p>TRIGIN</p>
<p>TRIGIN</p>
<p>10</p>
<p>From Target</p>
<p>TRIGOUT</p>
<p>TRIGOUT</p>
<p>11</p>
<p>From Target</p>
<p>VREF_TRACE</p>
<p>VREF_TRACE</p>
<p>12</p>
<p>From Target</p>
<p>TRC_CLK</p>
<p>TRC_CLK0</p>
<p>13</p>
<p>n/c</p>
<p>TRC_CLK1</p>
<p>14</p>
<p>n/c</p>
<p>PRESENCE_DET</p>
<p>15</p>
<p>GND</p>
<p>GND</p>
<p>16</p>
<p>4</p>
<p>n/c</p>
<p>TRC_DATA[0]</p>
<p>17</p>
<p>n/c</p>
<p>TRC_DATA[20]</p>
<p>18</p>
<p>From Target</p>
<p>TRC_DATA[0]</p>
<p>TRC_DATA[1]</p>
<p>19</p>
<p>n/c</p>
<p>TRC_DATA[21]</p>
<p>20</p>
<p>From Target</p>
<p>TRC_DATA[1]</p>
<p>TRC_DATA[2]</p>
<p>21</p>
<p>n/c</p>
<p>TRC_DATA[22]</p>
<p>22</p>
<p>From Target</p>
<p>TRC_DATA[2]</p>
<p>TRC_DATA[3]</p>
<p>23</p>
<p>n/c</p>
<p>TRC_DATA[23]</p>
<p>24</p>
<p><i>283</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM ETMv3/PTM/CoreSight MIPI-60</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>CoreSight</b></p>
<p><b>MIPI-60</b></p>
<p>From Target</p>
<p>TRC_DATA[3]</p>
<p>TRC_DATA[4]</p>
<p>25</p>
<p>n/c</p>
<p>TRC_DATA[24]</p>
<p>26</p>
<p>From Target</p>
<p>TRC_DATA[4]</p>
<p>TRC_DATA[5]</p>
<p>27</p>
<p>n/c</p>
<p>TRC_DATA[25]</p>
<p>28</p>
<p>From Target</p>
<p>TRC_DATA[5]</p>
<p>TRC_DATA[6]</p>
<p>29</p>
<p>n/c</p>
<p>TRC_DATA[26]</p>
<p>30</p>
<p>From Target</p>
<p>TRC_DATA[6]</p>
<p>TRC_DATA[7]</p>
<p>31</p>
<p>n/c</p>
<p>TRC_DATA[27]</p>
<p>32</p>
<p>From Target</p>
<p>TRC_DATA[7]</p>
<p>TRC_DATA[8]</p>
<p>33</p>
<p>n/c</p>
<p>TRC_DATA[28]</p>
<p>34</p>
<p>From Target</p>
<p>TRC_DATA[8]</p>
<p>TRC_DATA[9]</p>
<p>35</p>
<p>n/c</p>
<p>TRC_DATA[29]</p>
<p>36</p>
<p>From Target</p>
<p>TRC_DATA[9]</p>
<p>TRC_DATA[10]</p>
<p>37</p>
<p>n/c</p>
<p>TRC_DATA[30]</p>
<p>38</p>
<p>From Target</p>
<p>TRC_DATA[10]</p>
<p>TRC_DATA[11]</p>
<p>39</p>
<p>n/c</p>
<p>TRC_DATA[31]</p>
<p>40</p>
<p>From Target</p>
<p>TRC_DATA[11]</p>
<p>TRC_DATA[12]</p>
<p>41</p>
<p>n/c</p>
<p>TRC_DATA[32]</p>
<p>42</p>
<p>From Target</p>
<p>TRC_DATA[12]</p>
<p>TRC_DATA[13]</p>
<p>43</p>
<p>n/c</p>
<p>TRC_DATA[33]</p>
<p>44</p>
<p>From Target</p>
<p>TRC_DATA[13]</p>
<p>TRC_DATA[14]</p>
<p>45</p>
<p>n/c</p>
<p>TRC_DATA[34]</p>
<p>46</p>
<p>From Target</p>
<p>TRC_DATA[14]</p>
<p>TRC_DATA[15]</p>
<p>47</p>
<p>n/c</p>
<p>TRC_DATA[35]</p>
<p>48</p>
<p>From Target</p>
<p>TRC_DATA[15]</p>
<p>TRC_DATA[16]</p>
<p>49</p>
<p>n/c</p>
<p>TRC_DATA[36]</p>
<p>50</p>
<p>n/c</p>
<p>TRC_DATA[17]</p>
<p>51</p>
<p>n/c</p>
<p>TRC_DATA[37]</p>
<p>52</p>
<p>n/c</p>
<p>TRC_DATA[18]</p>
<p>53</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>284</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>CoreSight</b></p>
<p><b>MIPI-60</b></p>
<p>n/c</p>
<p>TRC_DATA[38]</p>
<p>54</p>
<p>n/c</p>
<p>TRC_DATA[19]</p>
<p>55</p>
<p>n/c</p>
<p>TRC_DATA[39]</p>
<p>56</p>
<p>GND</p>
<p>GND</p>
<p>57</p>
<p>GND</p>
<p>GND</p>
<p>58</p>
<p>n/c</p>
<p>TRC_CLK3</p>
<p>59</p>
<p>n/c</p>
<p>TRC_CLK2</p>
<p>60</p>
<p>See the CoreSight, ETM, PTM, or MIPI specification for more information.</p>
<p>In SWD mode,</p>
<p>nTRST</p>
<p>and</p>
<p>TDI</p>
<p>are unused,</p>
<p>TMS</p>
<p>becomes</p>
<p>SWDIO</p>
<p>and is bidirectional,</p>
<p>and</p>
<p>TDO</p>
<p>becomes</p>
<p>SWO</p>
<p>and is unused.</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Terminated with 33 ohms in series with output signal.</p>
<p>2.</p>
<p>Weak pull-up resistors enabled on these inputs in FPGA.</p>
<p>3.</p>
<p>Configured as an open-drain output.</p>
<p>4.</p>
<p>For ETMv3, this pin is not connected, but is in the MIPI specification as</p>
<p>TRACE_CTL</p>
<p>.</p>
<p><i>285</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM ETMv3/PTM/CoreSight MIPI-60</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 405/440/460 MICTOR</b></p>
<p>The following table describes pin assignments for the SuperTrace Probe trace pod</p>
<p>for PowerPC. Connect unused trace inputs to circuit ground.</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>PPC440/460</b></p>
<p><b>PPC405</b></p>
<p>n/c</p>
<p>n/c</p>
<p>1</p>
<p>n/c</p>
<p>n/c</p>
<p>2</p>
<p>n/c</p>
<p>n/c</p>
<p>3</p>
<p>n/c</p>
<p>n/c</p>
<p>4</p>
<p>7</p>
<p>GND</p>
<p>GND</p>
<p>5</p>
<p>From Target</p>
<p>TrcClk</p>
<p>TrcClk</p>
<p>6</p>
<p>6</p>
<p>To Target</p>
<p>HALT</p>
<p>HALT</p>
<p>7</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>8</p>
<p>To Target</p>
<p>n/c</p>
<p>n/c</p>
<p>9</p>
<p>To Target</p>
<p>n/c</p>
<p>n/c</p>
<p>10</p>
<p>3</p>
<p>From Target</p>
<p>TDO</p>
<p>TDO</p>
<p>11</p>
<p>4, 5</p>
<p>From Target</p>
<p>Vref</p>
<p>Vref</p>
<p>12</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>13</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>14</p>
<p>2, 6</p>
<p>To Target</p>
<p>TCK</p>
<p>TCK</p>
<p>15</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>16</p>
<p>2, 6</p>
<p>To Target</p>
<p>TMS</p>
<p>TMS</p>
<p>17</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>18</p>
<p>2, 6</p>
<p>To Target</p>
<p>TDI</p>
<p>TDI</p>
<p>19</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>20</p>
<p>To Target</p>
<p>nTRST</p>
<p>nTRST</p>
<p>21</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>22</p>
<p>From Target</p>
<p>n/c</p>
<p>n/c</p>
<p>23</p>
<p>From Target</p>
<p>ES4</p>
<p>TS1O</p>
<p>24</p>
<p>1</p>
<p>From Target</p>
<p>BS0/BR0</p>
<p>n/c</p>
<p>25</p>
<p>From Target</p>
<p>TS0</p>
<p>TS2O</p>
<p>26</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>286</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p><b>PPC440/460</b></p>
<p><b>PPC405</b></p>
<p>1</p>
<p>From Target</p>
<p>BS1/BR1</p>
<p>n/c</p>
<p>27</p>
<p>From Target</p>
<p>TS1</p>
<p>TS1E</p>
<p>28</p>
<p>1</p>
<p>From Target</p>
<p>BS2/BR2</p>
<p>n/c</p>
<p>29</p>
<p>From Target</p>
<p>TS2</p>
<p>TS2E</p>
<p>30</p>
<p>1</p>
<p>From Target</p>
<p>ES0</p>
<p>n/c</p>
<p>31</p>
<p>From Target</p>
<p>TS3</p>
<p>TS3</p>
<p>32</p>
<p>1</p>
<p>From Target</p>
<p>ES1</p>
<p>n/c</p>
<p>33</p>
<p>From Target</p>
<p>TS4</p>
<p>TS4</p>
<p>34</p>
<p>1</p>
<p>From Target</p>
<p>ES2</p>
<p>n/c</p>
<p>35</p>
<p>From Target</p>
<p>TS5</p>
<p>TS5</p>
<p>36</p>
<p>1</p>
<p>From Target</p>
<p>ES3</p>
<p>n/c</p>
<p>37</p>
<p>From Target</p>
<p>TS6</p>
<p>TS6</p>
<p>38</p>
<p>1.</p>
<p>Trace inputs in this group can be used for single-core tracing, or for the second</p>
<p>CPU in a compatible dual-core target.</p>
<p>2.</p>
<p>Terminated with 33 ohms in series with output signal.</p>
<p>3.</p>
<p>Weak pull-up resistors enabled on these inputs in FPGA.</p>
<p>4.</p>
<p>Terminated with 48.5k ohms resistor to circuit ground.</p>
<p>5.</p>
<p>Connect to target I/O power supply through a 1k Ohms (or less) resistor.</p>
<p>6.</p>
<p>Include a 10k Ohms pull-up resistor on the target board for this signal.</p>
<p>7.</p>
<p>The probe makes no use of this pin. It is internally disconnected.</p>
<p><i>287</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC 405/440/460 MICTOR</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 405 20-Pin Header</b></p>
<p>The following table describes pin assignments for the SuperTrace Probe trace pod</p>
<p>for the 20-pin PowerPC 405 header connector.</p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p>n/c</p>
<p>1</p>
<p>n/c</p>
<p>2</p>
<p>From Target</p>
<p>TrcClk</p>
<p>3</p>
<p>n/c</p>
<p>4</p>
<p>n/c</p>
<p>5</p>
<p>n/c</p>
<p>6</p>
<p>n/c</p>
<p>7</p>
<p>n/c</p>
<p>8</p>
<p>n/c</p>
<p>9</p>
<p>n/c</p>
<p>10</p>
<p>n/c</p>
<p>11</p>
<p>From Target</p>
<p>TS1O</p>
<p>12</p>
<p>From Target</p>
<p>TS0/TS2O</p>
<p>13</p>
<p>From Target</p>
<p>TS1/TS2E</p>
<p>14</p>
<p>From Target</p>
<p>TS2/TS2E</p>
<p>15</p>
<p>From Target</p>
<p>TS3</p>
<p>16</p>
<p>From Target</p>
<p>TS4</p>
<p>17</p>
<p>From Target</p>
<p>TS5</p>
<p>18</p>
<p>From Target</p>
<p>TS6</p>
<p>19</p>
<p>GND</p>
<p>20</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>288</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 55xx/56xx/57xx Nexus</b></p>
<p>PowerPC Nexus is the standard connector used to debug PowerPC 55xx/56xx/57xx</p>
<p>targets. This connector deviates slightly from the Nexus standard. For information</p>
<p>about standard Nexus connections, see “Generic Nexus” on page 271.</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>n/c</p>
<p>1</p>
<p>n/c</p>
<p>2</p>
<p>n/c</p>
<p>3</p>
<p>n/c</p>
<p>4</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO9</p>
<p>5</p>
<p>From Target</p>
<p>System Clock</p>
<p>CLKOUT</p>
<p>6</p>
<p>n/c</p>
<p>7</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO8</p>
<p>8</p>
<p>To Target</p>
<p>Target Reset, Active Low</p>
<p>NRESET</p>
<p>9</p>
<p>To Target</p>
<p>Nexus event in</p>
<p>EVTI</p>
<p>10</p>
<p>From Target</p>
<p>JTAG Test Data Out</p>
<p>TDO</p>
<p>11</p>
<p>From Target</p>
<p>Target Voltage Reference</p>
<p>VREF</p>
<p>12</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO10</p>
<p>13</p>
<p>Bidirectional</p>
<p>Nexus Ready</p>
<p>NRDY</p>
<p>14</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP Clock</p>
<p>TCK</p>
<p>15</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO7</p>
<p>16</p>
<p>1</p>
<p>To Target</p>
<p>JTAG TAP Machine State</p>
<p>TMS</p>
<p>17</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO6</p>
<p>18</p>
<p>1</p>
<p>To Target</p>
<p>JTAG Test Data In</p>
<p>TDI</p>
<p>19</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO5</p>
<p>20</p>
<p>2</p>
<p>To Target</p>
<p>JTAG TAP Reset, Active Low</p>
<p>NTRST</p>
<p>21</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO4</p>
<p>22</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO11</p>
<p>23</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO3</p>
<p>24</p>
<p>n/c</p>
<p>25</p>
<p><i>289</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC 55xx/56xx/57xx Nexus</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Description</b></p>
<p><b>Name</b></p>
<p><b>Pin</b></p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO2</p>
<p>26</p>
<p>n/c</p>
<p>27</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO1</p>
<p>28</p>
<p>n/c</p>
<p>29</p>
<p>From Target</p>
<p>Trace Data</p>
<p>MDO0</p>
<p>30</p>
<p>n/c</p>
<p>31</p>
<p>From Target</p>
<p>Nexus Event Out</p>
<p>EVTO</p>
<p>32</p>
<p>n/c</p>
<p>33</p>
<p>From Target</p>
<p>Trace Clock</p>
<p>MCKO</p>
<p>34</p>
<p>n/c</p>
<p>35</p>
<p>From Target</p>
<p>Nexus Message Start/End</p>
<p>MSEO1</p>
<p>36</p>
<p>n/c</p>
<p>37</p>
<p>From Target</p>
<p>Nexus Message Start/End</p>
<p>MSEO0</p>
<p>38</p>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Pull up to a logical high with a resistor.</p>
<p>2.</p>
<p>The</p>
<p>NTRST</p>
<p>signal connects to the processor's</p>
<p>JCOMP</p>
<p>signal. The MPC5500</p>
<p>microprocessors include a weak internal pull-down on the</p>
<p>/JCOMP</p>
<p>pin. Board</p>
<p>designers can optionally strengthen this pull-down by adding a resistor of 4.7K</p>
<p>from</p>
<p>JCOMP</p>
<p>to ground.</p>
<p>Example connector part numbers:</p>
<p><b>Vertical Mount</b></p>
<p><b>Manufacturer</b></p>
<p>767054-1</p>
<p>AMP/Tyco [http://www.amp.com]</p>
<p><b>ColdFire</b></p>
<p>For information about SuperTrace Probe ColdFire connectors, see “ColdFire BDM”</p>
<p>on page 259.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>290</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe TE Trace Pod and Green Hills Probe TE Adapter</b></p>
<p><b>Pin Assignments</b></p>
<p><b>Nexus HP50</b></p>
<p>The following table describes pin assignments for the SuperTrace Probe TE trace</p>
<p>pod and Green Hills Probe TE adapter for Nexus HP50, which uses a variation of</p>
<p>Samtec ERF8/ERM8-025.</p>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p>1</p>
<p>From Target</p>
<p>MSEO0</p>
<p>1</p>
<p>From Target</p>
<p>TVREF</p>
<p>2</p>
<p>1</p>
<p>From Target</p>
<p>MSEO1</p>
<p>3</p>
<p>To Target</p>
<p>TCK</p>
<p>4</p>
<p>GND</p>
<p>5</p>
<p>Bidirectional</p>
<p>TMSC</p>
<p>6</p>
<p>1</p>
<p>From Target</p>
<p>MDO0</p>
<p>7</p>
<p>To Target</p>
<p>TDI</p>
<p>8</p>
<p>1</p>
<p>From Target</p>
<p>MDO1</p>
<p>9</p>
<p>From Target</p>
<p>TDO</p>
<p>10</p>
<p>GND</p>
<p>11</p>
<p>To Target</p>
<p>NTRST</p>
<p>12</p>
<p>1</p>
<p>From Target</p>
<p>MDO2</p>
<p>13</p>
<p>7</p>
<p>From Target</p>
<p>NRDY</p>
<p>14</p>
<p>1</p>
<p>From Target</p>
<p>MDO3</p>
<p>15</p>
<p>5</p>
<p>To Target</p>
<p>EVTI</p>
<p>16</p>
<p>GND</p>
<p>17</p>
<p>6</p>
<p>From Target</p>
<p>EVTO</p>
<p>18</p>
<p>1</p>
<p>From Target</p>
<p>MCKO</p>
<p>19</p>
<p>Open-drain</p>
<p>HRST</p>
<p>20</p>
<p>1</p>
<p>From Target</p>
<p>MDO4</p>
<p>21</p>
<p>3</p>
<p>Bidirectional</p>
<p>TOOLIO0[GEN_IO0]</p>
<p>22</p>
<p><i>291</i></p>
<p><i>Green Hills Software</i></p>
<p><i>SuperTrace Probe TE Trace Pod and Green Hills Probe TE Adapter Pin Assignments</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Direction</b></p>
<p><b>Signal Name</b></p>
<p><b>Pin</b></p>
<p>GND</p>
<p>23</p>
<p>GND</p>
<p>24</p>
<p>1</p>
<p>From Target</p>
<p>MDO5</p>
<p>25</p>
<p>4</p>
<p>From Target</p>
<p>CLKOUT</p>
<p>26</p>
<p>1</p>
<p>From Target</p>
<p>MDO6</p>
<p>27</p>
<p>2</p>
<p>To Target</p>
<p>MDI1</p>
<p>28</p>
<p>GND</p>
<p>29</p>
<p>GND</p>
<p>30</p>
<p>1</p>
<p>From Target</p>
<p>MDO7</p>
<p>31</p>
<p>2</p>
<p>To Target</p>
<p>MDI2</p>
<p>32</p>
<p>1</p>
<p>From Target</p>
<p>MDO8</p>
<p>33</p>
<p>2</p>
<p>To Target</p>
<p>MDI3</p>
<p>34</p>
<p>GND</p>
<p>35</p>
<p>GND</p>
<p>36</p>
<p>1</p>
<p>From Target</p>
<p>MDO9</p>
<p>37</p>
<p>3</p>
<p>Bidirectional</p>
<p>BOOTCFG[GEN_IO4]</p>
<p>38</p>
<p>1</p>
<p>From Target</p>
<p>MDO10</p>
<p>39</p>
<p>3</p>
<p>Bidirectional</p>
<p>TOOLIO5[GEN_IO5]</p>
<p>40</p>
<p>GND</p>
<p>41</p>
<p>GND</p>
<p>42</p>
<p>1</p>
<p>From Target</p>
<p>MDO11</p>
<p>43</p>
<p>1</p>
<p>From Target</p>
<p>MDO13</p>
<p>44</p>
<p>1</p>
<p>From Target</p>
<p>MDO12</p>
<p>45</p>
<p>1</p>
<p>From Target</p>
<p>MDO14</p>
<p>46</p>
<p>GND</p>
<p>47</p>
<p>GND</p>
<p>48</p>
<p>1</p>
<p>From Target</p>
<p>MDO15</p>
<p>49</p>
<p>n/c</p>
<p>50</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>292</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes:</b></p>
<p>1.</p>
<p>Trace inputs (the Nexus parallel AUX channel of signals</p>
<p>MSEO<i>x</i></p>
<p>,</p>
<p>MCKO</p>
<p>, and</p>
<p>MDO<i>x</i></p>
<p>) are only used when the adapter is connected to the TE trace pod, and</p>
<p>are unused when the adapter is connected to a Green Hills Probe. Connect any</p>
<p>unused trace inputs to circuit ground.</p>
<p>2.</p>
<p>The</p>
<p>MDI<i>x</i></p>
<p>AUX channel to the target is unused by Green Hills hardware devices</p>
<p>and can be left unconnected.</p>
<p>3.</p>
<p>Pins named</p>
<p>GEN_IO<i>x</i></p>
<p>in the Nexus standard are given more specific names</p>
<p>by some board/SoC implementations. Green Hills connector definitions use</p>
<p>the specific names by default, with the</p>
<p>GEN_IO<i>x</i></p>
<p>names given in brackets.</p>
<p>These pins are available as GPIOs for use with all probe types, but are not</p>
<p>driven by the probe by default.</p>
<p>4.</p>
<p>CLKOUT</p>
<p>is not used by Green Hills hardware devices and can be tied to ground,</p>
<p>left unconnected, or connected to the</p>
<p>CLKOUT</p>
<p>pin (present only on older Nexus</p>
<p>devices) at the board implementer's option.</p>
<p>5.</p>
<p>EVTI</p>
<p>can be triggered through GPIO commands, but is not used by the</p>
<p>firmware or tools software.</p>
<p>6.</p>
<p>EVTO</p>
<p>output from the target is used to detect triggers in some cases.</p>
<p>7.</p>
<p>NRDY</p>
<p>is not used by the firmware and should be grounded if not connected to</p>
<p>the equivalent target signal.</p>
<p><i>293</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Nexus HP50</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe High-Speed Serial Trace Pin Assignments</b></p>
<p><b>ARM CoreSight HSSTP (ERF8-020)</b></p>
<p><b>Description</b></p>
<p><b>Dir</b></p>
<p><b>Name</b></p>
<p><b>Number</b></p>
<p><b>Name</b></p>
<p><b>Dir</b></p>
<p><b>Description</b></p>
<p>Voltage Reference</p>
<p>-&gt;</p>
<p>VREF</p>
<p>2</p>
<p>1</p>
<p>TXP4</p>
<p>&lt;-</p>
<p>Aurora Lane 4</p>
<p>JTAG Clock</p>
<p>&lt;-</p>
<p>TCK</p>
<p>4</p>
<p>3</p>
<p>TXN4</p>
<p>&lt;-</p>
<p>Aurora Lane 4</p>
<p>GND</p>
<p>6</p>
<p>5</p>
<p>GND</p>
<p>JTAG State</p>
<p>&lt;-</p>
<p>TMS</p>
<p>8</p>
<p>7</p>
<p>TXP2</p>
<p>&lt;-</p>
<p>Aurora Lane 2</p>
<p>JTAG Reset</p>
<p>&lt;-</p>
<p>TRST</p>
<p>10</p>
<p>9</p>
<p>TXN2</p>
<p>&lt;-</p>
<p>Aurora Lane 2</p>
<p>GND</p>
<p>12</p>
<p>11</p>
<p>GND</p>
<p>JTAG Test Data</p>
<p>&lt;-</p>
<p>TDI</p>
<p>14</p>
<p>13</p>
<p>TXP0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>JTAG Test Data</p>
<p>-&gt;</p>
<p>TDO</p>
<p>16</p>
<p>15</p>
<p>TXN0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>GND</p>
<p>18</p>
<p>17</p>
<p>GND</p>
<p>Target Reset</p>
<p>&lt;-</p>
<p>RESET</p>
<p>20</p>
<p>19</p>
<p>REFCLKP</p>
<p>-&gt;</p>
<p>Not Used</p>
<p>Debug Request</p>
<p>&lt;-</p>
<p>DBGRQ</p>
<p>22</p>
<p>21</p>
<p>REFCLKN</p>
<p>-&gt;</p>
<p>Not Used</p>
<p>GND</p>
<p>24</p>
<p>23</p>
<p>GND</p>
<p>Debug</p>
<p>Acknowledge</p>
<p>-&gt;</p>
<p>DBGACK</p>
<p>26</p>
<p>25</p>
<p>TXP1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>Target Clock</p>
<p>-&gt;</p>
<p>RTCK</p>
<p>28</p>
<p>27</p>
<p>TXN1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>GND</p>
<p>30</p>
<p>29</p>
<p>GND</p>
<p>Trigger In</p>
<p>&lt;-</p>
<p>TRIGIN</p>
<p>32</p>
<p>31</p>
<p>TXP3</p>
<p>&lt;-</p>
<p>Aurora Lane 3</p>
<p>Trigger out</p>
<p>-&gt;</p>
<p>TRIGOUT</p>
<p>34</p>
<p>33</p>
<p>TXN3</p>
<p>&lt;-</p>
<p>Aurora Lane 3</p>
<p>N/C</p>
<p>36</p>
<p>35</p>
<p>GND</p>
<p>N/C</p>
<p>38</p>
<p>37</p>
<p>TXP5</p>
<p>&lt;-</p>
<p>Aurora Lane 5</p>
<p>N/C</p>
<p>40</p>
<p>39</p>
<p>TXN5</p>
<p>&lt;-</p>
<p>Aurora Lane 5</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>294</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>QorIQ Nexus Trace (ERF35)</b></p>
<p><b>Description</b></p>
<p><b>Dir</b></p>
<p><b>Name</b></p>
<p><b>Number</b></p>
<p><b>Name</b></p>
<p><b>Dir</b></p>
<p><b>Description</b></p>
<p>Voltage Reference</p>
<p>-&gt;</p>
<p>VREF</p>
<p>2</p>
<p>1</p>
<p>TXP0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>JTAG Clock</p>
<p>&lt;-</p>
<p>TCK</p>
<p>4</p>
<p>3</p>
<p>TXN0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>JTAG State</p>
<p>&lt;-</p>
<p>TMS</p>
<p>6</p>
<p>5</p>
<p>GND</p>
<p>JTAG Test Data</p>
<p>&lt;-</p>
<p>TDI</p>
<p>8</p>
<p>7</p>
<p>TXP1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>JTAG Test Data</p>
<p>-&gt;</p>
<p>TDO</p>
<p>10</p>
<p>9</p>
<p>TXN1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>JTAG Reset</p>
<p>&lt;-</p>
<p>TRST</p>
<p>12</p>
<p>11</p>
<p>GND</p>
<p>Target Halt</p>
<p>&lt;-</p>
<p>HALT</p>
<p>14</p>
<p>13</p>
<p>RXP0</p>
<p>-&gt;</p>
<p>Aurora Lane 0</p>
<p>Event In</p>
<p>&lt;-</p>
<p>EVTI</p>
<p>16</p>
<p>15</p>
<p>RXN0</p>
<p>-&gt;</p>
<p>Aurora Lane 0</p>
<p>Event Out</p>
<p>-&gt;</p>
<p>EVTO</p>
<p>18</p>
<p>17</p>
<p>GND</p>
<p>Generic IO</p>
<p>&lt;-&gt;</p>
<p>GEN_IO_3</p>
<p>20</p>
<p>19</p>
<p>RXP1</p>
<p>-&gt;</p>
<p>Aurora Lane 1</p>
<p>Target Reset</p>
<p>&lt;-</p>
<p>RESET</p>
<p>22</p>
<p>21</p>
<p>RXN1</p>
<p>-&gt;</p>
<p>Aurora Lane 1</p>
<p>GND</p>
<p>24</p>
<p>23</p>
<p>GND</p>
<p>Not Used</p>
<p>&lt;-</p>
<p>REFCLKP</p>
<p>26</p>
<p>25</p>
<p>TXP2</p>
<p>&lt;-</p>
<p>Aurora Lane 2</p>
<p>Not Used</p>
<p>&lt;-</p>
<p>REFCLKN</p>
<p>28</p>
<p>27</p>
<p>TXN2</p>
<p>&lt;-</p>
<p>Aurora Lane 2</p>
<p>GND</p>
<p>30</p>
<p>29</p>
<p>GND</p>
<p>Not Used</p>
<p>&lt;-&gt;</p>
<p>RDY</p>
<p>32</p>
<p>31</p>
<p>TXP3</p>
<p>&lt;-</p>
<p>Aurora Lane 3</p>
<p>Not Used</p>
<p>&lt;-</p>
<p>NSRST</p>
<p>34</p>
<p>33</p>
<p>TXN3</p>
<p>&lt;-</p>
<p>Aurora Lane 3</p>
<p>GND</p>
<p>36</p>
<p>35</p>
<p>GND</p>
<p>N/C</p>
<p>38</p>
<p>37</p>
<p>RXP2</p>
<p>-&gt;</p>
<p>Aurora Lane 2</p>
<p>N/C</p>
<p>40</p>
<p>39</p>
<p>RXN2</p>
<p>-&gt;</p>
<p>Aurora Lane 2</p>
<p>N/C</p>
<p>42</p>
<p>41</p>
<p>GND</p>
<p>N/C</p>
<p>44</p>
<p>43</p>
<p>RXP3</p>
<p>-&gt;</p>
<p>Aurora Lane 3</p>
<p>N/C</p>
<p>46</p>
<p>45</p>
<p>RXN3</p>
<p>-&gt;</p>
<p>Aurora Lane 3</p>
<p>N/C</p>
<p>48</p>
<p>47</p>
<p>GND</p>
<p>N/C</p>
<p>50</p>
<p>49</p>
<p>TXP4</p>
<p>&lt;-</p>
<p>Aurora Lane 4</p>
<p>N/C</p>
<p>52</p>
<p>51</p>
<p>TXN4</p>
<p>&lt;-</p>
<p>Aurora Lane 4</p>
<p>N/C</p>
<p>54</p>
<p>53</p>
<p>GND</p>
<p>N/C</p>
<p>56</p>
<p>55</p>
<p>TXP5</p>
<p>&lt;-</p>
<p>Aurora Lane 5</p>
<p>N/C</p>
<p>58</p>
<p>57</p>
<p>TXN5</p>
<p>&lt;-</p>
<p>Aurora Lane 5</p>
<p><i>295</i></p>
<p><i>Green Hills Software</i></p>
<p><i>QorIQ Nexus Trace (ERF35)</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Description</b></p>
<p><b>Dir</b></p>
<p><b>Name</b></p>
<p><b>Number</b></p>
<p><b>Name</b></p>
<p><b>Dir</b></p>
<p><b>Description</b></p>
<p>N/C</p>
<p>60</p>
<p>59</p>
<p>GND</p>
<p>N/C</p>
<p>62</p>
<p>61</p>
<p>TXP6</p>
<p>&lt;-</p>
<p>Aurora Lane 6</p>
<p>N/C</p>
<p>64</p>
<p>63</p>
<p>TXN6</p>
<p>&lt;-</p>
<p>Aurora Lane 6</p>
<p>N/C</p>
<p>66</p>
<p>65</p>
<p>GND</p>
<p>N/C</p>
<p>68</p>
<p>67</p>
<p>TXP7</p>
<p>&lt;-</p>
<p>Aurora Lane 7</p>
<p>N/C</p>
<p>70</p>
<p>69</p>
<p>TXN7</p>
<p>&lt;-</p>
<p>Aurora Lane 7</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>296</i></p>
<p><i>Appendix B. Pin Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>QorIQ Nexus Trace (ERF11)</b></p>
<p><b>Description</b></p>
<p><b>Dir</b></p>
<p><b>Name</b></p>
<p><b>Number</b></p>
<p><b>Name</b></p>
<p><b>Dir</b></p>
<p><b>Description</b></p>
<p>Voltage Reference</p>
<p>-&gt;</p>
<p>VREF</p>
<p>2</p>
<p>1</p>
<p>TXP0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>JTAG Clock</p>
<p>&lt;-</p>
<p>TCK</p>
<p>4</p>
<p>3</p>
<p>TXN0</p>
<p>&lt;-</p>
<p>Aurora Lane 0</p>
<p>JTAG State</p>
<p>&lt;-</p>
<p>TMS</p>
<p>6</p>
<p>5</p>
<p>GND</p>
<p>JTAG Test Data</p>
<p>&lt;-</p>
<p>TDI</p>
<p>8</p>
<p>7</p>
<p>TXP1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>JTAG Test Data</p>
<p>-&gt;</p>
<p>TDO</p>
<p>10</p>
<p>9</p>
<p>TXN1</p>
<p>&lt;-</p>
<p>Aurora Lane 1</p>
<p>JTAG Reset</p>
<p>&lt;-</p>
<p>TRST</p>
<p>12</p>
<p>11</p>
<p>GND</p>
<p>Generic IO</p>
<p>&lt;-&gt;</p>
<p>GEN_IO_0</p>
<p>14</p>
<p>13</p>
<p>RXP0</p>
<p>-&gt;</p>
<p>Aurora Lane 0</p>
<p>Event In</p>
<p>&lt;-</p>
<p>EVTI</p>
<p>16</p>
<p>15</p>
<p>RXN0</p>
<p>-&gt;</p>
<p>Aurora Lane 0</p>
<p>Event Out</p>
<p>-&gt;</p>
<p>EVTO</p>
<p>18</p>
<p>17</p>
<p>GND</p>
<p>Generic IO</p>
<p>&lt;-&gt;</p>
<p>GEN_IO_3</p>
<p>20</p>
<p>19</p>
<p>RXP1</p>
<p>-&gt;</p>
<p>Aurora Lane 1</p>
<p>Target Reset</p>
<p>&lt;-</p>
<p>RESET</p>
<p>22</p>
<p>21</p>
<p>RXN1</p>
<p>-&gt;</p>
<p>Aurora Lane 1</p>
<p><i>297</i></p>
<p><i>Green Hills Software</i></p>
<p><i>QorIQ Nexus Trace (ERF11)</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix C</b></p>
<p><b>CPU-Specific Bit Tables</b></p>
<p><b>Contents</b></p>
<p>Virtual and Physical Tags . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>300</p>
<p>Cache Tags . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>309</p>
<h1 style="page-break-before:always; "></h1>
<p>The tables in this appendix list TLB and cache tag information according to CPU</p>
<p>type. The tables are divided into two sections:</p>
<p>•</p>
<p>“Virtual and Physical Tags” on page 300</p>
<p>•</p>
<p>“Cache Tags” on page 309</p>
<p>In each of these tables, bit 0 refers to the least significant bit. For more information</p>
<p>about the<i> vtag</i> and<i> ptag</i> parameters, see the<b> tlbw</b> command in “Cache, Memory,</p>
<p>and TLB Commands” on page 191.</p>
<p><b>Virtual and Physical Tags</b></p>
<p><b>Cortex-A15</b></p>
<p><b>L2</b></p>
<p><b>L1-D</b></p>
<p><b>L1-I</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>Par</p>
<p>99</p>
<p>Sec</p>
<p>101</p>
<p>V</p>
<p>97</p>
<p>Hyp</p>
<p>97</p>
<p>Hyp</p>
<p>98</p>
<p>Share</p>
<p>96..95</p>
<p>Sec</p>
<p>96</p>
<p>Share</p>
<p>91..90</p>
<p>NG</p>
<p>85</p>
<p>NS</p>
<p>95</p>
<p>MAIR</p>
<p>89..82</p>
<p>VAMSID</p>
<p>83..82</p>
<p>DnS</p>
<p>65</p>
<p>VMID</p>
<p>81..74</p>
<p>VMID</p>
<p>81..74</p>
<p>VMID</p>
<p>94..87</p>
<p>ASID</p>
<p>73..66</p>
<p>ASID</p>
<p>73..66</p>
<p>ASID</p>
<p>86..79</p>
<p>DomID</p>
<p>65..62</p>
<p>MAIR</p>
<p>65..58</p>
<p>Size</p>
<p>33..31</p>
<p>V</p>
<p>49</p>
<p>DomID</p>
<p>55..52</p>
<p>XN</p>
<p>29</p>
<p>NS</p>
<p>48</p>
<p>NS</p>
<p>48</p>
<p>PXN</p>
<p>28</p>
<p>nG</p>
<p>14</p>
<p>Dom</p>
<p>13..10</p>
<p>OS</p>
<p>9</p>
<p>IS</p>
<p>8</p>
<p>MAIR</p>
<p>7..0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>300</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MIPS32</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>C</p>
<p>5..3</p>
<p>ASID</p>
<p>39..32</p>
<p>D</p>
<p>2</p>
<p>V</p>
<p>1</p>
<p>G</p>
<p>0</p>
<p>PageMask</p>
<p>31..0</p>
<p><b>MIPS64</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>C</p>
<p>5..3</p>
<p>R</p>
<p>95..94</p>
<p>D</p>
<p>2</p>
<p>V</p>
<p>1</p>
<p>ASID</p>
<p>39..32</p>
<p>G</p>
<p>0</p>
<p>PageMask</p>
<p>31..0</p>
<p><b>MIPS 4KS</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>RI</p>
<p>31</p>
<p>ASID</p>
<p>39..32</p>
<p>XI</p>
<p>30</p>
<p>C</p>
<p>5..3</p>
<p>D</p>
<p>2</p>
<p>V</p>
<p>1</p>
<p>G</p>
<p>0</p>
<p>PageMask</p>
<p>31..0</p>
<p><i>301</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Virtual and Physical Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 405</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>EX</p>
<p>9</p>
<p>SIZE</p>
<p>13..11</p>
<p>WR</p>
<p>8</p>
<p>ZSEL</p>
<p>7..4</p>
<p>W</p>
<p>3</p>
<p>V</p>
<p>10</p>
<p>I</p>
<p>2</p>
<p>E</p>
<p>9</p>
<p>M</p>
<p>1</p>
<p>U0</p>
<p>8</p>
<p>G</p>
<p>0</p>
<p>PID</p>
<p>7..0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>302</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 440</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>U0</p>
<p>*</p>
<p>31</p>
<p>U1</p>
<p>*</p>
<p>30</p>
<p>U2</p>
<p>*</p>
<p>29</p>
<p>U3</p>
<p>*</p>
<p>28</p>
<p>V</p>
<p>25</p>
<p>TS</p>
<p>24</p>
<p>SIZE</p>
<p>23..20</p>
<p>TID</p>
<p>19..12</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>G</p>
<p>7</p>
<p>E</p>
<p>6</p>
<p>UX</p>
<p>5</p>
<p>UW</p>
<p>4</p>
<p>UR</p>
<p>3</p>
<p>SX</p>
<p>2</p>
<p>SW</p>
<p>1</p>
<p>ERPN</p>
<p>3..0</p>
<p>SR</p>
<p>0</p>
<p>* These tags are only available with probe firmware version 1.6 and later.</p>
<p><i>303</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Virtual and Physical Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 567x</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>VLE*</p>
<p>26</p>
<p>V</p>
<p>25</p>
<p>TS</p>
<p>24</p>
<p>SIZE</p>
<p>23..19</p>
<p>TID</p>
<p>18..11</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>G</p>
<p>7</p>
<p>E</p>
<p>6</p>
<p>UX</p>
<p>5</p>
<p>U3</p>
<p>4</p>
<p>SX</p>
<p>4</p>
<p>U2</p>
<p>3</p>
<p>UW</p>
<p>3</p>
<p>U1</p>
<p>2</p>
<p>SW</p>
<p>2</p>
<p>U0</p>
<p>1</p>
<p>UR</p>
<p>1</p>
<p>IPROT</p>
<p>0</p>
<p>SR</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>304</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 55xx, 563x, and 566x</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>VLE*</p>
<p>25</p>
<p>V</p>
<p>24</p>
<p>TS</p>
<p>23</p>
<p>SIZE</p>
<p>22..19</p>
<p>TID</p>
<p>18..11</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>G</p>
<p>7</p>
<p>E</p>
<p>6</p>
<p>UX</p>
<p>5</p>
<p>U3</p>
<p>4</p>
<p>SX</p>
<p>4</p>
<p>U2</p>
<p>3</p>
<p>UW</p>
<p>3</p>
<p>U1</p>
<p>2</p>
<p>SW</p>
<p>2</p>
<p>U0</p>
<p>1</p>
<p>UR</p>
<p>1</p>
<p>IPROT</p>
<p>0</p>
<p>SR</p>
<p>0</p>
<p>*This field only appears in the TLB entry for processors that support VLE.</p>
<p><i>305</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Virtual and Physical Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 85xx, P1xxx and P2xxx</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>24</p>
<p>TS</p>
<p>23</p>
<p>SIZE</p>
<p>22..19</p>
<p>TID</p>
<p>18..11</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>SHAREN</p>
<p>7</p>
<p>G</p>
<p>7</p>
<p>X1</p>
<p>6</p>
<p>E</p>
<p>6</p>
<p>X0</p>
<p>5</p>
<p>UX</p>
<p>5</p>
<p>U3</p>
<p>4</p>
<p>UW</p>
<p>4</p>
<p>U2</p>
<p>3</p>
<p>UR</p>
<p>3</p>
<p>U1</p>
<p>2</p>
<p>SX</p>
<p>2</p>
<p>U0</p>
<p>1</p>
<p>SW</p>
<p>1</p>
<p>IPROT</p>
<p>0</p>
<p>SR</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>306</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>QorIQ e500mc and e5500 cores (e.g., P4080, P3041, P5020)</b></p>
<p><b>TLB0</b></p>
<p><b>TLB1</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>GS</p>
<p>29</p>
<p>GS</p>
<p>31</p>
<p>LRU</p>
<p>27..28</p>
<p>LPID</p>
<p>25..30</p>
<p>LPIDR</p>
<p>21..26</p>
<p>V</p>
<p>24</p>
<p>V</p>
<p>20</p>
<p>TS</p>
<p>23</p>
<p>TS</p>
<p>19</p>
<p>SIZE</p>
<p>19..22</p>
<p>TID</p>
<p>11..18</p>
<p>TID</p>
<p>11..18</p>
<p>W</p>
<p>10</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>M</p>
<p>8</p>
<p>G</p>
<p>7</p>
<p>VF</p>
<p>7</p>
<p>G</p>
<p>7</p>
<p>VF</p>
<p>6</p>
<p>E</p>
<p>6</p>
<p>X0</p>
<p>6</p>
<p>E</p>
<p>6</p>
<p>X0</p>
<p>5</p>
<p>UR</p>
<p>5</p>
<p>X1</p>
<p>5</p>
<p>UR</p>
<p>5</p>
<p>X1</p>
<p>4</p>
<p>UW</p>
<p>4</p>
<p>U0</p>
<p>4</p>
<p>UW</p>
<p>4</p>
<p>U0</p>
<p>3</p>
<p>UX</p>
<p>3</p>
<p>U1</p>
<p>3</p>
<p>UX</p>
<p>3</p>
<p>U1</p>
<p>2</p>
<p>SR</p>
<p>2</p>
<p>U2</p>
<p>2</p>
<p>SR</p>
<p>2</p>
<p>U2</p>
<p>1</p>
<p>SW</p>
<p>1</p>
<p>U3</p>
<p>1</p>
<p>SW</p>
<p>1</p>
<p>U3</p>
<p>0</p>
<p>SX</p>
<p>0</p>
<p>IPROT</p>
<p>0</p>
<p>SX</p>
<p>0</p>
<p><i>307</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Virtual and Physical Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>QorIQ e6500-based targets (e.g., T4240)</b></p>
<p><b>TLB0</b></p>
<p><b>TLB1</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>GS</p>
<p>29</p>
<p>GS</p>
<p>33</p>
<p>LRU</p>
<p>27..28</p>
<p>LPID</p>
<p>27..32</p>
<p>LPIDR</p>
<p>21..26</p>
<p>V</p>
<p>26</p>
<p>V</p>
<p>20</p>
<p>TS</p>
<p>25</p>
<p>IND</p>
<p>24</p>
<p>TS</p>
<p>19</p>
<p>SIZE</p>
<p>19..23</p>
<p>TID</p>
<p>11..18</p>
<p>TID</p>
<p>11..18</p>
<p>W</p>
<p>10</p>
<p>W</p>
<p>10</p>
<p>I</p>
<p>9</p>
<p>I</p>
<p>9</p>
<p>M</p>
<p>8</p>
<p>M</p>
<p>8</p>
<p>G</p>
<p>7</p>
<p>VF</p>
<p>7</p>
<p>G</p>
<p>7</p>
<p>VF</p>
<p>6</p>
<p>E</p>
<p>6</p>
<p>X0</p>
<p>6</p>
<p>E</p>
<p>6</p>
<p>X0</p>
<p>5</p>
<p>UR</p>
<p>5</p>
<p>X1</p>
<p>5</p>
<p>UR</p>
<p>5</p>
<p>X1</p>
<p>4</p>
<p>UW</p>
<p>4</p>
<p>U0</p>
<p>4</p>
<p>UW</p>
<p>4</p>
<p>U0</p>
<p>3</p>
<p>UX</p>
<p>3</p>
<p>U1</p>
<p>3</p>
<p>UX</p>
<p>3</p>
<p>U1</p>
<p>2</p>
<p>SR</p>
<p>2</p>
<p>U2</p>
<p>2</p>
<p>SR</p>
<p>2</p>
<p>U2</p>
<p>1</p>
<p>SW</p>
<p>1</p>
<p>U3</p>
<p>1</p>
<p>SW</p>
<p>1</p>
<p>U3</p>
<p>0</p>
<p>SX</p>
<p>0</p>
<p>IPROT</p>
<p>0</p>
<p>SX</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>308</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Cache Tags</b></p>
<p><b>ARM 920, 926, and 946</b></p>
<p><i><b>tag</b></i></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>L</p>
<p>4</p>
<p>V</p>
<p>4</p>
<p>V3</p>
<p>3</p>
<p>Dirty</p>
<p>3..2</p>
<p>V2</p>
<p>2</p>
<p><b>ARM 920</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>TLB</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>SIZE_C</p>
<p>31..28</p>
<p>V</p>
<p>27</p>
<p>PROT_FAULT</p>
<p>26</p>
<p>PROT_FAULT</p>
<p>24</p>
<p>DOMAIN_FAULT</p>
<p>23</p>
<p>TLB_MISS</p>
<p>22</p>
<p>Domain</p>
<p>21..6</p>
<p>nC</p>
<p>5</p>
<p>nB</p>
<p>4</p>
<p>SIZE_R2</p>
<p>3..0</p>
<p>AP</p>
<p>3..0</p>
<p><i>309</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Cache Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM 926</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>TLB</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>Domain</p>
<p>7..4</p>
<p>V</p>
<p>4</p>
<p>AP</p>
<p>3..2</p>
<p>SIZE</p>
<p>3..0</p>
<p>C</p>
<p>1</p>
<p>B</p>
<p>0</p>
<p><b>ARM1136</b></p>
<p><b>Physical tag (<i>ptag</i>)</b></p>
<p><b>Virtual tag (<i>vtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>Global</p>
<p>25</p>
<p>ASID</p>
<p>24..16</p>
<p>AP3</p>
<p>15..14</p>
<p>AP2</p>
<p>13..12</p>
<p>AP1</p>
<p>11..10</p>
<p>SPV</p>
<p>9</p>
<p>SZ</p>
<p>9..6</p>
<p>Domain</p>
<p>8..5</p>
<p>XRGN</p>
<p>5..4</p>
<p>XN</p>
<p>4</p>
<p>AP</p>
<p>3..1</p>
<p>RGN</p>
<p>3..1</p>
<p>V</p>
<p>0</p>
<p>S</p>
<p>0</p>
<p><b>ARM1136</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>D1</p>
<p>2</p>
<p>D0</p>
<p>1</p>
<p>V</p>
<p>0</p>
<p>V</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>310</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Cortex-A15</b></p>
<p><b>Level 2 Tag (<i>l2tag</i>)</b></p>
<p><b>Instruction Tag (<i>i2tag</i>)</b></p>
<p><b>Data Tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>MESI</p>
<p>1..0</p>
<p>NS</p>
<p>28</p>
<p>MESI</p>
<p>28..27</p>
<p>NS</p>
<p>27</p>
<p>V</p>
<p>29</p>
<p>NS</p>
<p>26</p>
<p>I</p>
<p>28</p>
<p>P</p>
<p>30</p>
<p>PAHIGH</p>
<p>25..18</p>
<p>P</p>
<p>29</p>
<p>PAHIGH</p>
<p>27..20</p>
<p>ECC</p>
<p>38..32</p>
<p>PAHIGH</p>
<p>26..19</p>
<p>ECC</p>
<p>32..32</p>
<p><b>Cortex-A15</b></p>
<p><b>CCN504 L3 Cache</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>MESI</p>
<p>1..0</p>
<p>NS</p>
<p>8</p>
<p>PAHIGH</p>
<p>39..32</p>
<p><b>LSI MIPS</b></p>
<p><i><b>tag</b></i></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>L</p>
<p>4</p>
<p>V3</p>
<p>3</p>
<p>V2</p>
<p>2</p>
<p>V1</p>
<p>1</p>
<p>V0</p>
<p>0</p>
<p><b>MIPS 4K</b></p>
<p><i><b>tag</b></i></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>VALID</p>
<p>7..4</p>
<p>L</p>
<p>2</p>
<p>LRF</p>
<p>1</p>
<p><i>311</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Cache Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>MIPS 4KE</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>7</p>
<p>D</p>
<p>6</p>
<p>L</p>
<p>5</p>
<p><b>MIPS 5K</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>PState</p>
<p>7..6</p>
<p>L</p>
<p>5</p>
<p>P</p>
<p>0</p>
<p><b>MIPS 20K</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>BE</p>
<p>49</p>
<p>PState</p>
<p>7..6</p>
<p>G</p>
<p>48</p>
<p>ASID</p>
<p>47..40</p>
<p>PState</p>
<p>7</p>
<p>L</p>
<p>5</p>
<p>L</p>
<p>5</p>
<p>F</p>
<p>4</p>
<p>F</p>
<p>4</p>
<p><b>PowerPC 405</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>D</p>
<p>2</p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>1</p>
<p>LRU</p>
<p>0</p>
<p>LRU</p>
<p>0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>312</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 440</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>10</p>
<p>V</p>
<p>12</p>
<p>TS</p>
<p>9</p>
<p>Dir</p>
<p>11..8</p>
<p>TD</p>
<p>8</p>
<p>U3</p>
<p>7</p>
<p>TID</p>
<p>7..0</p>
<p>U2</p>
<p>6</p>
<p>U1</p>
<p>5</p>
<p>U0</p>
<p>4</p>
<p>TERA</p>
<p>3..0</p>
<p><b>PowerPC 55xx, 563x, and 566x</b></p>
<p><b>Unified L1 tag (<i>tag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>L</p>
<p>2</p>
<p>D</p>
<p>1</p>
<p>V</p>
<p>0</p>
<p><b>PowerPC 567x</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>L</p>
<p>2</p>
<p>L</p>
<p>1</p>
<p>D</p>
<p>1</p>
<p>V</p>
<p>0</p>
<p>V</p>
<p>0</p>
<p><b>PowerPC 603ev, 7xx, 7400, 7410, 82xx</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>0</p>
<p>D</p>
<p>0</p>
<p><i>313</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Cache Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 7400, 7410</b></p>
<p><b>512 KB or 256 KB Level 2</b></p>
<p><b>tag (<i>l2tag</i>)</b></p>
<p><b>1 MB Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>2 MB Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>M</p>
<p>2</p>
<p>M1</p>
<p>5</p>
<p>M3</p>
<p>11</p>
<p>S</p>
<p>1</p>
<p>M0</p>
<p>4</p>
<p>M2</p>
<p>10</p>
<p>V</p>
<p>0</p>
<p>S1</p>
<p>3</p>
<p>M1</p>
<p>9</p>
<p>S0</p>
<p>2</p>
<p>M0</p>
<p>8</p>
<p>V1</p>
<p>1</p>
<p>S3</p>
<p>7</p>
<p>V0</p>
<p>0</p>
<p>S2</p>
<p>6</p>
<p>S1</p>
<p>5</p>
<p>S0</p>
<p>4</p>
<p>V3</p>
<p>3</p>
<p>V2</p>
<p>2</p>
<p>V1</p>
<p>1</p>
<p>V0</p>
<p>0</p>
<p><b>PowerPC 744x, 745x, 86xx</b></p>
<p><b>Level 3 tag (<i>l3tag</i>)</b></p>
<p><b>(For 7455 and 7457</b></p>
<p><b>targets only)</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag</b></p>
<p><b>(<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>sec3</p>
<p>15..12</p>
<p>A1</p>
<p>5</p>
<p>V</p>
<p>0</p>
<p>S</p>
<p>2</p>
<p>sec2</p>
<p>11..8</p>
<p>A0</p>
<p>4</p>
<p>V</p>
<p>1</p>
<p>sec1</p>
<p>7..4</p>
<p>MESI1</p>
<p>3..2</p>
<p>D</p>
<p>0</p>
<p>sec0</p>
<p>3..0</p>
<p>MESI0</p>
<p>1..0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>314</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 75x</b></p>
<p><b>512 KB or 256 KB Level 2 tag</b></p>
<p><b>(<i>l2tag</i>)</b></p>
<p><b>1 MB Level 2 tag</b></p>
<p><b>(<i>l2tag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>D1</p>
<p>3</p>
<p>D3</p>
<p>7</p>
<p>D0</p>
<p>2</p>
<p>D2</p>
<p>6</p>
<p>V1</p>
<p>1</p>
<p>D1</p>
<p>5</p>
<p>V0</p>
<p>0</p>
<p>D0</p>
<p>4</p>
<p>V3</p>
<p>3</p>
<p>V2</p>
<p>2</p>
<p>V1</p>
<p>1</p>
<p>V0</p>
<p>0</p>
<p><b>PowerPC 85xx</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>4</p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>3</p>
<p>IL</p>
<p>3</p>
<p>L</p>
<p>0</p>
<p>L</p>
<p>2</p>
<p>DL</p>
<p>2</p>
<p>S</p>
<p>1</p>
<p>T</p>
<p>1</p>
<p>D</p>
<p>0</p>
<p>S</p>
<p>0</p>
<p><b>PowerPC QorIQ P1xxx and P2xxx</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>3</p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>3</p>
<p>IL</p>
<p>2</p>
<p>L</p>
<p>0</p>
<p>L</p>
<p>2</p>
<p>DL</p>
<p>1</p>
<p>S</p>
<p>1</p>
<p>T</p>
<p>0</p>
<p>D</p>
<p>0</p>
<p><i>315</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Cache Tags</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>QorIQ e500mc and e5500 cores (e.g., P4080, P3041, P5020)</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>4</p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>3</p>
<p>L</p>
<p>3</p>
<p>L</p>
<p>0</p>
<p>L</p>
<p>2</p>
<p>S</p>
<p>2</p>
<p>S</p>
<p>1</p>
<p>D</p>
<p>1</p>
<p>D</p>
<p>0</p>
<p>N</p>
<p>0</p>
<p><b>QorIQ e6500-based targets (e.g., T4240)</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>V</p>
<p>12</p>
<p>V</p>
<p>1</p>
<p>V</p>
<p>1</p>
<p>L</p>
<p>11</p>
<p>L</p>
<p>0</p>
<p>L</p>
<p>0</p>
<p>E</p>
<p>10</p>
<p>S</p>
<p>9</p>
<p>SO</p>
<p>8</p>
<p>M</p>
<p>7</p>
<p>N</p>
<p>6</p>
<p><b>IXP2350</b></p>
<p><b>Level 2 tag (<i>l2tag</i>)</b></p>
<p><b>Instruction tag (<i>itag</i>)</b></p>
<p><b>Data tag (<i>dtag</i>)</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p><b>Name</b></p>
<p><b>Bit</b></p>
<p>valid</p>
<p>31</p>
<p>valid</p>
<p>12</p>
<p>valid</p>
<p>12</p>
<p>used</p>
<p>30</p>
<p>lock</p>
<p>10..8</p>
<p>lock</p>
<p>10..8</p>
<p>lock</p>
<p>29</p>
<p>Iru</p>
<p>6..4</p>
<p>Iru</p>
<p>6..4</p>
<p>state</p>
<p>27..25</p>
<p>Dirty</p>
<p>3..0</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>316</i></p>
<p><i>Appendix C. CPU-Specific Bit Tables</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix D</b></p>
<p><b>Troubleshooting and Usage</b></p>
<p><b>Notes</b></p>
<p><b>Contents</b></p>
<p>Troubleshooting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>318</p>
<p>Usage Notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>324</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Troubleshooting</b></p>
<p>If your probe is not communicating with your target properly, consult the steps</p>
<p>provided in the<i> Getting Started</i> book for your probe. If you are still having problems</p>
<p>communicating with your target, consult the information in one of the following</p>
<p>sections.</p>
<p><b>Operating Ranges</b></p>
<p>The probe has the following temperature and humidity tolerances:</p>
<p>•</p>
<p>Operating temperature: 32–122 F (0–50 C)</p>
<p>•</p>
<p>Storage temperature: -4–149 F (-20–65 C)</p>
<p>•</p>
<p>Relative humidity: less than 90%, non-condensing</p>
<p><b>Using vb to Diagnose Connection Problems</b></p>
<p>The<b> vb</b> command helps diagnose JTAG problems by:</p>
<p>1.</p>
<p>putting JTAG into bypass mode</p>
<p>2.</p>
<p>sending data through the target's JTAG test data in (TDI) line</p>
<p>3.</p>
<p>checking for matching data returned on the target's test data out (TDO) line</p>
<p><b>Note</b></p>
<p>The<b> vb</b> command works with JTAG targets only. It does not work on</p>
<p>PowerPC 5xx, PowerPC 8xx and ColdFire targets.</p>
<p>If<b> vb</b> is successful, the result is:</p>
<p>Test passed.</p>
<p>When<b> vb</b> fails, it issues the following error:</p>
<p>Error 13 (test failed): Test Failed: in=<i>input</i>, out=<i>output</i>, i=<i>iter</i></p>
<p>Different values for<i> output</i> indicate different potential problems with the probe's</p>
<p>configuration:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>318</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>0x0</p>
<p>— Indicates that TDO is held low. Usually, this means that your target's</p>
<p>power is off, or your probe's logic high level is set incorrectly. For information</p>
<p>about solving these issues, see the troubleshooting section in the<i> Getting Started</i></p>
<p>book for your probe.</p>
<p>•</p>
<p>0xffffffff</p>
<p>— Indicates that TDO is held high. Usually, this means that the</p>
<p>TAP reset line is asserted or</p>
<p>logic_high</p>
<p>is set too low.</p>
<p>•</p>
<p>another number — Indicates that the probe is not reliably detecting transitions</p>
<p>between logic high and logic low. Try the following:</p>
<p>○</p>
<p>adjusting the JTAG clock with the<b> set clock</b> command</p>
<p>○</p>
<p>adjusting the logic high level with the<b> set logic_high</b> command</p>
<p>○</p>
<p>detecting your target with the</p>
<p>detect</p>
<p>command</p>
<p>○</p>
<p>checking for line noise or hardware connection problems</p>
<p><b>Diagnosing Reset Line Problems</b></p>
<p>Green Hills Debug Probes are aware of two different reset lines:</p>
<p>•</p>
<p>CPU reset line (for example,</p>
<p>nRESET</p>
<p>) — resets the core</p>
<p>•</p>
<p>TAP reset line (for example,</p>
<p>nTRST</p>
<p>) — resets the JTAG TAP controller</p>
<p>These reset lines should not be wired, logically ORed, or otherwise tied together,</p>
<p>because the probe needs to be able to control them individually to perform a precise</p>
<p>reset. For example:</p>
<p><b>Correct</b></p>
<p>The TAP reset line on the target's</p>
<p>JTAG header is wired directly to the</p>
<p>TAP reset line on the CPU, and the</p>
<p>CPU reset line on the header is wired</p>
<p>directly to the CPU reset line on the</p>
<p>CPU.</p>
<p><i>319</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Diagnosing Reset Line Problems</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Incorrect</b></p>
<p>The TAP reset line and CPU reset</p>
<p>line must not be logically ORed or</p>
<p>wired together.</p>
<p>If you are getting errors when trying to reset your board and believe this may be</p>
<p>the problem, run the following commands in a serial terminal:</p>
<p>&gt; jp<i> cpu_reset_line</i> 0</p>
<p>&gt; vb</p>
<p>&gt; jp<i> cpu_reset_line</i> 1</p>
<p>&gt; vb</p>
<p>where<i> cpu_reset_line</i> is the name of your target's CPU reset line. If<b> vb</b> fails the first</p>
<p>time but passes the second time, that most likely indicates that the lines are tied</p>
<p>together.</p>
<p>If you cannot fix this problem in your hardware, use the following command to tell</p>
<p>the probe that the lines are tied together:</p>
<p>&gt; set target_reset_pin resets_tap</p>
<p>For more information about this setting, see “Setting Reset Pin and JTAG TAP</p>
<p>Interaction” on page 87.</p>
<p><b>Some Board Components Retain Power After Target Power is Removed</b></p>
<p>If you remove power from your target and some of its components are still powered</p>
<p>on, it is possible that the probe is supplying power to those components over the</p>
<p>debug connection. To fix this problem, always tri-state your probe before turning</p>
<p>on your target's power (see “The User Button” on page 5).</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>320</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Resetting a Single Core in a Multi-Core System</b></p>
<p>A typical reset sequence has the following five phases:</p>
<p>1.</p>
<p>Prepare the core for reset.</p>
<p>2.</p>
<p>Assert the CPU reset line (for example,</p>
<p>nHRESET</p>
<p>or</p>
<p>nRESET</p>
<p>).</p>
<p>3.</p>
<p>Perform all actions required while the CPU reset line is asserted. On JTAG</p>
<p>targets, this performs the JTAG test access port (TAP) reset, including toggling</p>
<p>the TAP reset line (for example,</p>
<p>nTRST</p>
<p>).</p>
<p>4.</p>
<p>De-assert the CPU reset line.</p>
<p>5.</p>
<p>Perform any post-reset initialization.</p>
<p>When you reset a core with the<b> tr d</b> or<b> cr full</b> commands, the probe performs all</p>
<p>five of these phases on the selected core:</p>
<p>While this works well on targets with a single core, many multi-core targets require</p>
<p>you to use special commands to ensure that only the CPU reset line of the correct</p>
<p>core is asserted.</p>
<p>If your board design allows the CPU reset line to be asserted on individual cores,</p>
<p>use the following sequence of commands to reset a single core:</p>
<p>&gt; t<i> core</i></p>
<p>; select a core</p>
<p>&gt; cr pre</p>
<p>; phase 1 (prepare)</p>
<p>&gt;<i> cmd_a</i></p>
<p>; phase 2 (assert CPU reset line for that core)</p>
<p>&gt; cr tap</p>
<p>; phase 3 (actions while reset is asserted)</p>
<p>&gt;<i> cmd_b</i></p>
<p>; phase 4 (de-assert CPU reset line for that core)</p>
<p>&gt; cr post</p>
<p>; phase 5 (post-reset initialization)</p>
<p><i>321</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Resetting a Single Core in a Multi-Core System</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Where the commands<i> cmd_a</i> and<i> cmd_b</i> depend on your design.</p>
<p>If your board design allows you to tie a core's CPU reset line to the probe's CPU</p>
<p>reset line, you can simplify these steps to:</p>
<p>&gt; t<i> core</i></p>
<p>; select a core</p>
<p>&gt;<i> cmd_c</i></p>
<p>; tie probe CPU reset line to core CPU reset line</p>
<p>&gt; cr full</p>
<p>; phases 1-5</p>
<p><b>Recovering From Accidental USB Disconnection</b></p>
<p>You should not unplug the probe's USB cable while connected to the probe with</p>
<p><b>mpserv</b> over USB. If the cable is accidentally disconnected, use the following</p>
<p>procedure to reconnect:</p>
<p>1.</p>
<p>Disconnect<b> mpserv</b> from within MULTI.</p>
<p>2.</p>
<p>If the USB cable is still plugged into your probe, unplug it.</p>
<p>3.</p>
<p>Plug the USB cable into your host machine, then into your probe.</p>
<p>4.</p>
<p>Reconnect to your probe with<b> mpserv</b>.</p>
<p><b>Grounding Your Probe</b></p>
<p>Electrical noise might affect your probe if you are only using the Ethernet host</p>
<p>connection, and connected to a target that is not referenced to earth ground. If your</p>
<p>probe is not properly grounded, you may experience the following problems:</p>
<p>•</p>
<p>Ambiguity when detecting your target adapter. This is usually seen when using</p>
<p>set adapter auto</p>
<p>with ARM, ARC, and ADI adapters.</p>
<p>•</p>
<p>Disrupted JTAG operations</p>
<p>To ensure that your probe is properly grounded, connect a USB or RS-232 cable</p>
<p>from your probe to an earth grounded host machine, or use an earth ground</p>
<p>referenced power supply for the probe. For more information, contact Green Hills</p>
<p>support.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>322</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Changing the Target Communication Protocol</b></p>
<p>On targets that support multiple target communication protocols, the<b> debug_type</b></p>
<p>probe configuration option controls which protocol is in use. While the<b> debug_type</b></p>
<p>option can be changed at anytime, some targets cannot switch protocols without</p>
<p>cycling the power. If the probe loses control of the target after changing<b> debug_type</b>,</p>
<p>power cycle the target.</p>
<p><b>ERROR 71 After Changing the Probe TTM</b></p>
<p>This problem can have several symptoms:</p>
<p>•</p>
<p>Most probe commands return an ERROR 71.</p>
<p>•</p>
<p>The LED on the TE adapter is red.</p>
<p>•</p>
<p>Two LEDs on the front of the probe blink regularly, indicating that the outputs</p>
<p>are disabled, and any attempt to enable them has no effect.</p>
<p>This problem is likely due to a misconfigured adapter setting. If the adapter setting</p>
<p>was not</p>
<p>auto</p>
<p>for a previously used (legacy) TTM adapter, and then a TE TTM is</p>
<p>connected, the outputs will not be enabled until the probe's adapter setting is set to</p>
<p>auto</p>
<p>. Running<b> detect</b> will also attempt to configure your adapter setting correctly.</p>
<p><i>323</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Changing the Target Communication Protocol</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Usage Notes</b></p>
<p><b>Breakpoint Usage Notes</b></p>
<p><b>Setting Multiple Breakpoint Types on a Single Assembly Statement</b></p>
<p>When there is more than one type of breakpoint (for example, a software breakpoint</p>
<p>and a hardware data breakpoint) set on a single assembly statement, the probe only</p>
<p>hits one of the breakpoints. When continuing execution from that point, the probe</p>
<p>does not hit the others. Because the type of breakpoint that is hit depends on your</p>
<p>target, we do not recommend that you rely on this behavior.</p>
<p><b>Target-Specific Hardware Breakpoint Support</b></p>
<p>This section describes target-specific hardware breakpoint support, including but</p>
<p>not limited to:</p>
<p>•</p>
<p>The number of available breakpoints.</p>
<p>•</p>
<p>Support for range breakpoints:</p>
<p>○</p>
<p><i>arbitrary range</i> — Covers any number of consecutive bytes and can begin</p>
<p>at any address.</p>
<p>○</p>
<p><i>aligned range</i> — Has a length which is a power of two, and begins at an</p>
<p>address aligned to its length.</p>
<p>•</p>
<p>Support for mask breakpoints:</p>
<p>○</p>
<p><i>arbitrary mask</i> — Selects any set of addresses, contiguous or</p>
<p>non-contiguous. For example,</p>
<p>0xffffff0f</p>
<p>or</p>
<p>0xfffffff0</p>
<p>.</p>
<p>○</p>
<p><i>consecutive mask</i> — Selects a contiguous range of addresses. For example,</p>
<p>0xfffffff0</p>
<p>, but not</p>
<p>0xffffff0f</p>
<p>.</p>
<p>•</p>
<p>Breakpoint hit detection:</p>
<p>○</p>
<p><i>address</i> — The address of the access itself must fall within the mask,</p>
<p>range, or address of the breakpoint to hit that breakpoint. For example, a</p>
<p>4-byte access to address</p>
<p>0x20</p>
<p>will hit a 2-byte breakpoint set at</p>
<p>0x1F</p>
<p>or</p>
<p>0x20</p>
<p>, but it will not hit a breakpoint set at</p>
<p>0x21</p>
<p>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>324</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>○</p>
<p><i>range</i> — Any address affected by the access that falls within the mask,</p>
<p>range, or address of the breakpoint will hit the breakpoint. For example,</p>
<p>a 4-byte access to address</p>
<p>0x20</p>
<p>will hit any 2-byte breakpoint set between</p>
<p>0x1F</p>
<p>and</p>
<p>0x23</p>
<p>, inclusive.</p>
<p>If a breakpoint specifies both a range and a mask, the behavior is unspecified.</p>
<p><i>325</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Breakpoint Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Data Hardware Breakpoint Support</p>
<p>The following table describes data hardware breakpoint support for a variety of</p>
<p>targets:</p>
<p><b>Notes</b></p>
<p><b>Hit Detection</b></p>
<p><b>Masks</b></p>
<p><b>Ranges</b></p>
<p><b>#</b></p>
<p><b>Target</b></p>
<p>1, 2, 7</p>
<p>address</p>
<p>arbitrary</p>
<p>not supported</p>
<p>1</p>
<p>ARM7, ARM9</p>
<p>2</p>
<p>range</p>
<p>consecutive</p>
<p>aligned</p>
<p>2</p>
<p>ARM11,</p>
<p>Cortex-A8,</p>
<p>Cortex-R4, PJ4</p>
<p>2, 11</p>
<p>address</p>
<p>consecutive</p>
<p>aligned</p>
<p>2</p>
<p>Cortex-A5,</p>
<p>Cortex-A9</p>
<p>2</p>
<p>address</p>
<p>not supported</p>
<p>not supported</p>
<p>4</p>
<p>Cortex-A15</p>
<p>2, 4</p>
<p>range</p>
<p>consecutive</p>
<p>aligned</p>
<p>4</p>
<p>Cortex-M0,</p>
<p>Cortex-M3,</p>
<p>Cortex-M4</p>
<p>2</p>
<p>range</p>
<p>consecutive</p>
<p>aligned</p>
<p>8</p>
<p>Cortex-R5</p>
<p>3</p>
<p>address</p>
<p>not supported</p>
<p>arbitrary</p>
<p>1</p>
<p>ColdFire 52xx,</p>
<p>522xx, 53xx</p>
<p>2</p>
<p>address</p>
<p>not supported</p>
<p>arbitrary</p>
<p>2</p>
<p>ColdFire 54xx,</p>
<p>54455</p>
<p>address</p>
<p>arbitrary</p>
<p>aligned</p>
<p>2</p>
<p>MIPS</p>
<p>address</p>
<p>not supported</p>
<p>not supported</p>
<p>2</p>
<p>PPC 405</p>
<p>5</p>
<p>address</p>
<p>arbitrary</p>
<p>not supported</p>
<p>2</p>
<p>PPC 440</p>
<p>10</p>
<p>address</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>2</p>
<p>PPC 55xx, 56xx</p>
<p>10</p>
<p>address</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>4</p>
<p>PPC 57xx</p>
<p>6</p>
<p>address</p>
<p>not supported</p>
<p>not supported</p>
<p>2</p>
<p>PPC 5200,</p>
<p>8247, 8248,</p>
<p>827x, 8280</p>
<p>6</p>
<p>address</p>
<p>not supported</p>
<p>arbitrary</p>
<p>2</p>
<p>PPC 5121, 83xx</p>
<p>6</p>
<p>address</p>
<p>not supported</p>
<p>not supported</p>
<p>1</p>
<p>PPC 7xx, 74xx,</p>
<p>86xx</p>
<p>n/a</p>
<p>n/a</p>
<p>n/a</p>
<p>0</p>
<p>PPC 603, 8240,</p>
<p>8241, 8245,</p>
<p>825x, 826x</p>
<p>8</p>
<p>address</p>
<p>not supported</p>
<p>aligned</p>
<p>1</p>
<p>PPC BDM</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>326</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Hit Detection</b></p>
<p><b>Masks</b></p>
<p><b>Ranges</b></p>
<p><b>#</b></p>
<p><b>Target</b></p>
<p>10</p>
<p>address</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>2</p>
<p>PPC e500,</p>
<p>e500mc, e5500,</p>
<p>e6500</p>
<p>7, 9</p>
<p>range</p>
<p>not supported</p>
<p>not supported</p>
<p>4</p>
<p>x86</p>
<p>range</p>
<p>arbitrary</p>
<p>aligned</p>
<p>1</p>
<p>XScale</p>
<p><i>327</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Breakpoint Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p>1.</p>
<p>If you disable software breakpoints, 2 hardware breakpoints are available.</p>
<p>2.</p>
<p>If more than one hardware breakpoint is set, the probe cannot always report</p>
<p>which breakpoint is hit.</p>
<p>3.</p>
<p>ColdFire 5206, 5272, 5249, 5282, 5235, 5271, 5275, 5251, and 5253 targets</p>
<p>share a single register for data and execution breakpoints.</p>
<p>4.</p>
<p>Hardware breakpoints are imprecise; the target stops several instructions after</p>
<p>the access that hits the breakpoint.</p>
<p>5.</p>
<p>Using a mask consumes both hardware data breakpoint registers.</p>
<p>6.</p>
<p>Data hardware breakpoints have a minimum range of 8 bytes.</p>
<p>7.</p>
<p>Data hardware breakpoints and execute hardware breakpoints share the same</p>
<p>registers.</p>
<p>8.</p>
<p>If you set a data hardware breakpoint with an address range, the target may</p>
<p>not halt for accesses to the range, and may halt for accesses to addresses outside</p>
<p>the range. For more information, see MPC860 chip errata CPU11.</p>
<p>9.</p>
<p>Read-only data hardware breakpoints are not supported on this architecture.</p>
<p>10. Breakpoints with a range less than or equal to 4 are treated as if no range is</p>
<p>specified. If you require breakpoints with this range, use a mask instead.</p>
<p>11. Cortex-A9 hardware breakpoint support varies by target; some do not support</p>
<p>ranges or masks.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>328</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Execute Hardware Breakpoint Support</p>
<p>The following table describes execute hardware breakpoint support for a variety of</p>
<p>targets:</p>
<p><b>Notes</b></p>
<p><b>Masks</b></p>
<p><b>Ranges</b></p>
<p><b>#</b></p>
<p><b>Target</b></p>
<p>1, 6</p>
<p>arbitrary</p>
<p>not supported</p>
<p>1</p>
<p>ARM7, ARM9</p>
<p>consecutive</p>
<p>not supported</p>
<p>6</p>
<p>ARM11, Cortex-A8,</p>
<p>Cortex-A9,</p>
<p>Cortex-R4, PJ4</p>
<p>consecutive</p>
<p>not supported</p>
<p>3</p>
<p>Cortex-A5</p>
<p>not supported</p>
<p>not supported</p>
<p>4</p>
<p>Cortex-A15</p>
<p>3</p>
<p>consecutive</p>
<p>not supported</p>
<p>10</p>
<p>Cortex-M0,</p>
<p>Cortex-M3,</p>
<p>Cortex-M4</p>
<p>consecutive</p>
<p>not supported</p>
<p>8</p>
<p>Cortex-R5</p>
<p>1</p>
<p>arbitrary</p>
<p>aligned</p>
<p>1</p>
<p>ColdFire 5206, 5272,</p>
<p>5249, 5282, 5235,</p>
<p>5271, 5275, 5251,</p>
<p>5253</p>
<p>arbitrary</p>
<p>aligned</p>
<p>1</p>
<p>ColdFire 5307</p>
<p>2</p>
<p>arbitrary</p>
<p>aligned</p>
<p>4</p>
<p>ColdFire 5208, 5213,</p>
<p>52235, 52211, 52259,</p>
<p>52223, 52277, 5329,</p>
<p>5373, 5407, 5408,</p>
<p>5475, 5485, 54455</p>
<p>arbitrary</p>
<p>aligned</p>
<p>4</p>
<p>MIPS</p>
<p>not supported</p>
<p>not supported</p>
<p>4</p>
<p>PPC 4xx</p>
<p>4, 5, 9</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>4</p>
<p>PPC 55xx, 560x,</p>
<p>563x, and 566x</p>
<p>4, 5, 8</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>8</p>
<p>PPC 564x, 567x,</p>
<p>57xx</p>
<p>4, 7</p>
<p>not supported</p>
<p>not supported</p>
<p>1</p>
<p>PPC 7xx, 74xx, 86xx</p>
<p>4</p>
<p>not supported</p>
<p>not supported</p>
<p>1</p>
<p>PPC 603, 8240, 8245,</p>
<p>825x, 826x</p>
<p>4</p>
<p>not supported</p>
<p>not supported</p>
<p>2</p>
<p>PPC 5200, 8247,</p>
<p>8248, 827x, 828x</p>
<p><i>329</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Breakpoint Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p><b>Masks</b></p>
<p><b>Ranges</b></p>
<p><b>#</b></p>
<p><b>Target</b></p>
<p>4</p>
<p>not supported</p>
<p>arbitrary</p>
<p>2</p>
<p>PPC 83xx</p>
<p>not supported</p>
<p>not supported</p>
<p>3</p>
<p>PPC BDM</p>
<p>4</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>2</p>
<p>PPC e500, e500mc,</p>
<p>e5500</p>
<p>4</p>
<p>arbitrary</p>
<p>arbitrary</p>
<p>8</p>
<p>PPC e6500</p>
<p>1</p>
<p>not supported</p>
<p>not supported</p>
<p>4</p>
<p>x86</p>
<p>not supported</p>
<p>not supported</p>
<p>2</p>
<p>XScale</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>330</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Notes</b></p>
<p>1.</p>
<p>Data hardware breakpoints and execute hardware breakpoints share the same</p>
<p>registers.</p>
<p>2.</p>
<p>Only one execute hardware breakpoint supports ranges and masks.</p>
<p>3.</p>
<p>Four of the execute hardware breakpoints support masks. These breakpoints</p>
<p>share registers with data hardware breakpoints. The other six breakpoints do</p>
<p>not support masks, and must be placed in flash.</p>
<p>4.</p>
<p>These cores have an execute hardware breakpoint resolution that matches the</p>
<p>instruction width (usually 4 bytes).</p>
<p>5.</p>
<p>PPC 55xx cores that run VLE code have an execute hardware breakpoint</p>
<p>resolution of 2 bytes.</p>
<p>6.</p>
<p>If software breakpoints are disabled, 2 hardware breakpoints are available. On</p>
<p>certain ARM9E cores, 2 hardware breakpoints are also available if</p>
<p><b>use_bpkt_inst</b> is set to</p>
<p>on</p>
<p>.</p>
<p>7.</p>
<p>If software breakpoints are enabled, hardware breakpoints are not available.</p>
<p>8.</p>
<p>Ranges are not supported on hardware execute breakpoints 5-8 of 564x and</p>
<p>567x targets.</p>
<p>9.</p>
<p>If you set an execute hardware breakpoint while the target is running, the target</p>
<p>may stop several instructions after the instruction that triggers the breakpoint.</p>
<p><i>331</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Breakpoint Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace Usage Notes</b></p>
<p><b>ARM CoreSight Trace Support</b></p>
<p>The following terms and table describe ARM CoreSight trace component support:</p>
<p>•</p>
<p><b>Automatic</b> — Only GUI configuration is required.</p>
<p>•</p>
<p><b>Manual</b> — Register access provided, but your setup script must set them up.</p>
<p>•</p>
<p><b>Unsupported</b> — Contact Green Hills support for updated availability.</p>
<p><b>Unsupported</b></p>
<p><b>Manual</b></p>
<p><b>Automatic</b></p>
<p><b>Component</b></p>
<p>X</p>
<p>ATP Replicator</p>
<p>X</p>
<p>CSTF (trace funnel)</p>
<p>X</p>
<p>CTI (CTM and ECT)</p>
<p>X</p>
<p>ETB (CoreSight)</p>
<p>X</p>
<p>ETB (Trace Memory Controller)</p>
<p>X</p>
<p>ETF</p>
<p>X</p>
<p>ETMv3</p>
<p>X</p>
<p>ETR</p>
<p>X</p>
<p>HTM</p>
<p>X</p>
<p>ITM</p>
<p>X</p>
<p>MTB</p>
<p>X</p>
<p>PTM</p>
<p>X</p>
<p>STM</p>
<p>X</p>
<p>TMC</p>
<p>X</p>
<p>TPIU</p>
<p>Trace of CoreSight ETMv3 targets via the ETB may be incorrect due to an ambiguity</p>
<p>between the CoreSight flush sequence and the ETMv3 branch encoding near a trace</p>
<p>enabling event. As a workaround, collect full ETBs before disabling and re-enabling</p>
<p>trace on these targets.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>332</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Allocation Errors While Tracing a Target</b></p>
<p>When tracing a target, if you receive an error similar to:</p>
<p>Unable to allocate<i> resource</i></p>
<p>where<i> resource</i> is a type of trace resource, MULTI is indicating that it was unable</p>
<p>to enable a trigger or filter that you have specified. For example, it may mean a</p>
<p>trigger configuration is too complex for the target's available trigger programming</p>
<p>model. The following list outlines architecture-specific reasons for this error:</p>
<p>ARM Cortex-M</p>
<p>DWT comparators are shared between trace and some</p>
<p>hardware breakpoints. You can configure allocation with the</p>
<p><b>num_dwt</b> setting, or simplify your triggers.</p>
<p>ARM (except Cortex-M)</p>
<p>Trace comparators are used only by the trace system. Reduce</p>
<p>the complexity of your triggers or filters.</p>
<p>ColdFire</p>
<p>The resources used for triggers are also used for hardware</p>
<p>breakpoints. Use fewer hardware breakpoints or simplify your</p>
<p>triggers.</p>
<p>PowerPC Nexus</p>
<p>The resources used for triggers are also used for hardware</p>
<p>breakpoints. Use fewer hardware breakpoints or simplify your</p>
<p>triggers or filters.</p>
<p><b>MULTI Usage Notes</b></p>
<p><b>MULTI Displays Incorrect Processor</b></p>
<p>The Green Hills Probe software provides<b> Project Wizard</b> entries for many</p>
<p>development boards that correspond to processors supported by the probe. Though</p>
<p>all of these processors are supported by the probe, some of them may not be</p>
<p>explicitly supported by MULTI. If you select an entry that corresponds to one of</p>
<p>these processors, MULTI sets your project's target to a compatible processor instead</p>
<p>of the one you may expect from the name of the<b> Project Wizard</b> entry. This mapping</p>
<p>is done so that you can debug new processor types with older versions of MULTI.</p>
<p>It does not affect your probe's configuration, and should not cause problems during</p>
<p>a debugging session. The mapping is more common with MULTI 4 than with</p>
<p>MULTI 5, and explicit support for the processor may be added in a future MULTI</p>
<p>release.</p>
<p><i>333</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MULTI Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>For example, if you create a project in MULTI 4 for a Freescale 8568E MDS,</p>
<p>MULTI reports that your processor is a PowerPC 8548, because that is the closest</p>
<p>compatible processor. You should still configure your probe using the appropriate</p>
<p>target string (</p>
<p>ppc8568</p>
<p>).</p>
<p><b>Setting Flash Programmer Parameters</b></p>
<p>Flash programming parameters are stored in the<b> flash.cfg</b> file in the user</p>
<p>configuration directory. These parameters, such as RAM location and size, may be</p>
<p>valid for one target but not another. The flash programmer may load the saved</p>
<p>parameters for a previous target instead of using the default parameters for the</p>
<p>currently connected target. In this case, update the programming parameters in the</p>
<p>flash dialog to match the current target. To return to the default settings for all</p>
<p>targets, delete the<b> flash.cfg</b> file.</p>
<p><b>Trace is Not Supported With Multiple Debug Connections</b></p>
<p>Trace is not supported when multiple debug connections are made to a probe. To</p>
<p>prevent multiple debug connections, use the<b> single_mpserv_only</b> configuration</p>
<p>option (see “Disabling Multiple Binary Connections” on page 85).</p>
<p><b>Memory-Mapped Registers May Be Incorrectly Displayed</b></p>
<p>MULTI displays memory-mapped register information based on headers and</p>
<p>documentation provided by silicon vendors. When probe software is released, there</p>
<p>may only be preliminary headers and documentation, which may differ significantly</p>
<p>from shipping hardware. For authoritative specifications, consult the documentation</p>
<p>provided by the silicon vendor.</p>
<p><b>Multi-core Trace</b></p>
<p>Multi-core Trace Not Supported With Older Versions of MULTI</p>
<p>Tracing more than one core at the same time is supported in MULTI 6.1.4 or newer</p>
<p>only.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>334</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Modifying Trace Options</p>
<p>When tracing more than one core simultaneously on MULTI 6.1.4, trace options</p>
<p>should only be modified while trace is disabled.</p>
<p>Initialize Trace on All Cores Before Tracing</p>
<p>While tracing multiple cores on MULTI 6.1.4, initialize trace on all cores you want</p>
<p>to trace before trace is enabled.</p>
<p>For each core you want to trace, select that core and type</p>
<p>trace</p>
<p>on the MULTI</p>
<p>command line, or open a trace window to initialize the core for tracing.</p>
<p>If you want to initialize trace on other cores and trace is already enabled, first disable</p>
<p>trace, then initialize the core by selecting the core and typing</p>
<p>trace</p>
<p>on the MULTI</p>
<p>command line, or open a trace window and re-enable trace.</p>
<p><b>ARC Usage Notes</b></p>
<p><b>General ARC Usage Notes</b></p>
<p>Required Settings for ARCangel Evaluation Boards</p>
<p>For ARCangel evaluation boards, use the following DIP switch settings:</p>
<p>•</p>
<p>1 —</p>
<p>OFF</p>
<p>•</p>
<p>2 —</p>
<p>OFF</p>
<p>•</p>
<p>5 —</p>
<p>ON</p>
<p>Also, the parallel port cable must be disconnected for FPGA blasting to work.</p>
<p>Error When Running Program After Blasting the Target</p>
<p>On some<b> .xbf</b> files, if you run a program immediately after blasting the target, an</p>
<p>instruction error exception is taken right away. Usually, subsequent downloads</p>
<p>work correctly.</p>
<p><i>335</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Probe Cannot Reset ARC Hardware</p>
<p>The probe cannot reset ARC hardware, due to limitations in the ARC debug interface.</p>
<p>When debugging ARC hardware, the<b> Reset</b> button in the MULTI Debugger appears</p>
<p>dimmed.</p>
<p>The vb Command May Not Work</p>
<p>The<b> vb</b> test command may fail on ARC targets that do not implement the JTAG</p>
<p>bypass register properly. Other debugging operations will usually work on these</p>
<p>targets, so this failure can be ignored.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>336</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ARM Usage Notes</b></p>
<p><b>General ARM Usage Notes</b></p>
<p>Hardware Trace Limitations with the AM335x</p>
<p>Data address trace and data triggers of floating-point operations do not work on the</p>
<p>AM335x due to hardware limitations.</p>
<p>Programming EE Flash on Fujitsu Cortex-R4 Chips</p>
<p>The internal flash of FCR4 series CPUs consists of two modules: TC flash and EE</p>
<p>flash.EE flash is mirrored at two different addresses.</p>
<p>0xb0440000</p>
<p>is the ECC mirror</p>
<p>and</p>
<p>0xb04c0000</p>
<p>is the non-ECC mirror. One of these addresses must be added to</p>
<p>the bank list in the flash programmer to enable programming EE flash. If the EE</p>
<p>flash is programmed in non-ECC mode, or if a programming error has occurred,</p>
<p>reads from the ECC mirror will fail. Read failures will prevent the flash programmer</p>
<p>from reprogramming the EE flash. The reported error message will either be the</p>
<p>address of the read failure or a hardware exception. To resolve this condition,</p>
<p>perform a blind erase of affected sectors by clearing both the<b> Program</b> and<b> Verify</b></p>
<p>options in the flash programmer. After the blind erase is done, re-enable Program</p>
<p>and Verify to reprogram the flash module.</p>
<p>Programming the EE flash is not currently supported on the MP9EF126 and</p>
<p>MB9DF126 ES1.</p>
<p>INTEGRITY ARMv7 Trace Support</p>
<p>When running INTEGRITY with an ARMv7 ASP (used by all Cortex-A9 BSPs),</p>
<p>the trace decompressor can determine which AddressSpace was running at a given</p>
<p>time. If you also need to know which Task was running, link the following function</p>
<p>into the KernelSpace program:</p>
<p>#include &lt;asp_export.h&gt;</p>
<p>void BSP_ContextSwitchHook(void *oldtcb, void *newtcb, Value oldid, Value newid)</p>
<p>{</p>
<p>// Write the Task control block address of the incoming task to CONTEXTIDR.PROCID</p>
<p>MCR(CP15_CONTEXTIDR, MRC(CP15_CONTEXTIDR) &amp; 0xff | (uint32_t)newtcb &amp; ~0xff);</p>
<p>}</p>
<p><i>337</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>This hook adds about 100 clock cycles of overhead to each context switch.</p>
<p>Enabling Triggers on iMX6 Targets</p>
<p>The secondary cores on iMX6 targets are held in reset until they are released by the</p>
<p>boot core. While they are held in reset, it is not possible to configure the Cross</p>
<p>Trigger Interface (CTI) on those cores to enable triggers. While the Green Hills</p>
<p>stand-alone setup script for the iMX6 releases the secondary cores from reset and</p>
<p>configures the CTIs to enable triggers on all cores, startup code for multi-core aware</p>
<p>applications, such as INTEGRITY, might require that the secondary cores are left</p>
<p>in reset by the setup script. If this is the case, to enable triggers, you must configure</p>
<p>the CTIs after your application has released the secondary cores from reset.</p>
<p>ARM1136 Cache Data is Incorrect or Not Viewable</p>
<p>The data cache on the ARM1136 is not viewable, but the cache tags are. The</p>
<p>instruction cache is viewable, but due to a hardware error, the data shown for the</p>
<p>odd-numbered words on each line may be incorrect.</p>
<p>Cannot Debug or Detect an ARMv7-A or ARMv7-R</p>
<p>If you cannot debug your ARMv7-A or ARMv7-R target, be sure you have correctly</p>
<p>set the AP Index and Address of the core's registers. In most cases, the<b> detect</b></p>
<p>command can determine these values for you. If your target lacks a ROM table, or</p>
<p>some parts of the ROM table are unreadable, you will have to set these values</p>
<p>manually. For more information, see “Specifying CoreSight Targets” on page 78.</p>
<p>Fujitsu MB9 and Texas Instruments RM4x and TMS570 Flash</p>
<p>Programming Configuration</p>
<p>When programming the internal flash modules of the Fujitsu MB9 or Texas</p>
<p>Instruments RM4x processors, both the probe and the target must be configured for</p>
<p>little-endian mode. When programming the Texas Instruments TMS570 series</p>
<p>processors, both the probe and target must be configured for big-endian (BE32)</p>
<p>mode.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>338</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Cannot Connect To An XScale Target While it is Running a Program</p>
<p>You cannot use the Green Hills Probe to connect to and debug an XScale target</p>
<p>while it is running a program. Intel has published an application note related to this</p>
<p>subject, but the Probe does not implement Intel's recommended solution. To gain</p>
<p>control of an XScale target, reset it through the debug port using the Green Hills</p>
<p>Probe.</p>
<p>Updating Exception Vectors on XScale Targets</p>
<p>In the XScale debug architecture, the debug solution (for example, your probe)</p>
<p>must cache the processor's exception vectors, and the processor uses the cached</p>
<p>vectors instead of the vectors in your target's memory. The probe guarantees its</p>
<p>cached exception vectors are identical to those in memory after reset and each time</p>
<p>the target is resumed or single-stepped. However, if your program updates exception</p>
<p>vectors on-the-fly, the probe's cached vectors will not match the ones in memory</p>
<p>unless you manually resume the target.</p>
<p>To work around this problem, use one of the following encodings of the</p>
<p>BKPT</p>
<p>instruction:</p>
<p>•</p>
<p>ARM mode —</p>
<p>BKPT 0x1134</p>
<p>(opcode</p>
<p>0xe1211374</p>
<p>)</p>
<p>•</p>
<p>Thumb mode —</p>
<p>BKPT 0x14</p>
<p>(opcode</p>
<p>0xbe14</p>
<p>)</p>
<p>These instructions tell the probe to stop the target, reload the vectors, and resume</p>
<p>the target.</p>
<p>Alternatively, if your target does not change the exception vectors after the first</p>
<p>exception, set the<b> auto_vector_reload</b> setting to</p>
<p>once</p>
<p>, and make sure that all</p>
<p>vectors are set before the first exception of any kind is taken.</p>
<p>Cacheview Displays Incorrect Cache on XScale Manzano Cores</p>
<p>If you have an XScale target with a Manzano core (such as the PXA320 or IXP2350),</p>
<p>you are using<b> Cacheview</b> to view a valid cache line in the L2 cache, and there is a</p>
<p>valid L1-D line at the same address,<b> Cacheview</b> displays data from the L1 cache</p>
<p>instead of the L2 cache. This is a hardware limitation.</p>
<p><i>339</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Detect Sets Intel 80321 Targets to Intel 80219</p>
<p>The JTAG</p>
<p>IDCODE</p>
<p>registers on the Intel 80321 and 80219 processors are identical.</p>
<p>As a result, the 80219 is detected as an 80321. To configure this target manually,</p>
<p>use the following command:</p>
<p>set target i80219</p>
<p>Detect Sets Endianness Incorrectly on Some ARM Targets</p>
<p><b>detect</b> may detect incorrect endianness on some ARM targets. Most ARM targets</p>
<p>boot in little-endian mode, and can then be changed by boot code or a setup script</p>
<p>to run in big-endian mode. However, the<b> detect</b> command often resets the target</p>
<p>during the detection process, so the endianness will typically be detected as</p>
<p>little-endian. To detect the proper endianness, run the<b> de</b> (detect endianness)</p>
<p>command manually after the system has been configured to its final endianness, or</p>
<p>set the endianness manually.</p>
<p>Detect Sets use_rtck Incorrectly on Some ARM Targets</p>
<p><b>detect</b> may incorrectly set<b> use_rtck</b> to</p>
<p>normal</p>
<p>on some ARM targets, causing</p>
<p>intermittent test, run control, and download failures. To fix this problem, either:</p>
<p>•</p>
<p>Run the command</p>
<p>set use_rtck off</p>
<p>, or</p>
<p>•</p>
<p>Load the probe configuration file for your board, located in</p>
<p><i><b>install_dir</i>\target\<i>architecture</b></i>.</p>
<p>Trace Triggers on Single Addresses in Thumb Code Fail on iMX31</p>
<p>Targets</p>
<p>Due to a hardware limitation, trace triggers on single addresses in Thumb code do</p>
<p>not work reliably on iMX31 targets. To work around this issue, use a ranged address</p>
<p>trigger.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>340</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Data Value Read Triggers Unreliable on ARM11 Targets</p>
<p>Data value read triggers are unreliable on the ARM11. The target may indicate a</p>
<p>trigger even when the data read is not equal to the comparison value.</p>
<p>How to Mass-Erase Flash on Kinetis Parts</p>
<p>Some Kinetis parts have a feature that locks flash and prevents debugger access</p>
<p>until flash is erased. To mass-erase flash on a Kinetis part:</p>
<p>1.</p>
<p>Make sure that the target type is set to</p>
<p>kinetis</p>
<p>.</p>
<p>2.</p>
<p>Run the following commands:</p>
<p>&gt; jp nsrst 0</p>
<p>&gt; jr</p>
<p>&gt; rr mdm-ap-status</p>
<p>&gt; rw mdm-ap-control 1</p>
<p>&gt; sleep 120</p>
<p>&gt; rr mdm-ap-status</p>
<p>&gt; tr</p>
<p>If the first command does not work, use</p>
<p>jp nreset 0</p>
<p>instead.</p>
<p>Cannot Trace More Than 128 Unique AddressSpaces On ARM Targets</p>
<p>Without a ContextID Register</p>
<p>ARM processors that do not have a</p>
<p>ContextID</p>
<p>register limit the number of unique,</p>
<p>traceable AddressSpaces to 128. Tracing a target on which the number of</p>
<p>AddressSpaces exceeds 128 is not supported.</p>
<p>Base Address for Renesas RZ/A1 Flash Chip</p>
<p>Green Hills Probes support programming Spansion SPI flash memory chips from</p>
<p>the Renesas RZ/A1. For example, the RTK772100FC evaluation board contains</p>
<p>three SPI chips. Two are connected to channel 0, and one is connected to channel</p>
<p>1. These flash chips are identified in the flash programmer by the base address in</p>
<p>the SPI multi I/O bus space. To program them, the SPI driver must be activated by</p>
<p><i>341</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>adding a driver parameter to the base address in the flash dialog. For example, to</p>
<p>program the first chip, set the base address to</p>
<p>0x18000000&amp;driver=rzspi</p>
<p>.</p>
<p>The SPI flash controller, I/O pins, and clocks must be manually configured before</p>
<p>programming. This should be done in a setup script run by the flash programmer.</p>
<p>The flash programmer will verify that the data was programmed correctly. After</p>
<p>programming SPI flash, it will reset the target CPU, which will clear the SPI</p>
<p>controller configuration. You will be able to read from flash in the debugger only</p>
<p>after manually reconfiguring the SPI controller.</p>
<p>Setting the Trigger Position When Collecting Data from an ARM ETB</p>
<p>Trigger position works differently when collecting trace with an embedded trace</p>
<p>buffer (ETB) than when collecting with a SuperTrace Probe. On an ETB, if the</p>
<p>trigger occurs soon after trace collection is enabled, part of the ETB buffer may not</p>
<p>be used because the ETB will stop collecting trace as soon as the trigger has reached</p>
<p>the specified position in the buffer. For example, if trigger position is set to 50%</p>
<p>and the trigger occurs after 5% of the buffer has filled:</p>
<p>•</p>
<p>Collecting via STP, the buffer will fill completely, and the retrieved buffer will</p>
<p>contain 5% data prior to the trigger and 95% data after the trigger.</p>
<p>•</p>
<p>Collecting via ETB, the buffer will fill partially, and the retrieved buffer will</p>
<p>be 45% unused (before the trigger), 5% data before the trigger, and 50% data</p>
<p>after the trigger.</p>
<p>Note that this means using high trigger percentages with an ETB may result in very</p>
<p>little data being collected.</p>
<p>If a trigger occurs within the first 1000 bytes or so of trace, the trigger packet might</p>
<p>be before the first sync point. As a result, all of the trace data decompressed will</p>
<p>be for code that executed after the trigger, and the trigger itself will not be in the</p>
<p>trace list.</p>
<p>If you change the trigger position while tracing to the ARM ETB, the change will</p>
<p>not take effect until you turn trace off and back on again.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>342</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Software Breakpoints in Memory Shared by Multiple Cores</p>
<p>Some SoCs, including the Freescale iMX6 and Renasas R-Car H2, prevent the</p>
<p>probe from accessing the debug registers on the secondary CPUs until the boot core</p>
<p>has done some initialization to power them up or bring them out of reset. On these</p>
<p>cores, there is a brief period of time in between when the core begins executing</p>
<p>code and when the probe can enable halt-mode debugging on the core. If a software</p>
<p>breakpoint is hit during this time, the core will take an Undefined instruction</p>
<p>exception rather than entering debug mode.</p>
<p>To mitigate this problem, early startup code may poll</p>
<p>DBGDSCR</p>
<p>until</p>
<p>DBGDSCR.HDBGen</p>
<p>is set. After</p>
<p>DBGDSCR.HDBGen</p>
<p>is set, software breakpoints will</p>
<p>properly cause entry to debug mode.</p>
<p>CCN504 L3 Cache Home Node Mapping</p>
<p>For systems that include a CCN504 L3 Cache, there are effectively three orthogonal</p>
<p>indices into the cache:</p>
<p>Set</p>
<p>,</p>
<p>Way</p>
<p>, and</p>
<p>Home Node</p>
<p>. To support this with the current</p>
<p>Set/Way</p>
<p>interface, the</p>
<p>Home Node</p>
<p>number is in bits</p>
<p>4-6</p>
<p>of the</p>
<p>Way</p>
<p>, while bits</p>
<p>0-3</p>
<p>contain the true</p>
<p>Way</p>
<p>number within the</p>
<p>Home Node</p>
<p>. For example, within a</p>
<p>Set</p>
<p>, the first</p>
<p>Home Node</p>
<p>will appear as</p>
<p>Ways 0-15</p>
<p>, the second</p>
<p>Home Node</p>
<p>as</p>
<p>Ways 16-31</p>
<p>, and so on.</p>
<p><i>343</i></p>
<p><i>Green Hills Software</i></p>
<p><i>ARM Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Blackfin Usage Notes</b></p>
<p><b>General Blackfin Usage Notes</b></p>
<p>Power Detection on Targets with an ADI JTAG Port</p>
<p>Power detection is not supported for Blackfin targets using the ADI JTAG port,</p>
<p>because it does not have a power pin. If you are not using the ADI target adapter,</p>
<p>set the<b> power_detect</b> option to</p>
<p>off</p>
<p>. This option prevents the probe from trying to</p>
<p>use a power pin with other adapters.</p>
<p>Hardware Breakpoint Support on bf533 and bf561 Cores</p>
<p>On bf533 and bf561 cores, hardware breakpoints are only supported in hardware</p>
<p>revision 0.3 or greater.</p>
<p>Resetting bf561 Targets</p>
<p>On bf561 targets, the<b> tr d</b> command lets both cores run for a short while before</p>
<p>putting them under debug control.</p>
<p>Single-stepping Over An Instruction May Return Incorrect Data</p>
<p>On Blackfin, if the<b> step_ints</b> option is set to</p>
<p>off</p>
<p>and you single-step over an</p>
<p>instruction that directly reads or writes the memory-mapped</p>
<p>IMASK</p>
<p>register, a data</p>
<p>read will return incorrect data, and a data write will not occur. To work around this</p>
<p>problem, temporarily set<b> step_ints</b> to</p>
<p>on</p>
<p>, or run past the code instead.</p>
<p>User and Supervisor Stack Pointer Access with SP</p>
<p>When</p>
<p>SP</p>
<p>is accessed on Blackfin, the probe uses the user stack pointer or supervisor</p>
<p>stack pointer depending on what mode the currently running program is in.</p>
<p>USP</p>
<p>always accesses the user stack pointer, and the virtual register</p>
<p>SSP</p>
<p>always accesses</p>
<p>the supervisor stack pointer.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>344</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Debugging Programs Compiled with the ADI VDSP Compiler</p>
<p>If you are debugging a program compiled with the ADI VDSP compiler, pass the</p>
<p><b>-adi</b> option to<b> mpserv</b>.</p>
<p>Running a Mixture of GHS/VDSP-compiled Binaries Not Supported</p>
<p>on Multi-Core Systems</p>
<p>Running a mixture of GHS/VDSP-compiled binaries on a multi-core system is not</p>
<p>currently supported. If you need this functionality, contact Green Hills Software.</p>
<p><i>345</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Blackfin Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>ColdFire Usage Notes</b></p>
<p><b>General ColdFire Usage Notes</b></p>
<p>ColdFire 5307 Data Value Triggers Unreliable</p>
<p>On ColdFire 5307, triggers that compare against data values do not work reliably.</p>
<p>There are two failure modes:</p>
<p>•</p>
<p>the trigger fires when the trigger condition has not occurred</p>
<p>•</p>
<p>the trigger fails to fire when the trigger condition has occurred</p>
<p>This behavior is a hardware limitation.</p>
<p><b>Task-Aware Trace Not Available on ColdFire INTEGRITY</b></p>
<p>Due to hardware limitations, task-aware trace is not supported when tracing</p>
<p>INTEGRITY.</p>
<p><b>MIPS Usage Notes</b></p>
<p><b>General MIPS Usage Notes</b></p>
<p>Detect Does Not Always Work For MIPS 74K Targets</p>
<p>In some cases, the detect command does not work on the MIPS 74K. This target</p>
<p>cannot be halted unless the</p>
<p>DINT EJTAG</p>
<p>signal is pulled low. The probe does not</p>
<p>drive</p>
<p>DINT</p>
<p>unless the target string is already set to</p>
<p>74K</p>
<p>. To work around this issue,</p>
<p>set the target string manually or drive</p>
<p>DINT</p>
<p>low using the<b> jp</b> command.</p>
<p>Writing to Both the Even and Odd Ways of a TLB</p>
<p>To write to both ways of a TLB, use two successive<b> tlbw</b> commands. You do not</p>
<p>need to specify the way; the probe determines this by looking at the page mask and</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>346</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>virtual address. It then writes to the appropriate way and preserves the other one.</p>
<p>For example:</p>
<p>tlbw 0 0x4110000 Pagemask=0x7fff 0x0 V,G,C=2,D</p>
<p>// This is an even entry</p>
<p>tlbw 0 0x4114000 Pagemask=0x7fff 0x14000 V,G,C=2,D</p>
<p>// This is an odd one</p>
<p>tlbr 0</p>
<p>entry 0, way 0: vaddr=0x04110000 vtag=0x0000:00006000 (ASID=0x0,PageMask=0x6000) -&gt;</p>
<p>paddr=0x00014000 ptag=0x17 (C=2,D,V,G)</p>
<p>entry 0, way 1: vaddr=0x04114000 vtag=0x0000:00006000 (ASID=0x0,PageMask=0x6000) -&gt;</p>
<p>paddr=0x00000000 ptag=0x01 (C=0,!D,!V,G)</p>
<p>TLB Initialization May Require Initializing All TLB Entries After Reset</p>
<p>TLB entries on MIPS 4K and variants include a hidden state bit which is cleared</p>
<p>on reset and set when the entry is written. On reset, some entries may still be shown</p>
<p>by the probe as valid when running the<b> tlbr</b> command. Because the hidden state bit</p>
<p>is cleared, these entries will not be used by the processor for translation. This also</p>
<p>affects the<b> vc</b> test. The<b> vc</b> test checks the TLB entries for a match against the starting</p>
<p>address when it is outside the kseg regions. It may find a match for the starting</p>
<p>address, but since the hidden state bit is cleared, the test will fail. This can be fixed</p>
<p>by initializing all TLB entries after reset.</p>
<p>Target-Specific Permission Options for the ma Command</p>
<p>For MIPS32 and MIPS64 targets, the two target-specific permission options for<b> ma</b></p>
<p>(</p>
<p>0</p>
<p>and</p>
<p>1</p>
<p>) are used to indicate whether or not the probe should try to fill the TLB</p>
<p>entry when a TLB miss occurs during an access to the specified range of memory.</p>
<p>•</p>
<p>default (not set explicitly) — The probe reports the TLB miss, and the access</p>
<p>fails.</p>
<p>•</p>
<p>0</p>
<p>— The probe fills TLB entries to handle misses when the processor is in</p>
<p>kernel mode or supervisor mode.</p>
<p>•</p>
<p>1</p>
<p>— The probe fills TLB entries to handle misses when the processor is in user</p>
<p>mode.</p>
<p>When the probe is instructed to fill the TLB entry, it calls the target code's TLB</p>
<p>refill handler using a small agent (written into memory at the address specified by</p>
<p>the<b> agent</b> option). In order for the probe to fill the TLB entry:</p>
<p>•</p>
<p>you must have a working TLB refill handler</p>
<p><i>347</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>you must not have breakpoints set in any code that might be called by the TLB</p>
<p>refill handler</p>
<p>If either of these criteria is not met, your program may crash when the probe tries</p>
<p>to fill the TLB entry.</p>
<p>For example, to tell the probe to fill TLB entries for misses that occur as a result of</p>
<p>memory accesses between</p>
<p>0xc0000000</p>
<p>and</p>
<p>0xc01fffff</p>
<p>when the core is in</p>
<p>kernel or supervisor mode, use the following command:</p>
<p>ma 0xc0000000 0xc01fffff rw0</p>
<p>To tell the probe to fill TLB entries for misses that occur as a result of memory</p>
<p>accesses between</p>
<p>0x400000</p>
<p>and</p>
<p>0x4fffff</p>
<p>when the core is in user mode, use the</p>
<p>following command:</p>
<p>ma 0x400000 0x4fffff rw1</p>
<p>PMC-Sierra Hardware Bug Workaround</p>
<p>The PMC-Sierra rm79xx and rm9xx families have a hardware bug that prevents</p>
<p>debugging in user mode. Due to this bug:</p>
<p>•</p>
<p>No software or hardware breakpoints are hit.</p>
<p>•</p>
<p>The target cannot be halted while in user mode.</p>
<p>The Green Hills probe implements a workaround that simulates software breakpoints</p>
<p>and allows you to single-step through code. This workaround does not simulate</p>
<p>hardware breakpoints or allow you to halt the target. It involves inserting trap</p>
<p>instructions where you want a software breakpoint and then inserting a real</p>
<p>breakpoint in the exception vector to catch it while in kernel mode. The probe</p>
<p>resumes when the exception vector is hit by a normal exception and halts as in a</p>
<p>software breakpoint when the exception PC is one of those trap breakpoints.</p>
<p>Several probe options configure this workaround:</p>
<p>•</p>
<p><b>e9000_trap_brkpt</b> — dictates whether to use regular software breakpoints or</p>
<p>the workaround.</p>
<p>•</p>
<p><b>e9000_trap_addr</b> — dictates the address where the probe sets the breakpoint</p>
<p>in the exception vector.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>348</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p><b>e9000_trap_type</b> — dictates which type of breakpoint to use (hardware or</p>
<p>software).</p>
<p>•</p>
<p><b>e9000_eret_addr</b> — indicates the location of any</p>
<p>eret</p>
<p>instruction in the code,</p>
<p>enabling the probe to resume execution after hitting the trap breakpoint.</p>
<p>Set these options before debugging and do not change them. To have the most</p>
<p>visibility, set<b> e9000_trap_addr</b> to the entry point of one of the following exception</p>
<p>vectors:</p>
<p>•</p>
<p>0x80000180</p>
<p>— RAM BEV of Status</p>
<p>reg == 0</p>
<p>•</p>
<p>0xbfc00380</p>
<p>— ROM BEV of Status</p>
<p>reg == 1</p>
<p>This slows the program execution every time the system hits one of these exceptions;</p>
<p>the probe checks to see if it is a trap breakpoint, and resumes if it is not. If you set</p>
<p>the breakpoint further in the exception vector, there would be less slowdown, but</p>
<p>registers</p>
<p>k0</p>
<p>and</p>
<p>k1</p>
<p>could be changed by the OS. A hardware breakpoint would</p>
<p>have to be used when debugging the target in ROM.</p>
<p>Enforcing the Primary Core's ROCC Bit on Cavium Octeon cnMIPS64</p>
<p>Boards</p>
<p>Cavium Octeon chips using the cnMIPS64 core hold all but the primary core in</p>
<p>reset until software releases them. Therefore, the probe firmware does not wait for</p>
<p>the</p>
<p>ROCC</p>
<p>bit to go low on these cores. If you want the probe to enforce this bit for</p>
<p>a primary core, set the<b> check_rocc_at_reset</b> option to</p>
<p>on</p>
<p>. During reset, if you see</p>
<p>a</p>
<p>ROCC bit never went low</p>
<p>error, this option might be set to</p>
<p>on</p>
<p>for one of the</p>
<p>cores that is being held in reset. To fix this error, set the option to</p>
<p>off</p>
<p>.</p>
<p>Configuring the Probe for Nuova Cores</p>
<p>When specifying a Nuova core with a 5-bit IR, use the target string</p>
<p>nuova5</p>
<p>. For a</p>
<p>6-bit IR, use</p>
<p>nuova6</p>
<p>.</p>
<p><i>349</i></p>
<p><i>Green Hills Software</i></p>
<p><i>MIPS Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Nuova Cores Do Not Support vb or detect</p>
<p>Nuova cores do not handle the JTAG bypass instruction properly. In a single-core</p>
<p>setup, the probe does not normally scan a bypass instruction, however, you must</p>
<p>not use the<b> vb</b> or<b> detect</b> commands, because they do use this instruction.</p>
<p>Data Hardware Breakpoints with Data Value Compares May Cause</p>
<p>an Imprecise Exception</p>
<p>Data hardware breakpoints with data value compares may cause an imprecise</p>
<p>exception. When this happens, the probe reports the correct hardware breakpoint,</p>
<p>but at a later PC. See the MIPS EJTAG specification for more information.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>350</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC Usage Notes</b></p>
<p><b>General PowerPC Usage Notes</b></p>
<p>Triggering Data Hardware Breakpoints on Certain PowerPC Cores</p>
<p>In order for a data hardware breakpoint to trigger on PowerPC 7xx, 7400, 7410,</p>
<p>744x, or 86xx cores:</p>
<p>•</p>
<p>The access address must match the breakpoint address</p>
<p>•</p>
<p>DABR[BT]</p>
<p>must match</p>
<p>MSR[DR]</p>
<p>If your target is a 7xx, 7400, 7410, 744x or 745x, the probe attempts to compensate</p>
<p>for this by setting the BT bit to match the current value of</p>
<p>MSR[DR]</p>
<p>when the</p>
<p>breakpoint is first set or re-enabled. Even so, some data breakpoints might not be</p>
<p>hit if the application code changes the value of</p>
<p>MSR[DR]</p>
<p>.</p>
<p>If your target is an 86xx, set the<b> databp_translate</b> option to configure this behavior.</p>
<p>Triggering Execute Hardware Breakpoints on Certain PowerPC Cores</p>
<p>In order for an execute hardware breakpoint to trigger on PowerPC 7xx, 7400, 7410,</p>
<p>744x, or 86xx cores:</p>
<p>•</p>
<p>The current PC must match the upper 30 bits of</p>
<p>IABR</p>
<p>•</p>
<p>MSR[IR]</p>
<p>must match</p>
<p>IABR[TE]</p>
<p>If your target is a 744x or 745x, the probe tries to compensate for this by setting</p>
<p>TE</p>
<p>to match the current value of</p>
<p>MSR[IR]</p>
<p>when the breakpoint is first set or re-enabled.</p>
<p>The probe does not set</p>
<p>TE</p>
<p>for hardware execute breakpoints with addresses less</p>
<p>than</p>
<p>0x2000</p>
<p>, because this is the default exception vector space, and the MMU is</p>
<p>disabled when processing exceptions.</p>
<p>If your target is a 7xx, 7400, or 7410, the probe does not set the</p>
<p>TE</p>
<p>bit when</p>
<p>installing a breakpoint, so by default, execute hardware breakpoints do not trigger</p>
<p>in cases where</p>
<p>MSR[IR]</p>
<p>is enabled. To work around this issue manually, set the</p>
<p>least significant bit of the breakpoint address. For example, to set a hardware</p>
<p><i>351</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>breakpoint to trigger when</p>
<p>MSR[IR]</p>
<p>is enabled and the instruction at</p>
<p>0x8000</p>
<p>is</p>
<p>executed, use the following command:</p>
<p>bs x 0x8001</p>
<p>If your target is an 86xx, set the<b> execbp_translate</b> option to configure this behavior.</p>
<p>Tracing Nexus Targets With `Trace On Function and Callees Not</p>
<p>Executing'</p>
<p>When tracing a Power Architecture Nexus target using the<b> Trace on: Function</b></p>
<p><b>and Callees Not Executing</b> feature, no trace data is collected until the specified</p>
<p>function exits for the first time.</p>
<p>Limitations Debugging Exception Handlers on Certain PowerPC Cores</p>
<p>On PowerPC 7xx, 74xx, 86xx, and BDM cores, do not set a software breakpoint in</p>
<p>the following places:</p>
<p>•</p>
<p>Inside an interrupt handler, before the context registers are backed up</p>
<p>•</p>
<p>Inside an interrupt handler, after the context registers are restored, but before</p>
<p>rfi</p>
<p>If you do, the</p>
<p>srr0</p>
<p>and</p>
<p>srr1</p>
<p>registers may get corrupted, putting the target in an</p>
<p>unrecoverable state.</p>
<p>Long Pause Before Downloading Program from MULTI</p>
<p>If there seems to be a long pause before a download begins in MULTI, it is most</p>
<p>likely due to the probe flushing the L1 data cache. If your application enables the</p>
<p>data cache anyway, disable the data cache in the setup script (using an appropriate</p>
<p>register write to</p>
<p>hid0</p>
<p>) to remove this pause.</p>
<p>Problems with Single-Stepping</p>
<p>The<b> step</b> configuration setting determines the method the probe uses to single-step</p>
<p>through code. If you are having a problem with single-stepping, a different setting</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>352</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>may single-step properly. Some PowerPC targets may have problems when using</p>
<p>trace single-step with the I-Cache enabled.</p>
<p>No Support for Debugging eTPU on PowerPC 55xx Processors</p>
<p>MULTI does not support debugging the eTPU on PowerPC 55xx processors. When</p>
<p>connecting with MULTI, only the e200 cores are shown. You can still use the probe</p>
<p>console for debugging operations on the eTPU, such as viewing registers and</p>
<p>memory, setting breakpoints, running, halting, and stepping.</p>
<p>Reading or Writing Memory Cleans Data Cache Lines on Certain</p>
<p>PowerPC Cores</p>
<p>The probe issues a snoop request for most memory accesses on PowerPC e300,</p>
<p>e500, e5500, and e6500 cores. This allows the probe to maintain cache coherency</p>
<p>with the target, but also has the effect of flushing any D-Cache or L2 cache lines</p>
<p>associated with the access address. This may have a small impact on target</p>
<p>performance upon resume, as the core may need to refill affected cache lines.</p>
<p>Memory accesses to addresses marked instruction-only (</p>
<p>i</p>
<p>suffix) or raw (</p>
<p>r</p>
<p>suffix)</p>
<p>do not cause snoop requests. For more information, see “Address Suffixes”</p>
<p>on page 190.</p>
<p><b>PowerPC 4xx Usage Notes</b></p>
<p>Freeze-Mode Debugging with INTEGRITY</p>
<p>If you are using freeze-mode debugging to debug INTEGRITY on a PowerPC 4xx,</p>
<p>set the<b> inval_entire_icache</b> option to</p>
<p>on</p>
<p>.</p>
<p>If you are using freeze-mode debugging in MULTI 4 to debug INTEGRITY virtual</p>
<p>tasks on a PowerPC 4xx, add the following command to your setup script:</p>
<p>target allphysical on</p>
<p>Do not add this command if you are using MULTI 5.</p>
<p><i>353</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>No Valid Cache Lines May Exist In Cache Inhibited Memory Regions</p>
<p>On PowerPC 440 and 460 targets, if you use the<b> tlbw</b> command to set the cache</p>
<p>inhibit bit in a TLB entry, you must also ensure that no valid cache lines exist for</p>
<p>the memory region that is now cache inhibited. Use the following command sequence</p>
<p>to invalidate the data cache:</p>
<p>clop invalidate i * *</p>
<p>clop invalidate d * *</p>
<p>310-PAC2M-02 Pin Adapter Hardware Flaw</p>
<p>Pin adapter 310-PAC2M-02 is a shrouded COP 16-pin male header placed opposite</p>
<p>a 38-pin AMP MICTOR plug on a small PCB labeled PPC and 2A. This adapter</p>
<p>has a minor error that affects PowerPC 4xx targets. Pin 7 of the MICTOR is</p>
<p>connected to the active-low</p>
<p>HALT</p>
<p>signal on the target processor. The Green Hills</p>
<p>Probe cannot assert this pin when you are using this adapter, because the pin is not</p>
<p>wired correctly on the adapter. The</p>
<p>HALT</p>
<p>pin is only required to perform a precise</p>
<p>system-type reset. It can also be asserted manually through the probe's<b> jp</b> pin control</p>
<p>command (see “JTAG and SWD Commands” on page 183). No fix to this adapter</p>
<p>is planned, although the adapter may be replaced in the future with a new model</p>
<p>that does not have this limitation. Contact Green Hills support if you have further</p>
<p>questions about this issue.</p>
<p>Cannot Trace More Than 255 Unique AddressSpaces On PowerPC</p>
<p>440 or 460</p>
<p>PowerPC 440 and 460 processors limit the number of unique, traceable</p>
<p>AddressSpaces to 255. Tracing a target on which the number of AddressSpaces</p>
<p>exceeds 255 is not supported.</p>
<p><b>PowerPC e200 Usage Notes</b></p>
<p>Reading and Writing While Core Is Running Bypasses the Cache</p>
<p>It is possible to read and write target memory while the processor is running.</p>
<p>However, these memory accesses always bypass the cache and access memory</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>354</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>directly. Only use this feature when the cache is disabled, or in memory</p>
<p>corresponding to cache-inhibited TLB entries, or the results may be unpredictable</p>
<p>or incorrect.</p>
<p>SPC56APxx Does Not Support Low-Power Mode Monitoring or Live</p>
<p>Memory Access</p>
<p>Due to its design, the SPC56AP60 and SPC56AP54 do not support live memory</p>
<p>access or monitoring of low-power mode.</p>
<p>Programming the UTest Block on MPC57xx and SPC57x</p>
<p>MPC57xx and SPC57x series CPUs contain internal flash modules which can be</p>
<p>programmed from the Debugger. One of the internal flash blocks, UTest, requires</p>
<p>special care when programming. The UTest block contains test, configuration, and</p>
<p>security information. Changing the settings in this block may permanently modify</p>
<p>CPU operation or lock out debugging access. The Debugger's flash programmer</p>
<p>can program but not erase this block.</p>
<p>To program the UTest block:</p>
<p>1.</p>
<p>Change the base address of internal flash from</p>
<p>0x400000</p>
<p>to</p>
<p>0x400000&amp;modify_utest=1</p>
<p>. Some CPUs contain internal flash that starts</p>
<p>at address</p>
<p>0</p>
<p>, in which case you must enter</p>
<p>0&amp;modify_utest=1</p>
<p>.</p>
<p>2.</p>
<p>Provide either a raw binary image of the modified</p>
<p>UTest</p>
<p>block or an ELF file</p>
<p>that contains UTest data.</p>
<p>3.</p>
<p>Disable the erase option at the top of the flash programmer dialog.</p>
<p>Because the flash programmer cannot erase the UTest block, only flash lines which</p>
<p>have not yet been programmed can be modified. These flash lines each contain</p>
<p>eight bytes. If a line is programmed twice with different values, the checksum for</p>
<p>that line will be incorrect and this will cause permanent read failures. Please see</p>
<p>the reference manual for your CPU for the UTest block map and DCF record format.</p>
<p><i>355</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 744x and 745x Usage Notes</b></p>
<p>Detect Sets PowerPC 7445 or 7447 Incorrectly</p>
<p>When using the<b> detect</b> command, the probe cannot determine if the target has an</p>
<p>L3 cache present, so it may detect a 7455 when the actual target is a 7445, and</p>
<p>similarly detect a 7457 when the target is a 7447.</p>
<p>Writes to the msscr0 Register Are Not Supported</p>
<p>The probe does not support writing to the</p>
<p>msscr0</p>
<p>register. Writes to this register</p>
<p>should be accomplished through application code. Additionally, when reading this</p>
<p>register via the probe, some bits may always appear as</p>
<p>0</p>
<p>on 7441, 7445, 7450, 7451,</p>
<p>and 7455 targets.</p>
<p>Freeze-Mode Debugging Unreliable When L3 Cache Is Enabled</p>
<p>With the L3 cache enabled on 745x targets, freeze-mode debugging may be</p>
<p>unreliable in certain configurations. It is recommended if possible to use run-mode</p>
<p>debugging with<b> soft_stop</b> set to</p>
<p>off</p>
<p>in these situations.</p>
<p>Software Breakpoints Require a Valid Opcode at the Program Exception</p>
<p>Vector</p>
<p>If you are using software breakpoints when debugging your target, there must be a</p>
<p>valid opcode in memory at the program exception vector address (</p>
<p>0xfff00700</p>
<p>or</p>
<p>0x700</p>
<p>, depending on the value of</p>
<p>MSR[IP]</p>
<p>). Otherwise, the CPU will take a double</p>
<p>exception when the software breakpoint is hit. For more information, see Errata 32</p>
<p>in the 7455 Chip Errata list.</p>
<p>744x or 745x Halts Unexpectedly</p>
<p>If a 744x or 745x target halts unexpectedly at the program interrupt vector (</p>
<p>+0x700</p>
<p>)</p>
<p>after a run or step command, you may try setting the<b> icache_step</b> option to</p>
<p>off</p>
<p>.</p>
<p>This is known to correct the behavior in certain situations.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>356</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 750 Usage Notes</b></p>
<p>clst and clsa Modify the L2 Cache in Two Ways on 750GX Cores</p>
<p>Using<b> clst</b> or<b> clsa</b> to modify the L2 cache on a 750GX will modify two ways instead</p>
<p>of just one. This is due to a chip bug.</p>
<p>L2 Cache Coherency Required on 750L Targets</p>
<p>The contents of the L2 cache cannot be read on the IBM PowerPC 750L using the</p>
<p><b>clr</b> command. The status and tag bits are still displayed. The agent must be enabled</p>
<p>to maintain L2 cache coherency while the probe debugs this target. For more</p>
<p>information about enabling the agent, see the<b> agent</b> option in “PowerPC”</p>
<p>on page 124.</p>
<p>The D-Cache Tag Cannot Be Written On Some PowerPCTargets</p>
<p>The D-Cache tag cannot be written on the 750L or 750CX.</p>
<p>clsa d</p>
<p>does not work</p>
<p>on these targets.</p>
<p>The Probe Cannot Access THRM4 on the 750GX</p>
<p>The probe cannot access the</p>
<p>THRM4</p>
<p>register when debugging a PowerPC 750GX.</p>
<p>MULTI Does Not Distinguish Among PowerPC 750 Variants</p>
<p>When connecting in MULTI to any PowerPC 750, MULTI lists the connected target</p>
<p>as a PowerPC 750, even if it is a 750L, 750X, etc.</p>
<p><b>PowerPC 83xx Usage Notes</b></p>
<p>Core Cannot Be Halted or Debugged in Low-Power Mode</p>
<p>PowerPC 83xx cores cannot be halted or debugged if they enter low-power mode,</p>
<p>which is indicated by the POW bit in the MSR. If you want to debug an RTOS or</p>
<p><i>357</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>other application that enables low-power mode, you may need to disable this mode</p>
<p>for debugging operations to work correctly. For example, if debugging Linux, you</p>
<p>would comment out the line:</p>
<p>oris r7,r7,MSR_POW@h</p>
<p>in the file<b> idle_6xx.S</b>, because it enables low-power modes. If you enter debug</p>
<p>mode and all of the SPRs have the same value, that usually indicates that the</p>
<p>processor was in low-power mode when it halted.</p>
<p><b>PowerPC 85xx and QorIQ e500v2 Usage Notes</b></p>
<p>Valid Opcode Required at IVOR15</p>
<p>Some (typically older) processors have a requirement that for software and hardware</p>
<p>breakpoints to work,</p>
<p>IVOR15</p>
<p>must point to an address that has a valid TLB mapping</p>
<p>and contains a valid opcode. By default, this is not true at reset, so, for example,</p>
<p>the processor may fail to stop at hardware breakpoints set in the boot page of memory</p>
<p>if</p>
<p>IVOR15</p>
<p>(and</p>
<p>IVPR</p>
<p>) are not configured first. The failure mode will be that the</p>
<p>processor will spin, and when halted, the processor will be at zero, and all registers</p>
<p>will be zero.</p>
<p>Machine Check Exceptions When no_boot_rom is Enabled</p>
<p>When the<b> no_boot_rom</b> option is enabled on an 85xx, P1xxx, or P2xxx, and the</p>
<p>target is reset, a machine check exception will occur if ever</p>
<p>HID0[EMCP]</p>
<p>is set.</p>
<p>This is due to a debug interface limitation. To avoid this, only use the<b> no_boot_rom</b></p>
<p>option for restoring code at the reset vector and other board bring-up operations,</p>
<p>and then disable it for normal debugging purposes. The<b> reset_fixup</b> option does</p>
<p>not not result in a machine check, but it should only be used to perform the TLB</p>
<p>or single-step workaround — it should not be depended upon to provide the same</p>
<p>reset recovery behavior as<b> no_boot_rom</b>.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>358</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC QorIQ e500mc, e5500, and e6500 Usage Notes</b></p>
<p>INTEGRITY Trace Support</p>
<p>When running INTEGRITY with an e500mc, e5500, or e6500 processor, the trace</p>
<p>decompressor needs additional Task information when the kernel switches to a</p>
<p>virtual AddressSpace. Link the following function into the KernelSpace program</p>
<p>so that the decompressor will have the additional task information and be able to</p>
<p>trace virtual AddressSpaces.</p>
<p>/*</p>
<p>// Write the new TaskContext address to the NPIDR register so that trace can</p>
<p>// figure out what task we're switching to.</p>
<p>// NOTE: Trace will be confused if this task no longer exists by the time</p>
<p>// the trace data is processed.</p>
<p>*/</p>
<p>void BSP_ContextSwitchHook(void *oldtc, void *newtc, Value oldid, Value newid)</p>
<p>{</p>
<p>#if __ADDRESS_BITS == 32</p>
<p>__MTSPR(SPR_NPIDR, (Address)newtc);</p>
<p>#else</p>
<p>// The NPIDR register is still only 32 bits regardless of address size.</p>
<p>// We know newtc will always be page aligned and we take advantage of</p>
<p>// that by shifting it right by 11 and then setting the LSB (to indicate</p>
<p>// to the trace decoder that we shifted it).</p>
<p>// This way we'll be fine unless a TaskContext address is larger than 2^43.</p>
<p>__MTSPR(SPR_NPIDR, (((Address)newtc) &gt;&gt; 11) | 1);</p>
<p>#endif</p>
<p>}</p>
<p>Trace Requirements for QorIQ over HSST</p>
<p>To trace QorIQ targets over HSST, the following requirements must be met:</p>
<p>•</p>
<p>You must use a serial trace-equipped SuperTrace Probe.</p>
<p>•</p>
<p>You must connect to your board using a HS70 or HS22 cable.</p>
<p>•</p>
<p>Your board must enable one or more Aurora lanes. For an example, see the</p>
<p><b>.mbs</b> script provided by the New Project Wizard. This script includes support</p>
<p>for temporarily overriding the target's reset configuration word (RCW). You</p>
<p>may need to customize the RCW values in the script depending on your</p>
<p>SerDes</p>
<p>allocation requirements; see your device's reference manual for details on RCW</p>
<p>bit descriptions.</p>
<p><i>359</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>•</p>
<p>You must set the probe's<b> hsst_rx_lanes</b> option to the number of lanes that are</p>
<p>enabled. You must do this before establishing a debug connection between</p>
<p>your host and the probe (such as with<b> mpserv</b>).</p>
<p>•</p>
<p>In MULTI, you must set the lane line rate in Mbps with</p>
<p>target tracereg</p>
<p>aurora_linerate=<i>line_rate</i></p>
<p>. The<b> .mbs</b> script provided by the New Project</p>
<p>Wizard includes a utility function to dynamically detect the line rate based on</p>
<p>RCW values. Supported values are</p>
<p>2500</p>
<p>,</p>
<p>3125</p>
<p>, and</p>
<p>5000</p>
<p>.</p>
<p>For more details, see<i><b> comp_install</i>/ghprobe/hsst_debug.rc</b>.</p>
<p>Cannot Set Trace Triggers or Filters on a Running QorIQ Target</p>
<p>On QorIQ targets, triggers and trace filters cannot be configured while the target is</p>
<p>running. The target must be halted to set a trigger or trace filter (or you can set it</p>
<p>before downloading and running the program). If you attempt to modify an existing</p>
<p>trigger while the target is running, the existing trigger remains set on the target, but</p>
<p>the<b> Trace Triggers</b> dialog box will not indicate that the trigger is set.</p>
<p>Gap Between Trace Start Event and Actual Trace Data when using</p>
<p>Filters on QorIQ Targets</p>
<p>When using trace filters with QorIQ targets, there is a small gap between when the</p>
<p>start trace event occurs and when the trace actually begins.</p>
<p>Raw Memory Writes to SDRAM Locks Debug Interface on Some QorIQ</p>
<p>Targets</p>
<p>When debugging some QorIQ targets, performing raw memory writes to SDRAM</p>
<p>with Core Platform Caches enabled may cause the debug interface to become</p>
<p>unresponsive.</p>
<p>36-Bit Addressing</p>
<p>When using addresses larger than 32 bits, you must set the</p>
<p>EN_MAS_7_UPDATE</p>
<p>bit of</p>
<p>HID0</p>
<p>, or the probe may not be able to translate addresses correctly.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>360</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PowerPC 86xx Usage Notes</b></p>
<p>Writes to the msscr0 Register Are Not Supported</p>
<p>The probe does not support writing to the</p>
<p>msscr0</p>
<p>register. Writes to this register</p>
<p>should be accomplished through application code. Additionally, when reading this</p>
<p>register via the probe, some bits may always appear as</p>
<p>0</p>
<p>on 86xx targets.</p>
<p>Target Halts Unexpectedly at the Program Interrupt Vector</p>
<p>If your target halts unexpectedly at the program interrupt vector (</p>
<p>+0x700</p>
<p>) after a</p>
<p>run or step command, you may try setting the<b> icache_step</b> option to</p>
<p>off</p>
<p>. This is</p>
<p>known to correct the behavior in certain situations.</p>
<p><b>PowerPC BDM Usage Notes</b></p>
<p>PowerPC BDM Targets Must Be Reset by the Probe Before Debugging</p>
<p>PowerPC BDM targets cannot be controlled from the probe unless the most recent</p>
<p>target reset was performed by the probe. If an external reset causes the target to</p>
<p>reset, the probe will not be able to halt the target until a subsequent reset command</p>
<p>is sent by the probe.</p>
<p>Probe Does Not Provide Access to the DPDR Register on PowerPC</p>
<p>BDM Targets</p>
<p>The probe cannot give the user access to the</p>
<p>DPDR</p>
<p>register because it must use this</p>
<p>register for all debugging operations. The<b> rr</b> command cannot read this register.</p>
<p>SRR0 Register Always Refers to the Current PC on PowerPC BDM</p>
<p>Targets</p>
<p>Because of the exception debug model these processors use, the value of the</p>
<p>SRR0</p>
<p>register, as viewed using the Green Hills Probe, will always refer to the current</p>
<p>PC</p>
<p>.</p>
<p><i>361</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Thus the values the probe displays for the</p>
<p>PC</p>
<p>,</p>
<p>IAR</p>
<p>, and</p>
<p>SRR0</p>
<p>will always be the</p>
<p>same.</p>
<p><b>Usage Notes for Other PowerPC Cores</b></p>
<p>Using Triggers with PowerPC 405, 440, and 460</p>
<p>PowerPC 405, 440, and 460 processors use breakpoint hardware to implement</p>
<p>triggers. As a result, all hardware and software breakpoints must be disabled to</p>
<p>enable the use of triggers (you can use either breakpoints or trace triggers). We</p>
<p>recommend that you do not switch between using breakpoints and triggers during</p>
<p>a debugging session. If you do, a breakpoint may appear in the trace list as a trigger,</p>
<p>and a trigger will not appear.</p>
<p>To enable support for triggers on PowerPC 405, 440, and 460:</p>
<p>1.</p>
<p>Disable all hardware and software breakpoints.</p>
<p>2.</p>
<p>Enable support for triggers by passing the<b> -trace_triggers</b> option to<b> mpserv</b></p>
<p>or by issuing the command<b> target trace_triggers on</b>. Any breakpoints (such</p>
<p>as those internally set for system calls) that are still enabled when you perform</p>
<p>this step will produce a warning and then be automatically disabled. For more</p>
<p>information, see “Options for Custom Connection Methods” on page 54 and</p>
<p>“Other Commands” on page 209.</p>
<p>The deactivation of breakpoints to allow for trigger support means that any attempt</p>
<p>to set new breakpoints will fail. Additionally, host-based system calls, which depend</p>
<p>on breakpoints and which affect the functioning of host file I/O and the MULTI</p>
<p><b>I/O</b> pane, will not work. Consequently, when breakpoints are disabled, you should</p>
<p>issue the command<b> target syscalls off</b> before loading a program. For more</p>
<p>information, see “Other Commands” on page 209.</p>
<p><b>Note</b></p>
<p>When you halt your system with trigger support enabled and breakpoints</p>
<p>disabled, you may get error messages about your program being stopped</p>
<p>at unknown breakpoints. Please ignore the following error messages in</p>
<p>this situation:</p>
<p>mpserv: error getting hardware breakpoint status.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>362</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Stopped by unknown hardware break (tag=-1, cause=0)</p>
<p>To disable support for triggers and restore the use of breakpoints:</p>
<p>1.</p>
<p>Issue the command<b> target trace_triggers off</b>.</p>
<p>2.</p>
<p>Re-enable all hardware and software breakpoints.</p>
<p><b>Note</b></p>
<p>The Agilent E5904B trace probe for PowerPC 405 and 440 does not</p>
<p>support tracing with breakpoints enabled.</p>
<p>603ev and 82xx Breakpoint and stw Instruction Interaction</p>
<p>On these targets, if the instruction cache is enabled and a software breakpoint is set</p>
<p>on the instruction following an<b> stw</b> instruction, it is possible that the store will not</p>
<p>have taken place yet. The write occurs after, if a single-step is performed. Also, if</p>
<p>an<b> isync</b> instruction is inserted before the software breakpoint, the store takes place</p>
<p>before the breakpoint occurs.</p>
<p>The clst Command Cannot Clear D-Cache Status Bits</p>
<p>The<b> clst</b> command cannot be used to clear status bits on the D-Cache for the</p>
<p>PowerPC 5200, 8247, 8248, 8270, 8271, 8272, 8275, or 8280.</p>
<p>Data Corruption on a 7400 or 7410 with L2 Cache Enabled</p>
<p>Data corruption may occur when debugging a PowerPC 7400 or 7410 with the L2</p>
<p>cache enabled. This documented as Freescale's MPC7410 Chip Errata 20. We</p>
<p>recommend either disabling the L2 cache, setting it to instruction mode only, or</p>
<p>setting it to write through mode. Any of these should prevent the data corruption.</p>
<p><i>363</i></p>
<p><i>Green Hills Software</i></p>
<p><i>PowerPC Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SH Usage Notes</b></p>
<p><b>General SH Usage Notes</b></p>
<p>Reset Retry Limit Error When Resetting Certain SH Targets</p>
<p>Some SH targets require a specific reset sequence before they respond to debugging.</p>
<p>Because the H-UDI specification does not allow the probe to control the reset line,</p>
<p>the probe is unable to perform this sequence itself, and if the probe is connected</p>
<p>when the board is powered on, it may interfere with this process. When this problem</p>
<p>occurs, resetting the board from the probe results in a</p>
<p>Reached reset retry</p>
<p>limit</p>
<p>error. To solve this problem:</p>
<p>1.</p>
<p>tristate the probe's outputs by pressing the front panel button or using the<b> jp</b></p>
<p><b>off</b> command</p>
<p>2.</p>
<p>cycle the power on the board.</p>
<p>Debugging should then work normally.</p>
<p>Required Setting for SH-2A Targets</p>
<p>To properly halt an SH-2A target at reset, set the<b> target_reset_pin</b> option to</p>
<p>freezes_tap</p>
<p>.</p>
<p>Cannot Detect Certain SH Targets</p>
<p>The<b> detect</b> command does not work on SH7261 and SH7780 cores that lack proper</p>
<p>JTAG ID codes. Set these targets manually with the<b> set target</b> command.</p>
<p>Configuring Your Probe for SH7780 Targets</p>
<p>If your SH7780 target boots up with an 8-bit IR, your target string should be set to</p>
<p>sh7780_8</p>
<p>. Otherwise, use</p>
<p>sh7780</p>
<p>. Use the<b> detect</b> command to find the IR length</p>
<p>for your target.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>364</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Collecting Trace Data from SH7206 Targets Requires Correct Setting</p>
<p>for Pin Set</p>
<p>You cannot collect trace data from an SH7206 target until you set the<b> Pin Set</b> option</p>
<p>in the<b> Target Specific Options</b> trace dialog from<b> Undecided</b> to the configuration</p>
<p>of the target board. If you are using an M3A-HS60 evaluation board, the correct</p>
<p>setting is</p>
<p>PA16, PE0, PE3, PE4, PE5, PE6</p>
<p>.</p>
<p>Special Considerations when Caches are Enabled on SH7263 Targets</p>
<p>When using an SH7263 processor with a trace probe, in some cases, real-time trace</p>
<p>must be enabled if caches are also enabled (due to a hardware bug). If real-time</p>
<p>trace is off, the hardware stalls when its trace output FIFO fills up, which may cause</p>
<p>cache corruption.</p>
<p>Setting the Trace Clock Multiplier</p>
<p>In the SH trace<b> Target Specific Options</b> dialog, you can set the trace clock multiplier</p>
<p>to</p>
<p>1/1</p>
<p>,</p>
<p>1/2</p>
<p>,</p>
<p>1/4</p>
<p>, or</p>
<p>1/8</p>
<p>. Some boards may output incorrect trace data if the trace</p>
<p>clock frequency is too high. Unless you are having problems with DDR trace</p>
<p>clocking on an SH7261 target, you should use DDR.</p>
<p>SH Trace Capacity</p>
<p>This note provides a rough estimate of SH trace capacity by examining how much</p>
<p>execution can fit in the full 1 GB trace buffer running a simple test program. The</p>
<p>test program consists of:</p>
<p>•</p>
<p>10% branches (75% taken)</p>
<p>•</p>
<p>21% loads</p>
<p>•</p>
<p>14% stores</p>
<p>All tests were run with processor stalling enabled, which is why the times are the</p>
<p>same. The program counter was collected on each test:</p>
<p><i>365</i></p>
<p><i>Green Hills Software</i></p>
<p><i>SH Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Time</b></p>
<p><b>Number of</b></p>
<p><b>Instructions</b></p>
<p><b>Timestamps</b></p>
<p><b>Data Write</b></p>
<p><b>Data Read</b></p>
<p>n/a</p>
<p>2790 million</p>
<p>off</p>
<p>off</p>
<p>off</p>
<p>n/a</p>
<p>689 million</p>
<p>off</p>
<p>on</p>
<p>off</p>
<p>n/a</p>
<p>466 million</p>
<p>off</p>
<p>off</p>
<p>on</p>
<p>n/a</p>
<p>305 million</p>
<p>off</p>
<p>on</p>
<p>on</p>
<p>8.9 s</p>
<p>1549 million</p>
<p>on</p>
<p>off</p>
<p>off</p>
<p>8.9 s</p>
<p>384 million</p>
<p>on</p>
<p>on</p>
<p>off</p>
<p>8.9 s</p>
<p>256 million</p>
<p>on</p>
<p>off</p>
<p>on</p>
<p>8.9 s</p>
<p>166 million</p>
<p>on</p>
<p>on</p>
<p>on</p>
<p><b>x86 Usage Notes</b></p>
<p><b>Cannot Single Step from a hlt Opcode on x86</b></p>
<p>The standard mechanism that the probe uses to single step the processor does not</p>
<p>work if the processor is stopped at a</p>
<p>hlt</p>
<p>opcode. If the next opcode is</p>
<p>leave</p>
<p>or</p>
<p>nop</p>
<p>, the probe works around this issue by setting a hardware breakpoint at the</p>
<p>address following the</p>
<p>leave</p>
<p>or</p>
<p>nop</p>
<p>opcode. Note that</p>
<p>BSP_Doze()</p>
<p>in the</p>
<p>INTEGRITY BSP includes a</p>
<p>leave</p>
<p>opcode after</p>
<p>hlt</p>
<p>if you compile with<b> -G</b>.</p>
<p>When the probe cannot work around the issue, or no interrupt comes in, the probe</p>
<p>is unable to resume the target. In this case, comment out the</p>
<p>hlt</p>
<p>opcodes in your</p>
<p>code and rebuild.</p>
<p><b>Setting Logic High Level Is Unnecessary on x86 Targets</b></p>
<p>The TraceEverywhere cables for Intel x86 targets use GTL logic that automatically</p>
<p>uses the proper logic level for JTAG signals. When a GTL connector is attached to</p>
<p>the probe, the</p>
<p>logic_high</p>
<p>configuration option is not available, and the<b> dlh</b></p>
<p>command does not perform any logic detection.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>366</i></p>
<p><i>Appendix D. Troubleshooting and Usage Notes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix E</b></p>
<p><b>Supported Devices and</b></p>
<p><b>Adapter Types</b></p>
<p><b>Contents</b></p>
<p>Supported Devices . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>368</p>
<p>Green Hills Probe Target Adapter Types . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>383</p>
<p>SuperTrace Probe Trace Pod Types . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>385</p>
<p>Trace Feature Support . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>387</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported Devices</b></p>
<p>The following sections lists supported values for<i> device_name</i> for Green Hills Probe</p>
<p>and SuperTrace Probe connections (see “Specifying Your Target” on page 76).</p>
<p>The lists in the table may not be comprehensive. For a complete list of supported</p>
<p>device names, use the following command:</p>
<p>set target ?</p>
<p>If your target is not listed, contact your Green Hills Software Sales Representative.</p>
<p>The columns on the right-hand side of each table indicate the following:</p>
<p>•</p>
<p><b>GHP</b> — Run control supported on the Green Hills Probe V3.</p>
<p>•</p>
<p><b>STPv1</b> — Run control supported on the SuperTrace Probe V1.</p>
<p>•</p>
<p><b>STPv3</b> — Run control supported on the SuperTrace Probe V3.</p>
<p>•</p>
<p><b>Trace</b> — External trace data collection is supported on SuperTrace probes; for</p>
<p>targets with an ARM ETB or ARM CoreSight ETB, collection from ETB is</p>
<p>supported with the STPv3 and GHPv3.</p>
<p><b>Supported ARM Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm7di</p>
<p>ARM7</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm7tdmi</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm7tdmi-s</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm920</p>
<p>ARM9</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm922</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm926</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm940</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm946</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm966</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm968</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm968srd</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>368</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm1136</p>
<p>ARM11</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm1156t2fs</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm1156t2s</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm1176jzfs</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>arm1176jzs</p>
<p>X</p>
<p>X</p>
<p>arm11mp</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>omap2430</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>pj4_v6</p>
<p>X</p>
<p>X</p>
<p>a5</p>
<p>*</p>
<p>Cortex</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>a8</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>a9</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>a15</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>am335x</p>
<p>X</p>
<p>X</p>
<p>am389x</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>axx5500**</p>
<p>X</p>
<p>X</p>
<p>fcr4</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>kinetis</p>
<p>X</p>
<p>X</p>
<p>m0</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>m3</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>m4</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>m4f</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>omap5</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>pj4_v7</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>r4</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>r4f</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>r5</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>r5f</p>
<p>*</p>
<p>X</p>
<p>X</p>
<p>vybrid</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>icepick(<i>id</i>:<i>name</i>)</p>
<p>ICEPick</p>
<p><i>369</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported ARM Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>i80200</p>
<p>XScale</p>
<p>X</p>
<p>X</p>
<p>i80219</p>
<p>X</p>
<p>X</p>
<p>i80321</p>
<p>X</p>
<p>X</p>
<p>i80331</p>
<p>X</p>
<p>X</p>
<p>ixp2350</p>
<p>X</p>
<p>X</p>
<p>ixp2400</p>
<p>X</p>
<p>X</p>
<p>ixp2800</p>
<p>X</p>
<p>X</p>
<p>ixp425</p>
<p>X</p>
<p>X</p>
<p>pxa210</p>
<p>X</p>
<p>X</p>
<p>pxa250</p>
<p>X</p>
<p>X</p>
<p>pxa255</p>
<p>X</p>
<p>X</p>
<p>pxa270</p>
<p>X</p>
<p>X</p>
<p>pxa320</p>
<p>X</p>
<p>X</p>
<p>xscale</p>
<p>* Indicates a target that must specified with</p>
<p>csdap()</p>
<p>, see “Specifying CoreSight</p>
<p>Targets” on page 78 for more details.</p>
<p>** Different AXX5500 family members have different numbers of cores. Specify</p>
<p>the number of cores as</p>
<p>axx5500.<i>n</i></p>
<p>, where</p>
<p><i>n</i></p>
<p>is the number of cores. For example,</p>
<p>for an AXM5512, which has 12 cores, use the target type</p>
<p>axx5500.12</p>
<p>. If not</p>
<p>specified, the number of cores defaults to 16.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>370</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported ARC Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>ARC600</p>
<p>ARC</p>
<p>X</p>
<p>ARC700</p>
<p>X</p>
<p>ARCtangent-A4</p>
<p>X</p>
<p>ARCtangent-A5</p>
<p><b>Supported Blackfin Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>bf533</p>
<p>Blackfin</p>
<p>X</p>
<p>bf561a</p>
<p>X</p>
<p>bf561b</p>
<p><b>Note</b></p>
<p>The device names</p>
<p>bf561a</p>
<p>and</p>
<p>bf561b</p>
<p>are always used together, and</p>
<p>only for the Blackfin 561 multi-core system. The correct target setting</p>
<p>for this system is:</p>
<p>set target bf561a bf561b</p>
<p><i>371</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported ARC Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported ColdFire Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5206e</p>
<p>ColdFire</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5208</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5213</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf52211</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf52223</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf52235</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf52259</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf52277</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5235</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5249</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5251</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5253</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5271</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5272</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5275</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5282</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5301x</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5307</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5329</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5373</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5407</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf54418</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf54455</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5475</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cf5485</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>cfv4e</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>372</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported Lexra Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>lx4189</p>
<p>Lexra</p>
<p><b>Supported MIPS/EJTAG Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>mips32_4kc</p>
<p>MIPS32</p>
<p>MIPS64</p>
<p>X</p>
<p>mips32_4kec</p>
<p>X</p>
<p>mips32_4kem</p>
<p>X</p>
<p>mips32_4kep</p>
<p>X</p>
<p>mips32_4km</p>
<p>X</p>
<p>mips32_4kp</p>
<p>X</p>
<p>mips32_4ksc</p>
<p>X</p>
<p>mips32_14kc</p>
<p>X</p>
<p>mips32_14kf</p>
<p>X</p>
<p>mips32_74kc</p>
<p>X</p>
<p>mips32_74kf</p>
<p>X</p>
<p>mips32_1004kc</p>
<p>X</p>
<p>mips32_1004kf</p>
<p>X</p>
<p>mips64_5kc</p>
<p>X</p>
<p>mips64_5kf</p>
<p>X</p>
<p>mips64_20kc</p>
<p>X</p>
<p>mips32_m4k</p>
<p>X</p>
<p>bcm1250</p>
<p>Broadcom</p>
<p>X</p>
<p>bcm3345</p>
<p>X</p>
<p>bcm6352</p>
<p>X</p>
<p>bcm7115</p>
<p>X</p>
<p>bcm7320</p>
<p><i>373</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported Lexra Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>idt32334</p>
<p>IDT323xx</p>
<p>X</p>
<p>idt32355</p>
<p>X</p>
<p>idt32364</p>
<p>X</p>
<p>FastMATH</p>
<p>Intrinsity</p>
<p>X</p>
<p>FastMIPS</p>
<p>X</p>
<p>vr4131</p>
<p>Renesas</p>
<p>X</p>
<p>vr5500</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>tx4937</p>
<p>Toshiba</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>tx4938</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>tx4955</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>374</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported PowerPC Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>apm82181</p>
<p>4xx*</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405ex</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405exr</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405ez</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405gp</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc405gpr</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440ep</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440epx</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440gp</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440gr</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440grx</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440gx</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440spe</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc440x5</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc460ex</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc460gt</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc460gtx</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc460sx</p>
<p>X</p>
<p>ppc740</p>
<p>7xx</p>
<p>X</p>
<p>ppc745</p>
<p>X</p>
<p>ppc750</p>
<p>**</p>
<p>X</p>
<p>ppc755</p>
<p><i>375</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported PowerPC Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>ppc7400</p>
<p>74xx</p>
<p>X</p>
<p>ppc7410</p>
<p>X</p>
<p>ppc7441</p>
<p>X</p>
<p>ppc7445</p>
<p>X</p>
<p>ppc7447</p>
<p>X</p>
<p>ppc7447A</p>
<p>X</p>
<p>ppc7448</p>
<p>X</p>
<p>ppc7450</p>
<p>X</p>
<p>ppc7451</p>
<p>X</p>
<p>ppc7455</p>
<p>X</p>
<p>ppc7457</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>376</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>ppc5xx</p>
<p>BDM</p>
<p>X</p>
<p>ppc533</p>
<p>X</p>
<p>ppc534</p>
<p>X</p>
<p>ppc535</p>
<p>X</p>
<p>ppc536</p>
<p>X</p>
<p>ppc555</p>
<p>X</p>
<p>ppc556</p>
<p>X</p>
<p>ppc560</p>
<p>X</p>
<p>ppc561</p>
<p>X</p>
<p>ppc562</p>
<p>X</p>
<p>ppc563</p>
<p>X</p>
<p>ppc564</p>
<p>X</p>
<p>ppc565</p>
<p>X</p>
<p>ppc566</p>
<p>X</p>
<p>ppc8xx</p>
<p>X</p>
<p>ppc821</p>
<p>X</p>
<p>ppc823</p>
<p>X</p>
<p>ppc823e</p>
<p>X</p>
<p>ppc850</p>
<p>X</p>
<p>ppc852t</p>
<p>X</p>
<p>ppc855</p>
<p>X</p>
<p>ppc855t</p>
<p>X</p>
<p>ppc857t</p>
<p>X</p>
<p>ppc857dsl</p>
<p>X</p>
<p>ppc859t</p>
<p>X</p>
<p>ppc859dsl</p>
<p><i>377</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported PowerPC Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>ppc860</p>
<p>BDM</p>
<p>X</p>
<p>ppc860p</p>
<p>X</p>
<p>ppc860dp</p>
<p>X</p>
<p>ppc862</p>
<p>X</p>
<p>ppc862p</p>
<p>X</p>
<p>ppc862t</p>
<p>X</p>
<p>ppc866p</p>
<p>X</p>
<p>ppc866t</p>
<p>X</p>
<p>ppc870</p>
<p>X</p>
<p>ppc875</p>
<p>X</p>
<p>ppc880</p>
<p>X</p>
<p>ppc885</p>
<p>X</p>
<p>mgt5200</p>
<p>G2</p>
<p>X</p>
<p>ppc603</p>
<p>***</p>
<p>X</p>
<p>ppc8240</p>
<p>X</p>
<p>ppc8245</p>
<p>X</p>
<p>ppc8247</p>
<p>X</p>
<p>ppc8248</p>
<p>X</p>
<p>ppc8250</p>
<p>X</p>
<p>ppc8255</p>
<p>X</p>
<p>ppc8260</p>
<p>X</p>
<p>ppc8264</p>
<p>X</p>
<p>ppc8265</p>
<p>X</p>
<p>ppc8266</p>
<p>X</p>
<p>ppc8270</p>
<p>X</p>
<p>ppc8271</p>
<p>X</p>
<p>ppc8272</p>
<p>X</p>
<p>ppc8275</p>
<p>X</p>
<p>ppc8280</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>378</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5516</p>
<p>e200</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5517</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5533</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5534</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5553</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5554</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5561</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5565</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5566</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5567</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc560xB</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc560xC</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc560xE</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc560xP</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc560xS</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc563xM</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xA</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xB</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xC</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xL_LSM</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xL_DPM</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc564xS</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5668</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5674</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc567xK_LSM</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc567xK_DPM</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc567xR</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5744P</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5746M</p>
<p>X</p>
<p>X</p>
<p>ppc5744K</p>
<p><i>379</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported PowerPC Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>ppc5746R</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5748G</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5775K</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppc5777M</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>spc56AP60</p>
<p>X</p>
<p>X</p>
<p>spc570S50</p>
<p>X</p>
<p>X</p>
<p>spc572L64</p>
<p>X</p>
<p>X</p>
<p>spc574K72</p>
<p>X</p>
<p>ppc5121</p>
<p>e300</p>
<p>X</p>
<p>ppc5125</p>
<p>X</p>
<p>ppc8308</p>
<p>X</p>
<p>ppc8313</p>
<p>X</p>
<p>ppc8314</p>
<p>X</p>
<p>ppc8315</p>
<p>X</p>
<p>ppc8321</p>
<p>X</p>
<p>ppc8323</p>
<p>X</p>
<p>ppc8343</p>
<p>X</p>
<p>ppc8347</p>
<p>X</p>
<p>ppc8349</p>
<p>X</p>
<p>ppc8358</p>
<p>X</p>
<p>ppc8377</p>
<p>X</p>
<p>ppc8378</p>
<p>X</p>
<p>ppc8379</p>
<p>X</p>
<p>ppc8360</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>380</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>ppc8533</p>
<p>e500</p>
<p>X</p>
<p>ppc8536</p>
<p>X</p>
<p>ppc8540</p>
<p>X</p>
<p>ppc8541</p>
<p>X</p>
<p>ppc8543</p>
<p>X</p>
<p>ppc8544</p>
<p>X</p>
<p>ppc8545</p>
<p>X</p>
<p>ppc8547</p>
<p>X</p>
<p>ppc8548</p>
<p>X</p>
<p>ppc8555</p>
<p>X</p>
<p>ppc8560</p>
<p>X</p>
<p>ppc8568</p>
<p>X</p>
<p>ppc8569</p>
<p>X</p>
<p>ppc8572</p>
<p>X</p>
<p>ppcP1011</p>
<p>X</p>
<p>ppcP1020</p>
<p>X</p>
<p>ppcP2010</p>
<p>X</p>
<p>ppcP2020</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP2041</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP3041</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP4040</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP4080</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP5020</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>ppcP5040</p>
<p>X</p>
<p>X</p>
<p>ppcT4160</p>
<p>X</p>
<p>X</p>
<p>ppcT4240</p>
<p>X</p>
<p>ppc8610</p>
<p>e600</p>
<p>X</p>
<p>ppc8641</p>
<p>X</p>
<p>ppc8641D</p>
<p><i>381</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported PowerPC Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p>* When specifying a PowerPC 4xx target by name, you can use several different</p>
<p>suffixes to give the probe more information about your target. The following suffixes</p>
<p>are allowed:</p>
<p><b>Description</b></p>
<p><b>Suffix</b></p>
<p>Indicates that this target has a floating point</p>
<p>unit.</p>
<p><b>fpu</b></p>
<p>Indicates that this target does not have a</p>
<p>floating point unit.</p>
<p><b>nofpu</b></p>
<p>Indicates that this target does not have any core</p>
<p>select bits.</p>
<p><b>raw</b></p>
<p>Separate the suffix from the name with a period:</p>
<p>set target ppc440x5.raw</p>
<p>Separate multiple suffixes with commas:</p>
<p>set target ppc440x5.raw,fpu</p>
<p>Do not put spaces before or after a suffix.</p>
<p>** Use the</p>
<p>ppc750</p>
<p>setting when connecting to a</p>
<p>ppc750</p>
<p>,</p>
<p>ppc750L</p>
<p>,</p>
<p>ppc750CX(e)</p>
<p>,</p>
<p>ppc750GX</p>
<p>, or</p>
<p>ppc750FX</p>
<p>. Specify your exact target board with the</p>
<p>target_rev</p>
<p>option (see “PowerPC” on page 124). The cores have to be distinguished because</p>
<p>each core has its caches in different locations.</p>
<p>*** The device name</p>
<p>ppc603</p>
<p>is a generic type that currently defaults to PowerPC</p>
<p>603ev, the only 603 variant currently supported.</p>
<p><b>Supported SH Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>sh7206</p>
<p>SH</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>sh7261</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>sh7263</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>sh7780</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>sh7780_8</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>382</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Supported V800 Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>v850e-trace</p>
<p>V800</p>
<p><b>Note</b></p>
<p>Trace is supported with STPv1 probes only. Run control is not supported.</p>
<p><b>Supported x86 Targets</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>atom</p>
<p>Intel</p>
<p>X</p>
<p>atom_pv</p>
<p>X</p>
<p>core2</p>
<p>X</p>
<p>nehalem</p>
<p>X</p>
<p>sandy_bridge</p>
<p><b>Supported Generic JTAG Devices</b></p>
<p><b>Trace</b></p>
<p><b>STPv3</b></p>
<p><b>STPv1</b></p>
<p><b>GHP</b></p>
<p><b>Device Name</b></p>
<p><b>Family</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>other</p>
<p>Other</p>
<p><b>Note</b></p>
<p>For more information about specifying generic JTAG devices, see</p>
<p>“Specifying Bypassed Devices” on page 77.</p>
<p><b>Green Hills Probe Target Adapter Types</b></p>
<p>The following table lists appropriate<i> adapter_type</i> values for targets currently</p>
<p>supported by the Green Hills Probe. Use these values with the<b> set adapter</b> command</p>
<p>(see “Setting the Target Adapter Type” on page 74).</p>
<p><i>383</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Supported V800 Targets</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Pin-out</b></p>
<p><b>Target</b></p>
<p><i><b>adapter_type</b></i></p>
<p>Detects the adapter type. This is the default and the</p>
<p>recommended setting. It is the only correct setting</p>
<p>for TraceEverywhere (TE) cabling.</p>
<p><b>auto</b></p>
<p>“Analog Devices DSP”</p>
<p>on page 239</p>
<p>Blackfin targets that use a 14-pin debug connection.</p>
<p><b>adi</b></p>
<p>ARC targets that use a JTAG connection.</p>
<p><b>arc_15</b></p>
<p>“ARM Legacy 20-Pin”</p>
<p>on page 243</p>
<p>ARM targets, including XScale, that use a 20-pin</p>
<p>debug connection.</p>
<p><b>arm-20</b></p>
<p>“ARM Legacy 14-Pin”</p>
<p>on page 241</p>
<p>ARM targets that use a 14-pin debug connection.</p>
<p><b>arm-14</b></p>
<p>“ColdFire BDM”</p>
<p>on page 259</p>
<p>ColdFire targets that use a BDM connection.</p>
<p><b>cf-bdm</b></p>
<p>“PowerPC COP”</p>
<p>on page 266</p>
<p>PowerPC targets, such as PowerPC82xx series</p>
<p>processors, that use a 16-pin COP connection.</p>
<p><b>cop</b></p>
<p>“MIPS EJTAGV2.0 and</p>
<p>lower” on page 255</p>
<p>MIPS or Lexra targets that use a 12-pin EJTAG</p>
<p>v2.0 or v1.53 connection.</p>
<p><b>ejtag20-12</b></p>
<p>MIPS targets that use a 20-pin EJTAG v2.0 or v1.53</p>
<p>connection.</p>
<p><b>ejtag20-20</b></p>
<p>“MIPS EJTAG V2.5 and</p>
<p>higher” on page 257</p>
<p>MIPS targets that use a 14-pin EJTAG v2.5 or v2.6</p>
<p>connection.</p>
<p><b>ejtag25</b></p>
<p>“EOnCE” on page 273</p>
<p>Targets that use a 14-pin EOnCE connection.</p>
<p><b>eonce</b></p>
<p>“PowerPC BDM”</p>
<p>on page 264</p>
<p>PowerPC targets that use a 10-pin BDM connection.</p>
<p><b>ppc-bdm</b></p>
<p>“Renesas H-UDI”</p>
<p>on page 277</p>
<p>SH targets that use a 14-pin H-UDI connection.</p>
<p><b>sh</b></p>
<p>“Texas Instruments</p>
<p>DSP” on page 275</p>
<p>Texas Instruments OMAP targets.</p>
<p><b>ti</b></p>
<p>For more information about each adapter type, see “CPU Families and Debug</p>
<p>Connectors” on page 237.</p>
<p><b>Note</b></p>
<p>All x86 targets use the</p>
<p>auto</p>
<p>setting, because they require TE cabling.</p>
<p>This list may not be comprehensive. If your target and adapter type are</p>
<p>not listed, contact your Green Hills Software Sales Representative.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>384</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>SuperTrace Probe Trace Pod Types</b></p>
<p>The following table lists appropriate<i> adapter_type</i> values for targets currently</p>
<p>supported by the SuperTrace Probe. Use these values with the<b> set adapter</b> command</p>
<p>(see “Setting the Target Adapter Type” on page 74).</p>
<p><b>Pin-out</b></p>
<p><b>Trace pod (adapter)</b></p>
<p><i><b>adapter_type</b></i></p>
<p>Trace pod for any supported target. The probe</p>
<p>automatically detects the adapter type. This is the</p>
<p>default and the recommended setting. This is the</p>
<p>correct setting for TraceEverywhere (TE) and</p>
<p>legacy cabling.</p>
<p><b>auto</b></p>
<p>“ARM</p>
<p>ETM/PTM/CoreSight</p>
<p>MICTOR” on page 280</p>
<p>Adapter for ARM CoreSight targets.</p>
<p><b>arm-coresight</b></p>
<p>“ARM</p>
<p>ETM/PTM/CoreSight</p>
<p>MICTOR” on page 280</p>
<p>Adapter for ARM ETM targets</p>
<p><b>arm-etm</b></p>
<p>“ARM</p>
<p>ETM/PTM/CoreSight</p>
<p>MICTOR” on page 280</p>
<p>Adapter for ARM ETMv3 targets.</p>
<p><b>arm-etm3</b></p>
<p>“ColdFire BDM”</p>
<p>on page 259</p>
<p>Adapter for ColdFire targets</p>
<p><b>coldfire-trace</b></p>
<p>“PowerPC 405/440/460</p>
<p>MICTOR” on page 286</p>
<p>Adapter for PowerPC 4xx targets</p>
<p><b>ppc440-trace</b></p>
<p>“PowerPC</p>
<p>55xx/56xx/57xx Nexus”</p>
<p>on page 289</p>
<p>Adapter for PowerPC 55xx targets</p>
<p><b>nexus-mictor</b></p>
<p>“ARM CoreSight 20-Pin”</p>
<p>on page 245</p>
<p>Adapter for ARM CoreSight targets with an SWD</p>
<p>debug interface</p>
<p><b>swd-coresight</b></p>
<p>“ARM</p>
<p>ETM/PTM/CoreSight</p>
<p>MICTOR” on page 280</p>
<p>Adapter for ARM ETMv3 targets with an SWD</p>
<p>debug interface</p>
<p><b>swd-etm3</b></p>
<p>Adapter for Renesas V850E targets</p>
<p><b>v850e-trace</b></p>
<p>Adapter for SH targets</p>
<p><b>sh-trace</b></p>
<p><b>Note</b></p>
<p>For the Renesas V850E, the SuperTrace Probe only collects trace data,</p>
<p>and does not support run-control operations. To fully debug the Renesas</p>
<p><i>385</i></p>
<p><i>Green Hills Software</i></p>
<p><i>SuperTrace Probe Trace Pod Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p>V850E, you must use a separate run-control probe and debug server.</p>
<p>Currently, only the Midas IECUBE run-control probes are supported for</p>
<p>use in tandem with the SuperTrace Probe.</p>
<p><b>Note</b></p>
<p>This list may not be comprehensive. If your target and adapter type are</p>
<p>not listed, contact your Green Hills Software Sales Representative.</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>386</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Trace Feature Support</b></p>
<p>The tables in this section list which trace features are supported on trace targets.</p>
<p>In addition to the listed features, all trace targets support timestamps on SuperTrace</p>
<p>Probe v3, and data value trace implies TimeMachine register and memory</p>
<p>reconstruction.</p>
<p><b>PTM 1.x</b></p>
<p><b>ETMv1.x</b></p>
<p><b>ETMv3.x</b></p>
<p><b>ETMv3.4</b></p>
<p><b>Cortex-A9,</b></p>
<p><b>Cortex-A15</b></p>
<p><b>ARM7,</b></p>
<p><b>ARM9</b></p>
<p><b>ARM9,</b></p>
<p><b>ARM11</b></p>
<p><b>Cortex-A5</b></p>
<p><b>#</b></p>
<p><b>,</b></p>
<p><b>Cortex-R4</b></p>
<p><b>Cortex-A8</b></p>
<p><b>PJ4</b></p>
<p><b>Cortex-M3,</b></p>
<p><b>M4</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>PC trace</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Data addresses</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Data values</p>
<p>X</p>
<p>++</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Trigger, execution</p>
<p>+</p>
<p>X*</p>
<p>++</p>
<p>X</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>Trigger, read/write</p>
<p>+</p>
<p>X*</p>
<p>++</p>
<p>X</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>Trigger, value</p>
<p>+</p>
<p>X**</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Cycle accurate</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>External triggers</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>INTEGRITY</p>
<p>X</p>
<p>Gap reconstruction</p>
<p>X*</p>
<p>X</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>X*</p>
<p>Filters</p>
<p>4, 8, 16</p>
<p>4, 8, 16</p>
<p>4, 8, 16</p>
<p>4, 8, 16</p>
<p>4, 8, 16</p>
<p>1, 2, 4,</p>
<p>8, 16</p>
<p>1, 2, 4</p>
<p>Port Widths</p>
<p>* Some targets do not support this feature; it is implementation dependent.</p>
<p>** Cumulative cycle counts are provided at each branch</p>
<p>+</p>
<p>Triggers are not supported on targets for which the trace macrocell trigger output</p>
<p>cannot be connected to the trace sink's trigger input, such as the TI OMAP3, TI</p>
<p>OMAP4 and Freescale Vybrid.</p>
<p>++</p>
<p>PTM triggers are not precise; they occur in the trace stream several instructions</p>
<p>after the triggering event.</p>
<p>#</p>
<p>Cortex-A5 trace is only supported to the ETB, not the TPIU.</p>
<p><i>387</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Trace Feature Support</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>PPC</b></p>
<p><b>PPC4xx</b></p>
<p><b>QorIQ Nexus</b></p>
<p><b>Qorivva Nexus</b></p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>PC trace</p>
<p>X*</p>
<p>Data addresses</p>
<p>X*</p>
<p>Data values</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Trigger, execution</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>Trigger, read/write</p>
<p>X</p>
<p>Trigger, value</p>
<p>X</p>
<p>Cycle accurate</p>
<p>X**</p>
<p>X</p>
<p>X</p>
<p>External triggers</p>
<p>X</p>
<p>X</p>
<p>X</p>
<p>INTEGRITY</p>
<p>Gap reconstruction</p>
<p>X</p>
<p>X</p>
<p>Filters</p>
<p>N/A</p>
<p>N/A</p>
<p>2, 4, 8, 12, 16</p>
<p>Port Widths</p>
<p>* Data trace is not supported on e200z0 or e200z1 cores. This is a limitation of the</p>
<p>chip.</p>
<p>** External trigger in is not supported on PPC405</p>
<p><b>ColdFire</b></p>
<p>X</p>
<p>PC trace</p>
<p>Data addresses</p>
<p>X*</p>
<p>Data values</p>
<p>X</p>
<p>Trigger, execution</p>
<p>X</p>
<p>Trigger, read/write</p>
<p>X</p>
<p>Trigger, value</p>
<p>X</p>
<p>Cycle accurate</p>
<p>X</p>
<p>External triggers</p>
<p>X**</p>
<p>INTEGRITY</p>
<p>Gap reconstruction</p>
<p>Filters</p>
<p>N/A</p>
<p>Port Widths</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>388</i></p>
<p><i>Appendix E. Supported Devices and Adapter Types</i></p>
<h1 style="page-break-before:always; "></h1>
<p>* When caches are enabled, data values that hit the cache are not output in trace.</p>
<p>In addition, the trace output may drop data values due to trace port bandwidth</p>
<p>constraints. Time Machine cannot reconstruct register and memory values.</p>
<p>** Trace can identify the AddressSpace, but not the specific Task.</p>
<p><i>389</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Trace Feature Support</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix F</b></p>
<p><b>Probe Error Codes</b></p>
<h1 style="page-break-before:always; "></h1>
<p>The following table lists probe error codes along with a brief description of what</p>
<p>the code indicates.</p>
<p><b>Indication</b></p>
<p><b>Code</b></p>
<p>general error</p>
<p>1</p>
<p>target is not in debug mode</p>
<p>2</p>
<p>target is already in debug mode</p>
<p>3</p>
<p>could not allocate memory</p>
<p>4</p>
<p>ambiguous command</p>
<p>5</p>
<p>no match</p>
<p>6</p>
<p>invalid address</p>
<p>7</p>
<p>general FPGA error</p>
<p>8</p>
<p>EJTAG error</p>
<p>9</p>
<p>timeout</p>
<p>10</p>
<p>run</p>
<p>11</p>
<p>interrupt</p>
<p>12</p>
<p>test failed</p>
<p>13</p>
<p>invalid parameter</p>
<p>14</p>
<p>configuration verification failure</p>
<p>15</p>
<p>no target selected</p>
<p>16</p>
<p>the target is not running</p>
<p>17</p>
<p>the target is not stopped</p>
<p>18</p>
<p>this functionality has not yet been implemented</p>
<p>19</p>
<p>this functionality is not supported by the target</p>
<p>20</p>
<p>NULL or OTHER target; requested operation not available</p>
<p>21</p>
<p>NULL communications device</p>
<p>22</p>
<p>invalid memory index</p>
<p>23</p>
<p>invalid address range</p>
<p>24</p>
<p>no more breakpoint slots available</p>
<p>25</p>
<p>configuration integrity error</p>
<p>26</p>
<p>CRC check error</p>
<p>27</p>
<p>flash error</p>
<p>28</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>392</i></p>
<p><i>Appendix F. Probe Error Codes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Indication</b></p>
<p><b>Code</b></p>
<p>ThreadX general error</p>
<p>29</p>
<p>Invalid/unexpected message type</p>
<p>30</p>
<p>unexepected heap write pending</p>
<p>31</p>
<p>unexepected read pending</p>
<p>32</p>
<p>unexepected heap read pending</p>
<p>33</p>
<p>unexepected instruction read pending</p>
<p>34</p>
<p>dbscript error</p>
<p>35</p>
<p>comm thread exited</p>
<p>36</p>
<p>permission denied by memory range</p>
<p>37</p>
<p>could not find a valid access size to use</p>
<p>38</p>
<p>port reset</p>
<p>39</p>
<p>this functionality has not yet been implemented</p>
<p>40</p>
<p>the target is not supported</p>
<p>41</p>
<p>failed to single step the target</p>
<p>42</p>
<p>bad value for this register</p>
<p>43</p>
<p>bad register ID</p>
<p>44</p>
<p>shadow not equal to register value</p>
<p>45</p>
<p>timeout in memory access</p>
<p>46</p>
<p>failed to halt the target</p>
<p>47</p>
<p>unhandled target-specific command</p>
<p>48</p>
<p>no template available for this target</p>
<p>49</p>
<p>failed to acquire the target mutex</p>
<p>50</p>
<p>failed to release the target mutex</p>
<p>51</p>
<p>failed to create the target mutex</p>
<p>52</p>
<p>failed to delete the target mutex</p>
<p>53</p>
<p>invalid target ID</p>
<p>54</p>
<p>memory read error</p>
<p>55</p>
<p>memory write error</p>
<p>56</p>
<p>memory alignment error</p>
<p>57</p>
<p>PPC COP error</p>
<p>58</p>
<p><i>393</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Indication</b></p>
<p><b>Code</b></p>
<p>this register is not currently available for this operation</p>
<p>59</p>
<p>target power off</p>
<p>60</p>
<p>register is read only</p>
<p>61</p>
<p>breakpoint already set at this address</p>
<p>62</p>
<p>end of file encountered</p>
<p>63</p>
<p>option too long</p>
<p>64</p>
<p>no set command</p>
<p>65</p>
<p>could not open file</p>
<p>66</p>
<p>reboot requested</p>
<p>67</p>
<p>wrong protocol version</p>
<p>68</p>
<p>PC was unexpectedly reset</p>
<p>69</p>
<p>exception</p>
<p>70</p>
<p>probe output pins are disabled</p>
<p>71</p>
<p>register is write only</p>
<p>72</p>
<p>this feature is not currently enabled</p>
<p>73</p>
<p>Probe has shut down. Please contact Green Hills technical support for more information.</p>
<p>75</p>
<p>INTEGRITY error</p>
<p>76</p>
<p>error translating virtual address</p>
<p>77</p>
<p>cannot modify read-only option</p>
<p>78</p>
<p>no space left on device</p>
<p>81</p>
<p>the line is a comment</p>
<p>82</p>
<p>connection rejected</p>
<p>83</p>
<p>protocol consistency check failure</p>
<p>85</p>
<p>pod link down</p>
<p>86</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>394</i></p>
<p><i>Appendix F. Probe Error Codes</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix G</b></p>
<p><b>ARM Register Names</b></p>
<p><b>Contents</b></p>
<p>General</p>
<p>Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>396</p>
<p>Register Names For ARM1136 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>396</p>
<p>Register Names For ARM1156 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>398</p>
<p>Register Names For ARM1176 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>399</p>
<p>Register Names For ARM11MP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>402</p>
<p>Register Names For PJ4v6 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>405</p>
<p>Register Names For PJ4v7 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>408</p>
<p>Register Names For Cortex-R4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>411</p>
<p>Register Names For Cortex-R5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>413</p>
<p>Register Names For Cortex-A5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>417</p>
<p>Register Names For Cortex-A8 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>420</p>
<p>Register Names For Cortex-A9 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>426</p>
<p>Register Names For Cortex-A15 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>430</p>
<h1 style="page-break-before:always; "></h1>
<p><b>General Information</b></p>
<p>The Cortex-A9 register that contains the base address for the PLE program new</p>
<p>channel operation (</p>
<p>Rt</p>
<p>) is called</p>
<p>ple_prog_new_chan</p>
<p>by the probe.</p>
<p><b>Register Names For ARM1136</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_id</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cachetype</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tcm_status</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_type</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>control</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_control</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp_access</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase_ctrl</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dactl</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_far</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_wfar</p>
<p>1</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_lock</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_lock</p>
<p>1</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dtcm_region</p>
<p>0</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_itcm_region</p>
<p>1</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_lock</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_st_present</p>
<p>0</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_st_queued</p>
<p>1</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_st_running</p>
<p>2</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_st_interrupting</p>
<p>3</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>396</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_dma_user_access</p>
<p>0</p>
<p>c1</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_ch_number</p>
<p>0</p>
<p>c2</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_enable_stop</p>
<p>0</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_enable_start</p>
<p>1</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_enable_clear</p>
<p>2</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_control</p>
<p>0</p>
<p>c4</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_istart</p>
<p>0</p>
<p>c5</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_estart</p>
<p>0</p>
<p>c6</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_iend</p>
<p>0</p>
<p>c7</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_status</p>
<p>0</p>
<p>c8</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_contextid</p>
<p>0</p>
<p>c15</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_pid</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_contextid</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dm_remap</p>
<p>0</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_im_remap</p>
<p>1</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_remap</p>
<p>2</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_periph_remap</p>
<p>4</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_ctrl</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cycle_count</p>
<p>1</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count0</p>
<p>2</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count1</p>
<p>3</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_debug</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_icache_debug</p>
<p>1</p>
<p>c0</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_dtag_read_op</p>
<p>0</p>
<p>c2</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_itag_read_op</p>
<p>1</p>
<p>c2</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_icache_read_op</p>
<p>1</p>
<p>c4</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_icache_mvr</p>
<p>0</p>
<p>c8</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_iscache_mvr</p>
<p>0</p>
<p>c10</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_dcache_mvr</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_dscache_mvr</p>
<p>0</p>
<p>c14</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p><i>397</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For ARM1136</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_dmicrotlb_entry_op</p>
<p>0</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_imicrotlb_entry_op</p>
<p>1</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_read_maintlb_entry</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_write_maintlb_entry</p>
<p>4</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_dmicrotlb_va</p>
<p>0</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_imicrotlb_va</p>
<p>1</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_dmicrotlb_pa</p>
<p>0</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_imicrotlb_pa</p>
<p>1</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_dmicrotlb_attrib</p>
<p>0</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_imicrotlb_attrib</p>
<p>1</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_attrib</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_mvr</p>
<p>0</p>
<p>c14</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_cache_debug_ctrl</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>7</p>
<p>cp15</p>
<p>cp15_tlb_debug_ctrl</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>7</p>
<p>cp15</p>
<p><b>Register Names For ARM1156</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_id</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cachetype</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tcm_status</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mpu_type</p>
<p>4</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>control</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_control</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp_access</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_far</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>398</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_wfar</p>
<p>1</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_region_base</p>
<p>0</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_region_size</p>
<p>2</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_region_access</p>
<p>4</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_region_number</p>
<p>0</p>
<p>c2</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dtcm_region</p>
<p>0</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_itcm_region</p>
<p>1</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_pid</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_ctrl</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cycle_count</p>
<p>1</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count0</p>
<p>2</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count1</p>
<p>3</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cache_debug_ctrl</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>7</p>
<p>cp15</p>
<p><b>Register Names For ARM1176</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_id</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cache_type</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tcm_status</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_type</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_proc_feat0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_proc_feat1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_debug_feat0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_feat0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p><i>399</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For ARM1176</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_inst_set_feat0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat5</p>
<p>5</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>control</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_control</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp_access</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_secure_config</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_secure_debug_enable</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_non_secure_access_ctrl</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase_ctrl</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dactl</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_far</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_lock</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_lock</p>
<p>1</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dtcm_region</p>
<p>0</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_itcm_region</p>
<p>1</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dtcm_ns_ctrl_access</p>
<p>2</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_itcm_ns_ctrl_access</p>
<p>3</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tcm_sel</p>
<p>0</p>
<p>c2</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cache_behavior_override</p>
<p>0</p>
<p>c8</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_lock</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_primary_region_remap</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>400</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_normal_memory_remap</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_id_st_present</p>
<p>0</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_id_st_queued</p>
<p>1</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_id_st_running</p>
<p>2</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_id_st_interrupting</p>
<p>3</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_user_access</p>
<p>0</p>
<p>c1</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_ch_number</p>
<p>0</p>
<p>c2</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_control</p>
<p>0</p>
<p>c4</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_istart</p>
<p>0</p>
<p>c5</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_estart</p>
<p>0</p>
<p>c6</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_iend</p>
<p>0</p>
<p>c7</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_status</p>
<p>0</p>
<p>c8</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dma_contextid</p>
<p>0</p>
<p>c15</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>cp15_vector_base_address</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>cp15_monitor_vector_base_address</p>
<p>1</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>cp15_interrupt_status</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>cp15_pid</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_contextid</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_rw_threadid</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_ro_threadid</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_priv_threadid</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_peripheral_mem_remap</p>
<p>4</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_access_val_ctrl</p>
<p>0</p>
<p>c9</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_ctrl</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cycle_count</p>
<p>1</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count0</p>
<p>2</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count1</p>
<p>3</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_reset_count</p>
<p>4</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_irq_count</p>
<p>5</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_fiq_count</p>
<p>6</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p><i>401</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For ARM1176</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_debug_count</p>
<p>7</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_reset_count_start</p>
<p>1</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_irq_count_start</p>
<p>2</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_reset_irq_count_start</p>
<p>3</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_fiq_count_start</p>
<p>4</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_reset_fiq_count_start</p>
<p>5</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_irq_fiq_count_start</p>
<p>6</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_reset_irq_fiq_count_start</p>
<p>7</p>
<p>c13</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_sys_val_cache_size_mask</p>
<p>0</p>
<p>c14</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_debug_count_start</p>
<p>8</p>
<p>c13</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_reset_count_stop</p>
<p>1</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_irq_count_stop</p>
<p>2</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_reset_irq_count_stop</p>
<p>3</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_fiq_count_stop</p>
<p>4</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_reset_fiq_count_stop</p>
<p>5</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_irq_fiq_count_stop</p>
<p>6</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_reset_irq_fiq_count_stop</p>
<p>7</p>
<p>c13</p>
<p>c15</p>
<p>2</p>
<p>cp15</p>
<p>cp15_icache_mvr</p>
<p>0</p>
<p>c8</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_dcache_mvr</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_debug_count_stop</p>
<p>8</p>
<p>c13</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cp15_tlb_lock_index</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_tlb_lock_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_tlb_lock_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_tlb_lock_attrib</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><b>Register Names For ARM11MP</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_id</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cache_type</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>402</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_tlb_type</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cpu_id</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_pfr1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>control</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_control</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp_access</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbr0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbr1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dactl</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_far</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_wfar</p>
<p>1</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_all</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_mva</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_index</p>
<p>2</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_inval_all</p>
<p>0</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_inval_mva</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>403</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For ARM11MP</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_dcache_inval_index</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_l1cache_inval_all</p>
<p>0</p>
<p>c7</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_all</p>
<p>0</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_mva</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_index</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_all</p>
<p>0</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_mva</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_index</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_lock</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_lock</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_primary_region_remap</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_normal_region_remap</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_pid</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_contextid</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_rw_threadid</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_ro_threadid</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_priv_threadid</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_ctrl</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cycle_count</p>
<p>1</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count0</p>
<p>2</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count1</p>
<p>3</p>
<p>c12</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cp15_read_maintlb_entry</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_write_maintlb_entry</p>
<p>4</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_attrib</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_tlb_debug_ctrl</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>7</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>404</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Register Names For PJ4v6</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_id</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cachetype</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_type</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_proc_feat0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_proc_feat1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_debug_feat0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_feat0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_mm_feat3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>cp15_inst_set_feat5</p>
<p>5</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>control</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_aux_control</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp_access</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_secure_config</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_secure_debug_enable</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_nonsecure_access_ctl</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ttbase_ctrl</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dactl</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p><i>405</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For PJ4v6</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_far</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_wfar</p>
<p>1</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_all</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_mva</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_inval_way</p>
<p>2</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_inval_all</p>
<p>0</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_inval_mva</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_inval_way</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_l1cache_inval_all</p>
<p>0</p>
<p>c7</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_all</p>
<p>0</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_mva</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_way</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_mva</p>
<p>1</p>
<p>c13</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_index</p>
<p>2</p>
<p>c13</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_dcache_clean_inval_all</p>
<p>0</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15_l2_inval_all</p>
<p>0</p>
<p>c7</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_inval_mva</p>
<p>1</p>
<p>c7</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_inval_way</p>
<p>2</p>
<p>c7</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_inval_pa</p>
<p>3</p>
<p>c7</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_all</p>
<p>0</p>
<p>c11</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_mva</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_way</p>
<p>2</p>
<p>c11</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_pa</p>
<p>3</p>
<p>c11</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_inval_mva</p>
<p>1</p>
<p>c15</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_inval_index</p>
<p>2</p>
<p>c15</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_clean_inval_pa</p>
<p>3</p>
<p>c15</p>
<p>c7</p>
<p>1</p>
<p>cp15</p>
<p>cp15_dcache_lock</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_icache_lock</p>
<p>1</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_ctrl</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>406</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_count_enable_set</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_count_enable_clear</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_overflow_flag</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_software_incr</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfctr_selection</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_cycle_count</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_event_selection</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_perfmon_counter</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_enable</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_int_enable_set</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_int_enable_clear</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>cp15_tlb_lock</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_primary_region_remap</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_normal_memory_remap</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>cp15_interrupt_status</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>cp15_pid</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_contextid</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_rw_threadid</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_user_ro_threadid</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_privileged_rw_threadid</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>cp15_control_config</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_aux_debug_modes</p>
<p>1</p>
<p>c1</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_aux_func_modes</p>
<p>0</p>
<p>c2</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_err_counter</p>
<p>6</p>
<p>c9</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_err_threshold</p>
<p>7</p>
<p>c9</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_way_lockdown</p>
<p>7</p>
<p>c10</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_l2_err_capture</p>
<p>7</p>
<p>c11</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_cpu_id_code_ext</p>
<p>0</p>
<p>c12</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cp15_read_maintlb_entry</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><i>407</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For PJ4v6</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cp15_maintlb_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>cp15_maintlb_attrib</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><b>Register Names For PJ4v7</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tlbtr</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar5</p>
<p>5</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar6</p>
<p>6</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar7</p>
<p>7</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>408</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>scr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>sder</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>nsacr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>ttbr0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbr1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>dacr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>par</p>
<p>0</p>
<p>c4</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwur</p>
<p>2</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwuw</p>
<p>3</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powpr</p>
<p>4</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powpw</p>
<p>5</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powur</p>
<p>6</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powuw</p>
<p>7</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>itlbiall</p>
<p>0</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>itlbimva</p>
<p>1</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>itlbiasid</p>
<p>2</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dtlbiall</p>
<p>0</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p><i>409</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For PJ4v7</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>dtlbimva</p>
<p>1</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dtlbiasid</p>
<p>2</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dcache_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>icache_lockdown</p>
<p>1</p>
<p>c0</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>l2_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>l2_aux_control</p>
<p>2</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>tlb_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>d_tlb_preload</p>
<p>0</p>
<p>c1</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>i_tlb_preload</p>
<p>1</p>
<p>c1</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>prrr</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>nmrr</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>isr</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>fcseidr</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tlb_lockdown_index</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>tlb_lockdown_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>410</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>tlb_lockdown_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>tlb_lockdown_attr</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><b>Register Names For Cortex-R4</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teecr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>6</p>
<p>cp14</p>
<p>teehbr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>6</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpuir</p>
<p>4</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar5</p>
<p>5</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p><i>411</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-R4</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>drbar</p>
<p>0</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>irbar</p>
<p>1</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>drsr</p>
<p>2</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>irsr</p>
<p>3</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>dracr</p>
<p>4</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>iracr</p>
<p>5</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>rgnr</p>
<p>0</p>
<p>c2</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>412</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dtcm_region</p>
<p>0</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>itcm_region</p>
<p>1</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid0</p>
<p>6</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid1</p>
<p>7</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p><b>Register Names For Cortex-R5</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>jidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>7</p>
<p>cp14</p>
<p>joscr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>7</p>
<p>cp14</p>
<p>jmcr</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>7</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p><i>413</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-R5</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpuir</p>
<p>4</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mffr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>414</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>drbar</p>
<p>0</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>drsr</p>
<p>2</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>dracr</p>
<p>4</p>
<p>c1</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>rgnr</p>
<p>0</p>
<p>c2</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>icialluis</p>
<p>0</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiallis</p>
<p>6</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>btcmrr</p>
<p>0</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>atcmrr</p>
<p>1</p>
<p>c1</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>tcmsr</p>
<p>0</p>
<p>c2</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p><i>415</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-R5</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>slave_port_control</p>
<p>0</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>secondary_auxiliary_control</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>normal_axi_peripheral_interface_region</p>
<p>1</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>virtual_axi_peripheral_interface_region</p>
<p>2</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>ahb_peripheral_interface_region</p>
<p>3</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_irq_enable_set</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_fiq_enable_set</p>
<p>1</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_reset_enable_set</p>
<p>2</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_debug_request_enable_set</p>
<p>3</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_irq_enable_clear</p>
<p>4</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_fiq_enable_clear</p>
<p>5</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_reset_enable_clear</p>
<p>6</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>nval_debug_request_enable_clear</p>
<p>7</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>build_options_1</p>
<p>0</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>build_options_2</p>
<p>1</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>pin_options</p>
<p>7</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>correctable_fault_location</p>
<p>0</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>invalidate_all_data_cache</p>
<p>0</p>
<p>c5</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>cache_size_override</p>
<p>0</p>
<p>c14</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>416</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Register Names For Cortex-A5</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teecr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>6</p>
<p>cp14</p>
<p>teehbr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>6</p>
<p>cp14</p>
<p>jidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>7</p>
<p>cp14</p>
<p>joscr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>7</p>
<p>cp14</p>
<p>jmcr</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>7</p>
<p>cp14</p>
<p>jpr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>7</p>
<p>cp14</p>
<p>jcottr</p>
<p>0</p>
<p>c0</p>
<p>c4</p>
<p>7</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tlbtr</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p><i>417</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A5</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>scr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>sder</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>nsacr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_vcr</p>
<p>3</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>ttbr0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbr1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>dacr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>icialluis</p>
<p>0</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiallis</p>
<p>6</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>par</p>
<p>0</p>
<p>c4</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cpr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cpw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>418</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>ats1cur</p>
<p>2</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cuw</p>
<p>3</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsopr</p>
<p>4</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsopw</p>
<p>5</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsour</p>
<p>6</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsouw</p>
<p>7</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>tlbiallis</p>
<p>0</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvais</p>
<p>1</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasidis</p>
<p>2</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaais</p>
<p>3</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiall</p>
<p>0</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimva</p>
<p>1</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasid</p>
<p>2</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaa</p>
<p>3</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid0</p>
<p>6</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid1</p>
<p>7</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p><i>419</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A5</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>prrr</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>nmrr</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>vbar</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>mvbar</p>
<p>1</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>isr</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>vir</p>
<p>1</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>fcseidr</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>data_register_0</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>data_register_1</p>
<p>1</p>
<p>c0</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>data_cache_tag_read_operation_register</p>
<p>0</p>
<p>c2</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>instruction_cache_tag_read_operation_register</p>
<p>1</p>
<p>c2</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>data_cache_data_read_operation_register</p>
<p>0</p>
<p>c4</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>instruction_cache_data_read_operation_register</p>
<p>1</p>
<p>c4</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>tlb_data_read_operation_register</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>3</p>
<p>cp15</p>
<p>cbar</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>4</p>
<p>cp15</p>
<p>tlbhr</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><b>Register Names For Cortex-A8</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teecr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>6</p>
<p>cp14</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>420</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teehbr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>6</p>
<p>cp14</p>
<p>jidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>7</p>
<p>cp14</p>
<p>joscr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>7</p>
<p>cp14</p>
<p>jmcr</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>7</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tlbtr</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar5</p>
<p>5</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar6</p>
<p>6</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar7</p>
<p>7</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p><i>421</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A8</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>scr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>sder</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>nsacr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>ttbr0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbr1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>vtcr</p>
<p>2</p>
<p>c1</p>
<p>c2</p>
<p>4</p>
<p>cp15</p>
<p>dacr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>par</p>
<p>0</p>
<p>c4</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwur</p>
<p>2</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwuw</p>
<p>3</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powpr</p>
<p>4</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>422</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>v2powpw</p>
<p>5</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powur</p>
<p>6</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powuw</p>
<p>7</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>itlbiall</p>
<p>0</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>itlbimva</p>
<p>1</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>itlbiasid</p>
<p>2</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dtlbiall</p>
<p>0</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dtlbimva</p>
<p>1</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>dtlbiasid</p>
<p>2</p>
<p>c6</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiall</p>
<p>0</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimva</p>
<p>1</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasid</p>
<p>2</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaa</p>
<p>3</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid0</p>
<p>6</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmceid1</p>
<p>7</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p><i>423</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A8</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsset</p>
<p>3</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>l2_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>l2_aux_control</p>
<p>2</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>tlb_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>tlb_i_lockdown</p>
<p>1</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>d_tlb_preload</p>
<p>0</p>
<p>c1</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>i_tlb_preload</p>
<p>1</p>
<p>c1</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>prrr</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>nmrr</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>ple_st_present</p>
<p>0</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_st_running</p>
<p>2</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_st_interrupting</p>
<p>3</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_user_access</p>
<p>0</p>
<p>c1</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_ch_number</p>
<p>0</p>
<p>c2</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_enable_stop</p>
<p>0</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_enable_start</p>
<p>1</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_enable_clear</p>
<p>2</p>
<p>c3</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_control</p>
<p>0</p>
<p>c4</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_istart</p>
<p>0</p>
<p>c5</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_iend</p>
<p>0</p>
<p>c7</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_status</p>
<p>0</p>
<p>c8</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>ple_contextid</p>
<p>0</p>
<p>c15</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>vbar</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>mvbar</p>
<p>1</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>isr</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>fcseidr</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>424</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>l1_data0</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l1_data1</p>
<p>1</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_cam_write</p>
<p>2</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tlb_attr_write</p>
<p>3</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tlb_pa_write</p>
<p>4</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_hvab_write</p>
<p>5</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tag_write</p>
<p>6</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_data_write</p>
<p>7</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l1_inst0</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l1_inst1</p>
<p>1</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_cam_write</p>
<p>2</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_tlb_attr_write</p>
<p>3</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_tlb_pa_write</p>
<p>4</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_hvab_write</p>
<p>5</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_tag_write</p>
<p>6</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_data_write</p>
<p>7</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_cam_read</p>
<p>2</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tlb_attr_read</p>
<p>3</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tlb_pa_read</p>
<p>4</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_hvab_read</p>
<p>5</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_tag_read</p>
<p>6</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>d_l1_data_read</p>
<p>7</p>
<p>c2</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_cam_read</p>
<p>2</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_tlb_attr_read</p>
<p>3</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_tlb_pa_read</p>
<p>4</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_hvab_read</p>
<p>5</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p><i>425</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A8</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>i_l1_tag_read</p>
<p>6</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_data_read</p>
<p>7</p>
<p>c3</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_ghb_write</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_btb_write</p>
<p>3</p>
<p>c5</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_ghb_read</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>i_l1_btb_read</p>
<p>3</p>
<p>c7</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_data0</p>
<p>0</p>
<p>c8</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_data1</p>
<p>1</p>
<p>c8</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_tag_write</p>
<p>2</p>
<p>c8</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_parity_ecc_write</p>
<p>4</p>
<p>c8</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_data2</p>
<p>5</p>
<p>c8</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_tag_read</p>
<p>2</p>
<p>c9</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2_parity_ecc_read</p>
<p>4</p>
<p>c9</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p><b>Register Names For Cortex-A9</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teecr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>6</p>
<p>cp14</p>
<p>teehbr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>6</p>
<p>cp14</p>
<p>jidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>7</p>
<p>cp14</p>
<p>joscr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>7</p>
<p>cp14</p>
<p>jmcr</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>7</p>
<p>cp14</p>
<p>jpr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>7</p>
<p>cp14</p>
<p>jcotr</p>
<p>0</p>
<p>c0</p>
<p>c4</p>
<p>7</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tlbtr</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>426</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr1</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>scr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>sder</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>nsacr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cp15_vcr</p>
<p>3</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>ttbr0</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbr1</p>
<p>1</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>dacr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p><i>427</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A9</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>nop</p>
<p>4</p>
<p>c0</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icialluis</p>
<p>0</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiallis</p>
<p>6</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>par</p>
<p>0</p>
<p>c4</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwpw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwur</p>
<p>2</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2pcwuw</p>
<p>3</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powpr</p>
<p>4</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powpw</p>
<p>5</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powur</p>
<p>6</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>v2powuw</p>
<p>7</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>428</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>tlbiallis</p>
<p>0</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvais</p>
<p>1</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasidis</p>
<p>2</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaais</p>
<p>3</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiall</p>
<p>0</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimva</p>
<p>1</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasid</p>
<p>2</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaa</p>
<p>3</p>
<p>c5</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>tlb_lockdown</p>
<p>0</p>
<p>c0</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>prrr</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>nmrr</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>pleidr</p>
<p>0</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>pleasr</p>
<p>2</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>plefsr</p>
<p>4</p>
<p>c0</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>pleuar</p>
<p>0</p>
<p>c1</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>plepcr</p>
<p>1</p>
<p>c1</p>
<p>c11</p>
<p>0</p>
<p>cp15</p>
<p>vbar</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>mvbar</p>
<p>1</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p><i>429</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A9</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>isr</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>vir</p>
<p>1</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>fcseidr</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>power_control</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>neon_busy</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>config_base_addr</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>4</p>
<p>cp15</p>
<p>read_main_tlb_entry</p>
<p>2</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>write_main_tlb_entry</p>
<p>4</p>
<p>c4</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>main_tlb_va</p>
<p>2</p>
<p>c5</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>main_tlb_pa</p>
<p>2</p>
<p>c6</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p>main_tlb_attr</p>
<p>2</p>
<p>c7</p>
<p>c15</p>
<p>5</p>
<p>cp15</p>
<p><b>Register Names For Cortex-A15</b></p>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>teecr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>6</p>
<p>cp14</p>
<p>teehbr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>6</p>
<p>cp14</p>
<p>jidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>7</p>
<p>cp14</p>
<p>joscr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>7</p>
<p>cp14</p>
<p>jmcr</p>
<p>0</p>
<p>c0</p>
<p>c2</p>
<p>7</p>
<p>cp14</p>
<p>midr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ctr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tcmtr</p>
<p>2</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>tlbtr</p>
<p>3</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>mpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>revidr</p>
<p>6</p>
<p>c0</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>430</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>id_pfr0</p>
<p>0</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_pfr0</p>
<p>1</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_dfr0</p>
<p>2</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_afr0</p>
<p>3</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr0</p>
<p>4</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr1</p>
<p>5</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr2</p>
<p>6</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_mmfr3</p>
<p>7</p>
<p>c1</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar0</p>
<p>0</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar1</p>
<p>1</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar2</p>
<p>2</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar3</p>
<p>3</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>id_isar4</p>
<p>4</p>
<p>c2</p>
<p>c0</p>
<p>0</p>
<p>cp15</p>
<p>ccsidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>clidr</p>
<p>1</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>aidr</p>
<p>7</p>
<p>c0</p>
<p>c0</p>
<p>1</p>
<p>cp15</p>
<p>csselr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>2</p>
<p>cp15</p>
<p>vpidr</p>
<p>0</p>
<p>c0</p>
<p>c0</p>
<p>4</p>
<p>cp15</p>
<p>vmpidr</p>
<p>5</p>
<p>c0</p>
<p>c0</p>
<p>4</p>
<p>cp15</p>
<p>sctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>actlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>cpacr</p>
<p>2</p>
<p>c0</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>scr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>sder</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>nsacr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>0</p>
<p>cp15</p>
<p>hsctlr</p>
<p>0</p>
<p>c0</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>hactlr</p>
<p>1</p>
<p>c0</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>hcr</p>
<p>0</p>
<p>c1</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>hdcr</p>
<p>1</p>
<p>c1</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>hcptr</p>
<p>2</p>
<p>c1</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p><i>431</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A15</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>hstr</p>
<p>3</p>
<p>c1</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>hacr</p>
<p>7</p>
<p>c1</p>
<p>c1</p>
<p>4</p>
<p>cp15</p>
<p>ttbcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>0</p>
<p>cp15</p>
<p>htcr</p>
<p>2</p>
<p>c0</p>
<p>c2</p>
<p>4</p>
<p>cp15</p>
<p>vtcr</p>
<p>2</p>
<p>c1</p>
<p>c2</p>
<p>4</p>
<p>cp15</p>
<p>dacr</p>
<p>0</p>
<p>c0</p>
<p>c3</p>
<p>0</p>
<p>cp15</p>
<p>dfsr</p>
<p>0</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>ifsr</p>
<p>1</p>
<p>c0</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>adfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>aifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>0</p>
<p>cp15</p>
<p>hadfsr</p>
<p>0</p>
<p>c1</p>
<p>c5</p>
<p>4</p>
<p>cp15</p>
<p>haifsr</p>
<p>1</p>
<p>c1</p>
<p>c5</p>
<p>4</p>
<p>cp15</p>
<p>hsr</p>
<p>0</p>
<p>c2</p>
<p>c5</p>
<p>4</p>
<p>cp15</p>
<p>dfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>ifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>0</p>
<p>cp15</p>
<p>hdfar</p>
<p>0</p>
<p>c0</p>
<p>c6</p>
<p>4</p>
<p>cp15</p>
<p>hifar</p>
<p>2</p>
<p>c0</p>
<p>c6</p>
<p>4</p>
<p>cp15</p>
<p>hpfar</p>
<p>4</p>
<p>c0</p>
<p>c6</p>
<p>4</p>
<p>cp15</p>
<p>icialluis</p>
<p>0</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiallis</p>
<p>6</p>
<p>c1</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>iciallu</p>
<p>0</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>icimvau</p>
<p>1</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15isb</p>
<p>4</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpiall</p>
<p>6</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>bpimva</p>
<p>7</p>
<p>c5</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcimvac</p>
<p>1</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dcisw</p>
<p>2</p>
<p>c6</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cpr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cpw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1cur</p>
<p>2</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>432</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>ats1cuw</p>
<p>3</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsopr</p>
<p>4</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsopw</p>
<p>5</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsour</p>
<p>6</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats12nsouw</p>
<p>7</p>
<p>c8</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvac</p>
<p>1</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccsw</p>
<p>2</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dsb</p>
<p>4</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>cp15dmb</p>
<p>5</p>
<p>c10</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccmvau</p>
<p>1</p>
<p>c11</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccimvac</p>
<p>1</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>dccisw</p>
<p>2</p>
<p>c14</p>
<p>c7</p>
<p>0</p>
<p>cp15</p>
<p>ats1hr</p>
<p>0</p>
<p>c8</p>
<p>c7</p>
<p>4</p>
<p>cp15</p>
<p>ats1hw</p>
<p>1</p>
<p>c8</p>
<p>c7</p>
<p>4</p>
<p>cp15</p>
<p>tlbiallis</p>
<p>0</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvais</p>
<p>1</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasidis</p>
<p>2</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaais</p>
<p>3</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiallnsnhis</p>
<p>4</p>
<p>c3</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiallh</p>
<p>0</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvah</p>
<p>1</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiasid</p>
<p>2</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbimvaa</p>
<p>3</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>tlbiallnsnh</p>
<p>4</p>
<p>c7</p>
<p>c8</p>
<p>0</p>
<p>cp15</p>
<p>pmcr</p>
<p>0</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenset</p>
<p>1</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmcntenclr</p>
<p>2</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsr</p>
<p>3</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmswinc</p>
<p>4</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmselr</p>
<p>5</p>
<p>c12</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p><i>433</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A15</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>pmccntr</p>
<p>0</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevtyper</p>
<p>1</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmxevcntr</p>
<p>2</p>
<p>c13</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmuserenr</p>
<p>0</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenset</p>
<p>1</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmintenclr</p>
<p>2</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>pmovsset</p>
<p>3</p>
<p>c14</p>
<p>c9</p>
<p>0</p>
<p>cp15</p>
<p>l2ctlr</p>
<p>2</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>l2ectlr</p>
<p>3</p>
<p>c0</p>
<p>c9</p>
<p>1</p>
<p>cp15</p>
<p>prrr</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>nmrr</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>amair0</p>
<p>0</p>
<p>c3</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>amair1</p>
<p>1</p>
<p>c3</p>
<p>c10</p>
<p>0</p>
<p>cp15</p>
<p>hmair0</p>
<p>0</p>
<p>c2</p>
<p>c10</p>
<p>4</p>
<p>cp15</p>
<p>hmair1</p>
<p>1</p>
<p>c2</p>
<p>c10</p>
<p>4</p>
<p>cp15</p>
<p>hamair0</p>
<p>0</p>
<p>c3</p>
<p>c10</p>
<p>4</p>
<p>cp15</p>
<p>hamair1</p>
<p>1</p>
<p>c3</p>
<p>c10</p>
<p>4</p>
<p>cp15</p>
<p>vbar</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>mvbar</p>
<p>1</p>
<p>c0</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>isr</p>
<p>0</p>
<p>c1</p>
<p>c12</p>
<p>0</p>
<p>cp15</p>
<p>hvbar</p>
<p>0</p>
<p>c0</p>
<p>c12</p>
<p>4</p>
<p>cp15</p>
<p>fcseidr</p>
<p>0</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>contextidr</p>
<p>1</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrurw</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidruro</p>
<p>3</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>tpidrprw</p>
<p>4</p>
<p>c0</p>
<p>c13</p>
<p>0</p>
<p>cp15</p>
<p>htpidr</p>
<p>2</p>
<p>c0</p>
<p>c13</p>
<p>4</p>
<p>cp15</p>
<p>cntfrq</p>
<p>0</p>
<p>c0</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p>cntkctl</p>
<p>0</p>
<p>c1</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p>cntp_tval</p>
<p>0</p>
<p>c2</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>434</i></p>
<p><i>Appendix G. ARM Register Names</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Name</b></p>
<p><b>OP2</b></p>
<p><b>CRm</b></p>
<p><b>CRn</b></p>
<p><b>OP1</b></p>
<p><b>CP</b></p>
<p>cntp_ctl</p>
<p>1</p>
<p>c2</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p>cntv_tval</p>
<p>0</p>
<p>c3</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p>cntv_ctl</p>
<p>1</p>
<p>c3</p>
<p>c14</p>
<p>0</p>
<p>cp15</p>
<p>cnthctl</p>
<p>0</p>
<p>c1</p>
<p>c14</p>
<p>4</p>
<p>cp15</p>
<p>cnthp_tval</p>
<p>0</p>
<p>c2</p>
<p>c14</p>
<p>4</p>
<p>cp15</p>
<p>cnthp_ctl</p>
<p>1</p>
<p>c2</p>
<p>c14</p>
<p>4</p>
<p>cp15</p>
<p>il1data0</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>il1data1</p>
<p>1</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>il1data2</p>
<p>2</p>
<p>c0</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>dl1data0</p>
<p>0</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>dl1data1</p>
<p>1</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>dl1data2</p>
<p>2</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>dl1data3</p>
<p>3</p>
<p>c1</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>ramindex</p>
<p>0</p>
<p>c4</p>
<p>c15</p>
<p>0</p>
<p>cp15</p>
<p>l2actlr</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>l2pfr</p>
<p>3</p>
<p>c0</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>actlr2</p>
<p>4</p>
<p>c0</p>
<p>c15</p>
<p>1</p>
<p>cp15</p>
<p>cbar</p>
<p>0</p>
<p>c0</p>
<p>c15</p>
<p>4</p>
<p>cp15</p>
<p><i>435</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Register Names For Cortex-A15</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix H</b></p>
<p><b>Third-Party Licensing and</b></p>
<p><b>Copyright Information</b></p>
<p><b>Contents</b></p>
<p>MD5 Message-Digest Algorithm License Agreement . . . . . . . . . . . . . . . . . . .</p>
<p>438</p>
<p>Third-Party DES Copyright Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>438</p>
<h1 style="page-break-before:always; "></h1>
<p>This appendix contains licensing and copyright information for third-party software</p>
<p>used by the Green Hills Probe.</p>
<p><b>MD5 Message-Digest Algorithm License Agreement</b></p>
<p>Copyright (C) 1990, RSA Data Security, Inc. All rights reserved. License to copy</p>
<p>and use this software is granted provided that it is identified as the “RSA Data</p>
<p>Security, Inc. MD5 Message-Digest Algorithm” in all material mentioning or</p>
<p>referencing this software or this function. License is also granted to make and use</p>
<p>derivative works provided that such works are identified as “derived from the RSA</p>
<p>Data Security, Inc. MD5 Message-Digest Algorithm” in all material mentioning or</p>
<p>referencing the derived work. RSA Data Security, Inc. makes no representations</p>
<p>concerning either the merchantability of this software or the suitability of this</p>
<p>software for any particular purpose. It is provided “as is” without express or implied</p>
<p>warranty of any kind. These notices must be retained in any copies of any part of</p>
<p>this documentation and/or software.</p>
<p><b>Third-Party DES Copyright Information</b></p>
<p>Copyright (C) 1995-1997 Eric Young (eay@cryptsoft.com)</p>
<p>All rights reserved.</p>
<p>This package is an DES implementation written by Eric Young (eay@cryptsoft.com).</p>
<p>The implementation was written so as to conform with MIT's libdes.</p>
<p>This library is free for commercial and non-commercial use as long as the following</p>
<p>conditions are aheared to. The following conditions apply to all code found in this</p>
<p>distribution.</p>
<p>Copyright remains Eric Young's, and as such any Copyright notices in the code are</p>
<p>not to be removed. If this package is used in a product, Eric Young should be given</p>
<p>attribution as the author of that the SSL library. This can be in the form of a textual</p>
<p>message at program startup or in documentation (online or textual) provided with</p>
<p>the package.</p>
<p>Redistribution and use in source and binary forms, with or without modification,</p>
<p>are permitted provided that the following conditions are met:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>438</i></p>
<p><i>Appendix H. Third-Party Licensing and Copyright Information</i></p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Redistributions of source code must retain the copyright notice, this list of</p>
<p>conditions and the following disclaimer.</p>
<p>2.</p>
<p>Redistributions in binary form must reproduce the above copyright notice, this</p>
<p>list of conditions and the following disclaimer in the documentation and/or</p>
<p>other materials provided with the distribution.</p>
<p>3.</p>
<p>All advertising materials mentioning features or use of this software must</p>
<p>display the following acknowledgement:</p>
<p>This product includes software developed by Eric Young (eay@cryptsoft.com)</p>
<p>THIS SOFTWARE IS PROVIDED BY ERIC YOUNG &quot;AS IS&quot; AND ANY</p>
<p>EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED</p>
<p>TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</p>
<p>FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL</p>
<p>THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,</p>
<p>INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</p>
<p>DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</p>
<p>SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</p>
<p>OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</p>
<p>THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</p>
<p>OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY</p>
<p>WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</p>
<p>POSSIBILITY OF SUCH DAMAGE.</p>
<p>The license and distribution terms for any publically available version or derivative</p>
<p>of this code cannot be changed. i.e. this code cannot simply be copied and put under</p>
<p>another distrubution license [including the GNU Public License.]</p>
<p>The reason behind this being stated in this direct manner is past experience in code</p>
<p>simply being copied and the attribution removed from it and then being distributed</p>
<p>as part of other packages. This implementation was a non-trivial and unpaid effort.</p>
<p><i>439</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Third-Party DES Copyright Information</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Appendix I</b></p>
<p><b>Declaration of Conformity</b></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>Trace Port Analyzer (Serial)</p>
<p>Product Description:</p>
<p>SuperTrace Probe, 520-ST401 (serial numbers</p>
<p>greater than 25500)</p>
<p>Model:</p>
<p>Is in conformity with the EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 61326-1:2006</p>
<p>•</p>
<p>FCC Title 47, Part 15, Subpart B, per CISPR 22: 1997 Class A Limits (Test</p>
<p>procedure ANSI C63.4: 2003)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>December 7, 2012 - December 14, 2012</p>
<p>Date:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>442</i></p>
<p><i>Appendix I. Declaration of Conformity</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>Trace Port Analyzer (Parallel)</p>
<p>Product Description:</p>
<p>SuperTrace Probe, 520-ST400 (serial numbers</p>
<p>greater than 25500)</p>
<p>Model:</p>
<p>Is in conformity with the EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 61326-1:2006</p>
<p>•</p>
<p>FCC Title 47, Part 15, Subpart B, per CISPR 22: 1997 Class A Limits (Test</p>
<p>procedure ANSI C63.4: 2003)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>August 4, 2010 - August 17, 2010</p>
<p>Date:</p>
<p><i>443</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>Debug Emulator</p>
<p>Product Description:</p>
<p>Green Hills Probe (serial numbers greater than</p>
<p>10000)</p>
<p>Model:</p>
<p>Is in conformity with the EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 61326: 2002, which references the following</p>
<p>specifications:</p>
<p>○</p>
<p>CISPR 11: 1990</p>
<p>○</p>
<p>EN 55011: 1991</p>
<p>○</p>
<p>EN 61000-3-2+A14: 2000</p>
<p>○</p>
<p>EN61000-3-3: 1994</p>
<p>○</p>
<p>EN 61000-4-2: 1995+A1: 1998</p>
<p>○</p>
<p>EN 61000-4-3: 1996+A1: 1998</p>
<p>○</p>
<p>EN 61000-4-4: 1995</p>
<p>○</p>
<p>EN 61000-4-5: 1995</p>
<p>○</p>
<p>EN 61000-4-6: 1996</p>
<p>○</p>
<p>EN 61000-4-11: 1994</p>
<p>•</p>
<p>FCC Title 47, Part 15, Subpart B, per CISPR 22: 1997 Class A Limits (Test</p>
<p>procedure ANSI C63.4: 2003)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>March 16, 2006 and March 17, 2006</p>
<p>Date:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>444</i></p>
<p><i>Appendix I. Declaration of Conformity</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>JTAG Probe</p>
<p>Product Description:</p>
<p>SuperTrace Probe</p>
<p>Model:</p>
<p>Is in conformity with the EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 61326: 1997 +A1: 1998, which references the following</p>
<p>specifications:</p>
<p>○</p>
<p>EN 55011: 1991</p>
<p>○</p>
<p>EN 61000-3-2: 1995</p>
<p>○</p>
<p>EN 61000-3-2 +A12: 1996</p>
<p>○</p>
<p>EN 61000-4-2: 1995</p>
<p>○</p>
<p>EN 61000-4-3: 1996</p>
<p>○</p>
<p>EN 61000-4-4: 1995</p>
<p>○</p>
<p>EN 61000-4-5: 1995</p>
<p>○</p>
<p>EN 61000-4-6: 1996</p>
<p>○</p>
<p>EN 61000-4-11: 1994</p>
<p>•</p>
<p>European Standards EN 61000-3-2 +A14: 2000 (Class A)</p>
<p>•</p>
<p>European Standards EN 61000-3-3 +A14: 2000 (Class A)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>September 29, 2003</p>
<p>Date:</p>
<p><i>445</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>Debug Emulator</p>
<p>Product Description:</p>
<p>Green Hills Probe (serial numbers greater than</p>
<p>1799)</p>
<p>Model:</p>
<p>Is in conformity with the Class B EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 61326: 1997 +A1: 1998, which references the following</p>
<p>specifications:</p>
<p>○</p>
<p>EN 61000-4-2: 1995</p>
<p>○</p>
<p>EN 61000-4-3: 1995</p>
<p>○</p>
<p>EN 61000-4-4: 1995</p>
<p>○</p>
<p>EN 61000-4-5: 1995</p>
<p>○</p>
<p>EN 61000-4-6: 1996</p>
<p>○</p>
<p>EN 61000-4-11: 1994</p>
<p>•</p>
<p>European Standards EN 61000-3-3: 1995</p>
<p>•</p>
<p>European Standards EN 61000-3-2: 2000</p>
<p>•</p>
<p>FCC Title 47, Part 15, Subpart B, per CISPR 22: 1997 Limits (Test procedure</p>
<p>ANSI C63.4: 1992)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>September 3, 2002 and September 13, 2002</p>
<p>Date:</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>446</i></p>
<p><i>Appendix I. Declaration of Conformity</i></p>
<h1 style="page-break-before:always; "></h1>
<p><b>Declaration of Conformity</b></p>
<p>Green Hills Software</p>
<p>30 West Sola Street</p>
<p>Santa Barbara, CA 93101 USA</p>
<p>Manufacturer:</p>
<p>Declares that the following product:</p>
<p>Debug Emulator</p>
<p>Product Description:</p>
<p>Green Hills Probe (serial numbers less than 1700)</p>
<p>Model:</p>
<p>Is in conformity with the Class B EMC and EMI requirements set forth in:</p>
<p>•</p>
<p>European Standards EN 55022: 1998</p>
<p>•</p>
<p>European Standards EN 61000-3-2: 1995</p>
<p>•</p>
<p>European Standards EN 61000-3-3: 1995</p>
<p>•</p>
<p>European Standards EN 55024: 1998, which references the following</p>
<p>specifications:</p>
<p>○</p>
<p>EN 61000-4-2: 1995</p>
<p>○</p>
<p>EN 61000-4-3: 1995</p>
<p>○</p>
<p>EN 61000-4-4: 1995</p>
<p>○</p>
<p>EN 61000-4-5: 1995</p>
<p>○</p>
<p>EN 61000-4-6: 1996</p>
<p>○</p>
<p>EN 61000-4-8: 1993</p>
<p>○</p>
<p>EN 61000-4-11: 1994</p>
<p>•</p>
<p>FCC Title 47, Part 15, Subpart B, per CISPR 22: 1997 Limits (Test procedure</p>
<p>ANSI C63.4: 1992)</p>
<p>This product was tested in a typical configuration.</p>
<p>Additional Information:</p>
<p>May 14, 2001 and July 2, 2001</p>
<p>Date:</p>
<p><i>447</i></p>
<p><i>Green Hills Software</i></p>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; "></h1>
<p><b>Index</b></p>
<p><b>Symbols</b></p>
<p>32_bit_bus configuration option, 124</p>
<p><b>A</b></p>
<p>abort_check configuration option, 94</p>
<p>access_mode configuration option, 119</p>
<p>adapter configuration option, 67, 74</p>
<p>adapter kits</p>
<p>legacy, 75, 385</p>
<p>TraceEverywhere, 67, 68, 70, 74, 75, 88, 91, 366, 385</p>
<p>adapter, CPU (see target adapter)</p>
<p>addhook command</p>
<p>for MULTI Debugger, 29</p>
<p>addkey command, 207</p>
<p>address configuration option, 94</p>
<p>address suffixes, 190</p>
<p>addressof command</p>
<p>for legacy debug scripts, 219</p>
<p>agent configuration option, 92, 119, 125</p>
<p>ahb_index configuration option, 94</p>
<p>alias command, 187</p>
<p>always_inval_icache configuration option, 125</p>
<p>amask command</p>
<p>for legacy debug scripts, 219</p>
<p>Analog Devices DSP, 239</p>
<p>ap_index configuration option, 95</p>
<p>apb_index configuration option, 95</p>
<p>ARM</p>
<p>special registers, 210</p>
<p>ARM CoreSight 10-pin adapter, 247</p>
<p>ARM CoreSight 20-pin adapter, 245</p>
<p>ARM ETM trace options, 163</p>
<p>ARM legacy 14-pin connector, 241</p>
<p>ARM legacy 20-pin connector, 243</p>
<p>ARM PTM trace options, 163</p>
<p>arm720_r4_cp_access configuration option, 95</p>
<p>arrays</p>
<p>for legacy debug scripts, 230</p>
<p>assignments</p>
<p>in legacy debug scripts, 229</p>
<p>associated_core configuration option, 95</p>
<p>-attach option, 49</p>
<p>Aurora (see high-speed serial trace)</p>
<p>auto_clock configuration option, 115</p>
<p>auto_clock_max configuration option, 115</p>
<p>auto_clock_min configuration option, 115</p>
<p>auto_clock_ratio configuration option, 115</p>
<p>auto_modify_tlb configuration option, 126</p>
<p>auto_vector_reload configuration option, 159</p>
<p><b>B</b></p>
<p>baud rate</p>
<p>setting, 82</p>
<p>baudrate configuration option, 67, 82</p>
<p>bc command, 202</p>
<p>bca command, 202</p>
<p>BDM Debug Ports, 236</p>
<p>be_mode configuration option, 95</p>
<p>bit tables, 300</p>
<p>bit tags, 300</p>
<p>bitfield types, 216, 217</p>
<p>range types, 217</p>
<p>bl command, 202</p>
<p>bp_in_delay_slots configuration option, 119</p>
<p>breakpoints, hardware, 324, 351</p>
<p>bs command, 203</p>
<p>.bss sections</p>
<p>legacy debug scripts, 221, 222</p>
<p>byte order</p>
<p>setting, 88</p>
<p><b>C</b></p>
<p>c command</p>
<p>for MULTI Debugger, 29</p>
<p>cache</p>
<p>tags, 300</p>
<p>cache commands, 191</p>
<p>cache lines</p>
<p>setting address, 194</p>
<p>setting tag bits, 195</p>
<p>cache sets</p>
<p>reading, 193</p>
<p>searching, 191</p>
<p>cache_model</p>
<p>configuration option, 126</p>
<p>catch_abort configuration option, 96, 160</p>
<p>catch_branch configuration option, 127</p>
<p>catch_buserr configuration option, 96</p>
<p>catch_chkerr configuration option, 96</p>
<h1 style="page-break-before:always; "></h1>
<p>catch_fiq configuration option, 96, 160</p>
<p>catch_harderr configuration option, 96</p>
<p>catch_illegal configuration option, 127</p>
<p>catch_interr configuration option, 96</p>
<p>catch_irq configuration option, 96, 160</p>
<p>catch_mmerr configuration option, 96</p>
<p>catch_nocperr configuration option, 96</p>
<p>catch_por</p>
<p>configuration options, 97, 128</p>
<p>catch_prefetch configuration option, 96, 160</p>
<p>catch_reset configuration option, 96, 160</p>
<p>catch_staterr configuration option, 96</p>
<p>catch_svc configuration option, 96</p>
<p>catch_swi configuration option, 96, 160</p>
<p>catch_undef configuration option, 96, 160</p>
<p>catch_wakeup</p>
<p>configuration option, 128</p>
<p>censor_hi configuration option, 128</p>
<p>censor_lo configuration option, 128</p>
<p>censor_unlock configuration option, 129</p>
<p>-cfgload option, 20</p>
<p>-reset option, 20</p>
<p>-setup option, 20</p>
<p>-cfgsave option, 20</p>
<p>check_cache configuration option, 93</p>
<p>check_mem_access configuration option, 129</p>
<p>checked address range</p>
<p>for legacy debug scripts, 219, 223</p>
<p>checker configuration option, 67, 82</p>
<p>checkkey command, 207</p>
<p>clearhooks command</p>
<p>for MULTI Debugger, 29</p>
<p>clf command, 191</p>
<p>clock configuration option, 67, 82</p>
<p>clop command, 192</p>
<p>close command</p>
<p>for legacy debug scripts, 219</p>
<p>clr command, 193</p>
<p>clsa command, 194</p>
<p>clst command, 195</p>
<p>ColdFire, 259</p>
<p>ColdFire trace options, 167</p>
<p>commands</p>
<p>cache, 191</p>
<p>clf, 191</p>
<p>clr, 193</p>
<p>clsa, 194</p>
<p>clst, 195</p>
<p>configuration, 175</p>
<p>conventions, 216</p>
<p>data types, 216</p>
<p>g, 181</p>
<p>ga, 181</p>
<p>gc, 182</p>
<p>gd, 182</p>
<p>gh, 183</p>
<p>gl, 183</p>
<p>Green Hills Debug Probe, 174</p>
<p>group, 181</p>
<p>hpserv</p>
<p>reg, 222</p>
<p>I/O pin, 179</p>
<p>JTAG, 183</p>
<p>legacy debug scripts, 218</p>
<p>addressof, 219</p>
<p>amask, 219</p>
<p>close, 219</p>
<p>debug, 219</p>
<p>delrange, 219</p>
<p>delrangeall, 219</p>
<p>fprint, 219</p>
<p>fprintb, 219</p>
<p>fread, 219</p>
<p>freadb, 220</p>
<p>getenv, 220</p>
<p>help, 220</p>
<p>listrange, 220</p>
<p>listvars, 220</p>
<p>load, 221</p>
<p>m, 221</p>
<p>nofail, 221</p>
<p>noload, 222</p>
<p>open, 222</p>
<p>print, 222</p>
<p>random, 222</p>
<p>regnum, 223</p>
<p>rg, 223</p>
<p>script, 223</p>
<p>setrange, 223</p>
<p>setup, 223, 228</p>
<p>sleep, 223</p>
<p>status, 224</p>
<p>step, 224</p>
<p>undef, 224</p>
<p>memory, 191</p>
<p>mf, 197</p>
<p>MULTI Debugger</p>
<p>addhook, 29</p>
<p>c, 29</p>
<p>clearhooks, 29</p>
<p>eval, 29</p>
<p>halt, 29</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>450</i></p>
<p><i>catch_fiq configuration option</i></p>
<h1 style="page-break-before:always; "></h1>
<p>memread, 29</p>
<p>memwrite, 29</p>
<p>reset, 29</p>
<p>target, 30</p>
<p>wait, 30</p>
<p>new</p>
<p>tl, 205</p>
<p>other, 207</p>
<p>print, 188</p>
<p>regdcr, 198</p>
<p>rr, 199</p>
<p>run control, 202</p>
<p>set, 177</p>
<p>setup, 178</p>
<p>SWD, 183</p>
<p>system, 187</p>
<p>t, 205</p>
<p>target, 190, 205</p>
<p>test, 212</p>
<p>TLB, 191</p>
<p>tlbr, 200</p>
<p>tlbw, 201</p>
<p>tr, 206</p>
<p>tracereg, 178</p>
<p>tset, 179</p>
<p>ve, 213</p>
<p>communication protocol</p>
<p>change, 323</p>
<p>select, 71</p>
<p>conditionals</p>
<p>for legacy debug scripts, 230</p>
<p>configuration commands, 175</p>
<p>configuration file</p>
<p>loading, 20</p>
<p>saving, 20</p>
<p>configuration option</p>
<p>num_dwt, 105</p>
<p>configuration options, 66, 92</p>
<p>32_bit_bus, 124</p>
<p>abort_check, 94</p>
<p>access_mode, 119</p>
<p>adapter, 67, 74</p>
<p>address, 94</p>
<p>agent, 92, 119, 125</p>
<p>ahb_index, 94</p>
<p>always_inval_icache, 125</p>
<p>ap_index, 95</p>
<p>apb_index, 95</p>
<p>arm720_r4_cp_access, 95</p>
<p>associated_core, 95</p>
<p>auto_clock, 115</p>
<p>auto_clock_max, 115</p>
<p>auto_clock_min, 115</p>
<p>auto_clock_ratio, 115</p>
<p>auto_modify_tlb, 126</p>
<p>auto_vector_reload, 159</p>
<p>baudrate, 67, 82</p>
<p>be_mode, 95</p>
<p>bp_in_delay_slots, 119</p>
<p>cache_model, 126</p>
<p>catch_abort, 96, 160</p>
<p>catch_branch, 127</p>
<p>catch_buserr, 96</p>
<p>catch_chkerr, 96</p>
<p>catch_fiq, 96, 160</p>
<p>catch_harderr, 96</p>
<p>catch_illegal, 127</p>
<p>catch_interr, 96</p>
<p>catch_irq, 96, 160</p>
<p>catch_mmerr, 96</p>
<p>catch_nocperr, 96</p>
<p>catch_por, 97, 128</p>
<p>catch_prefetch, 96, 160</p>
<p>catch_reset, 96, 160</p>
<p>catch_staterr, 96</p>
<p>catch_svc, 96</p>
<p>catch_swi, 96, 160</p>
<p>catch_undef, 96, 160</p>
<p>catch_wakeup, 128</p>
<p>censor_hi, 128</p>
<p>censor_lo, 128</p>
<p>censor_unlock, 129</p>
<p>check_cache, 93</p>
<p>check_mem_access, 129</p>
<p>checker, 67, 82</p>
<p>clock, 67, 82</p>
<p>cortex_addr, 97</p>
<p>cti_addr, 97</p>
<p>databp_translate, 130</p>
<p>dbcom_channel, 98</p>
<p>dbcom_handler_addr, 98</p>
<p>dbcom_handler_size, 98</p>
<p>dbgrq_halt, 99</p>
<p>dbscratch_addr, 120</p>
<p>dbscratch_size, 120</p>
<p>dcache_sets, 116</p>
<p>dcache_ways, 116</p>
<p>debug_type, 67, 71</p>
<p>dhcp, 67</p>
<p>dhcp_lease, 68</p>
<p>disable_bp, 130</p>
<p>disable_swbp, 99, 131</p>
<p><i>451</i></p>
<p><i>Green Hills Software</i></p>
<p><i>commands (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>disable_swt, 131</p>
<p>disable_watchdog, 99</p>
<p>early_reset_release, 161</p>
<p>edm, 132</p>
<p>enable_debug, 157</p>
<p>endianness, 68, 88</p>
<p>es2_boot_workaround, 100</p>
<p>etm_addr, 100</p>
<p>etm_arch_version, 100</p>
<p>etm_version, 100</p>
<p>execbp_translate, 133</p>
<p>fast_dl, 101, 114, 116, 120, 133, 154</p>
<p>fill_tlb, 134</p>
<p>flush_data, 120</p>
<p>force_dbgack, 101</p>
<p>fpr_buf, 134</p>
<p>freeze_timers, 134</p>
<p>gateway, 68, 73</p>
<p>halt_settle, 101</p>
<p>handler_base, 101, 117, 161</p>
<p>handler_base_physical, 102</p>
<p>has_etm, 102</p>
<p>has_tpiu, 102</p>
<p>hostname, 68</p>
<p>hsst_rx_lanes, 68, 73</p>
<p>icache_step, 135</p>
<p>idt_step, 121</p>
<p>ignore_csyspwrupack, 102</p>
<p>immr_base, 135, 154</p>
<p>inst_endianness, 103</p>
<p>inval_entire_icache, 135</p>
<p>ip, 68, 70</p>
<p>jrst_pulse, 68, 86</p>
<p>jrst_settle, 68, 87</p>
<p>jtag_drive, 68, 88</p>
<p>l2_cache_address, 103</p>
<p>l2_cache_present, 103</p>
<p>l2cache_size, 136</p>
<p>logic_high, 68, 75</p>
<p>memap_index, 103</p>
<p>memap_type, 104</p>
<p>memory_parity, 136</p>
<p>mmu_support, 137</p>
<p>monitor_mode, 104</p>
<p>netmask, 68, 73</p>
<p>new_946_cache_mgmt, 105</p>
<p>no_boot_rom, 138</p>
<p>omap5_variant, 105</p>
<p>override_mmu, 106, 162</p>
<p>override_mpu, 106, 162</p>
<p>override_rcw, 139</p>
<p>power_detect, 69, 83</p>
<p>preserve_dcache, 139</p>
<p>prm_ignore_disconnect, 69, 83</p>
<p>prm_ignore_reset, 69, 84</p>
<p>ptm_addr, 106</p>
<p>quiesce, 140</p>
<p>rcw_high, 140</p>
<p>rcw_low, 140</p>
<p>read_after_write_mem, 162</p>
<p>reset_clears_pst, 117</p>
<p>reset_detection, 106</p>
<p>reset_erpn, 141</p>
<p>reset_fixup, 107, 141</p>
<p>reset_sequence, 142</p>
<p>reset_type, 142</p>
<p>reset_vector, 143</p>
<p>rm_off_on_panic, 107</p>
<p>rm_use_mem_descriptor, 107</p>
<p>rst_dpll3, 108</p>
<p>rst_handshake_timeout, 121</p>
<p>rst_pulse, 69, 86</p>
<p>rst_settle, 69, 86</p>
<p>rst_type, 108</p>
<p>rsttime1, 108</p>
<p>rtck_use_timeout, 109</p>
<p>running_mem_access, 143</p>
<p>safe_lsrl, 144</p>
<p>scratch_addr, 144, 157</p>
<p>serial_terminal, 69, 84</p>
<p>service_bus_read32, 145</p>
<p>simple_rst_run, 145</p>
<p>simulate_singlestep, 110</p>
<p>single_mpserv_only, 69, 85</p>
<p>skip_smm, 158</p>
<p>slow_memory_read, 146</p>
<p>soft_stop, 146</p>
<p>sram_config_base, 122</p>
<p>sram_config_enable, 122</p>
<p>sram_size, 147</p>
<p>step, 147</p>
<p>step_fixup, 148</p>
<p>step_ints, 93, 109, 114, 122, 148, 156</p>
<p>swbp_type, 149</p>
<p>swcrr_value, 149</p>
<p>swcrr_write_enable, 149</p>
<p>sync_cores, 150</p>
<p>sync_etpu, 150</p>
<p>sypcr_value, 151</p>
<p>sypcr_write_enable, 151</p>
<p>target, 69, 76, 77</p>
<p>target_reset_pin, 69, 87</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>452</i></p>
<p><i>configuration options (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>target_rev, 152</p>
<p>tcm_ahb_base, 110</p>
<p>tcm_cpu_base, 110</p>
<p>tcm_size, 110</p>
<p>timeout, 123</p>
<p>tlb_handler_entry, 153</p>
<p>tlb_handler_failure, 153</p>
<p>tlb_handler_success, 153</p>
<p>tlb_miss_error, 153</p>
<p>toggle_hwbp, 110</p>
<p>tpiu_addr, 111</p>
<p>tpiu_type, 111</p>
<p>trace_clock_delay, 69, 90</p>
<p>trace_clock_phase, 70, 89</p>
<p>trace_clock_source, 70, 88</p>
<p>trace_logic_high, 70, 75</p>
<p>trace_term_enable, 70, 91</p>
<p>use_agent, 123</p>
<p>use_bkpt_inst, 111</p>
<p>use_cache_scratch, 154</p>
<p>use_gtl, 158</p>
<p>use_hw_singlestep, 111</p>
<p>use_max_reset, 112</p>
<p>use_new_memwrite, 162</p>
<p>use_pst, 118</p>
<p>use_rtck, 113</p>
<p>user_button, 70</p>
<p>user_immr, 154</p>
<p>user_string, 70, 85</p>
<p>verify_download, 70</p>
<p>vfp_type, 110</p>
<p>configuration settings</p>
<p>dhcp, 71</p>
<p>configuration utility, interactive</p>
<p>running, 20</p>
<p>connecting to your target, 40</p>
<p>Connection Chooser, 40</p>
<p>Connection Editor</p>
<p>Green Hills Debug Probe (mpserv)</p>
<p>advanced settings, 44</p>
<p>connection settings, 42</p>
<p>debug settings, 46</p>
<p>INTEGRITY settings, 43</p>
<p>Probe Config settings, 43</p>
<p>Connection Methods</p>
<p>Custom, 47</p>
<p>connectors</p>
<p>Green Hills Probe, 237</p>
<p>SuperTrace Probe, 279</p>
<p>conventions</p>
<p>typographical, xii</p>
<p>cortex_addr</p>
<p>configuration options, 97</p>
<p>CPU adapter (see target adapter)</p>
<p>CPU Families, 237</p>
<p>cr command, 204</p>
<p>cti_addr</p>
<p>configuration options, 97</p>
<p>Custom Connection Methods, 47</p>
<p><b>D</b></p>
<p>.data sections</p>
<p>legacy debug scripts, 221, 222</p>
<p>data types</p>
<p>range types, 216</p>
<p>databp_translate configuration option, 130</p>
<p>dbcom_channel</p>
<p>configuration options, 98</p>
<p>dbcom_handler_addr</p>
<p>configuration options, 98</p>
<p>dbcom_handler_size</p>
<p>configuration options, 98</p>
<p>dbgrq_halt configuration option, 99</p>
<p>.dbs scripts (see legacy debug scripts)</p>
<p>dbscratch_addr configuration option, 120</p>
<p>dbscratch_size configuration option, 120</p>
<p>dcache_sets configuration option, 116</p>
<p>dcache_ways configuration option, 116</p>
<p>de command, 175</p>
<p>debug command</p>
<p>for legacy debug scripts, 219</p>
<p>Debug Connectors, 237</p>
<p>debug servers</p>
<p>commands (see commands)</p>
<p>debug_type configuration option, 67, 71</p>
<p>delrange command</p>
<p>for legacy debug scripts, 219</p>
<p>delrangeall command</p>
<p>for legacy debug scripts, 219</p>
<p>detect command, 176</p>
<p>DHCP (see Dynamic Host Configuration Protocol (DHCP))</p>
<p>dhcp configuration option, 67</p>
<p>dhcp_lease configuration option, 68</p>
<p>disable_bp configuration option, 130</p>
<p>disable_swbp configuration option, 99, 131</p>
<p>disable_swt configuration option, 131</p>
<p>disable_watchdog configuration option, 99</p>
<p>document set, xii</p>
<p>download speed</p>
<p>PowerPC, 154, 352</p>
<p>dp command, 207</p>
<p><i>453</i></p>
<p><i>Green Hills Software</i></p>
<p><i>configuration options (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>Dynamic Host Configuration Protocol (DHCP), 71</p>
<p><b>E</b></p>
<p>early MULTI board setup scripts</p>
<p>using debugger hooks, 58</p>
<p>early_reset_release configuration option, 161</p>
<p>echo command</p>
<p>for legacy debug scripts, 219</p>
<p>edm configuration option, 132</p>
<p>Embedded Trace Buffer (see ETB)</p>
<p>enable_debug configuration option, 157</p>
<p>endianness configuration option, 68, 88</p>
<p>EOnCE, 273</p>
<p>error codes, 392</p>
<p>error numbers (see error codes)</p>
<p>es2_boot_workaround configuration option, 100</p>
<p>ETB</p>
<p>enable, 166</p>
<p>specify, 78</p>
<p>trace collection, 368</p>
<p>Ethernet Connections</p>
<p>Dynamic Host Configuration Protocol (DHCP), 71</p>
<p>etm_addr</p>
<p>configuration options, 100</p>
<p>etm_arch_version</p>
<p>configuration options, 100</p>
<p>etm_version</p>
<p>configuration options, 100</p>
<p>eval command</p>
<p>for MULTI Debugger, 29</p>
<p>examples</p>
<p>legacy debug scripts, 232</p>
<p>execbp_translate configuration option, 133</p>
<p>exit command, 187</p>
<p>expressions</p>
<p>legacy debug scripts, 229</p>
<p><b>F</b></p>
<p>fast downloading, 101, 114, 116, 120, 133</p>
<p>fast_dl configuration option, 101, 114, 116, 120, 133, 154</p>
<p>fill_tlb configuration option, 134</p>
<p>firmware</p>
<p>Green Hills Probe</p>
<p>updating, 21</p>
<p>updating, 20</p>
<p>Probe Administrator, using the, 7, 17</p>
<p>firmware file</p>
<p>list, 20</p>
<p>floating-point registers, disabling access, 157</p>
<p>flush_data configuration option, 120</p>
<p>-cfgload, 49</p>
<p>-force_coreid cores, 50</p>
<p>fore_dbgack configuration option, 101</p>
<p>format</p>
<p>flash, 20</p>
<p>fpr_buf configuration option, 134</p>
<p>fprint command</p>
<p>for legacy debug scripts, 219</p>
<p>fprintb command</p>
<p>for legacy debug scripts, 219</p>
<p>fread command</p>
<p>for legacy debug scripts, 219</p>
<p>freadb command</p>
<p>for legacy debug scripts, 220</p>
<p>freeze_timers configuration option, 134</p>
<p>-full_format option, 20</p>
<p><b>G</b></p>
<p>g command, 181</p>
<p>ga command, 181</p>
<p>gateway</p>
<p>setting, 73</p>
<p>gateway configuration option, 68, 73</p>
<p>gc command, 182</p>
<p>gd command, 182</p>
<p>General Purpose IO, 63</p>
<p>getenv command</p>
<p>for legacy debug scripts, 220</p>
<p>gh command, 183</p>
<p>gl command, 183</p>
<p>gpin command, 179</p>
<p>gpincfg command, 179</p>
<p>GPIO (see General Purpose IO)</p>
<p>Green Hills Debug Probe</p>
<p>commands, 174</p>
<p>Connection Editor</p>
<p>advanced settings, 44</p>
<p>connection settings, 42</p>
<p>debug settings, 46</p>
<p>INTEGRITY settings, 43</p>
<p>Probe Config settings, 43</p>
<p>debug server options for, 48</p>
<p>Green Hills Debug Probes, 236</p>
<p>Green Hills Probe</p>
<p>baud rate, setting, 82</p>
<p>byte order, setting, 88</p>
<p>commands, 174</p>
<p>configuration options, 66, 92</p>
<p>Dynamic Host Configuration Protocol (DHCP), 71</p>
<p>features, xv</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>454</i></p>
<p><i>Dynamic Host Configuration Protocol (DHCP)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>gateway, setting, 73</p>
<p>grounding, 322</p>
<p>I/O interface voltage, setting, 75</p>
<p>IP address, setting, 70</p>
<p>JTAG TAP reset pulse, length, setting, 86</p>
<p>JTAG TAP reset settle length, setting, 87</p>
<p>netmask, setting, 73</p>
<p>options, 49</p>
<p>reset pulse length, setting, 86</p>
<p>reset settle length, setting, 86</p>
<p>single mpserv connection, setting, 85</p>
<p>status, 225</p>
<p>status checking, setting, 82</p>
<p>target adapter, 67, 215</p>
<p>setting, 74</p>
<p>target power detection, setting, 83</p>
<p>target, specifying, 76</p>
<p>terminal prompts, 224</p>
<p>troubleshooting, 318</p>
<p>updating firmware, 21</p>
<p>user string, setting, 85</p>
<p>Green Hills Probe connector specifications</p>
<p>Analog Devices DSP, 239</p>
<p>ARM CoreSight 10-pin, 247</p>
<p>ARM CoreSight 20-pin, 245</p>
<p>ARM legacy 14-pin, 241</p>
<p>ARM legacy 20-pin, 243</p>
<p>ColdFire, 259</p>
<p>EOnCE, 273</p>
<p>MIPS EJTAG V2.x, 257</p>
<p>MIPS EJTAGV2.0, 255</p>
<p>PowerPC BDM, 264</p>
<p>PowerPC COP, 266</p>
<p>Renesas H-UDI, 277</p>
<p>Texas Instruments DSP, 275</p>
<p>grounding, 322</p>
<p>group commands, 181</p>
<p>groups</p>
<p>synchronous run-control, 181, 182, 183</p>
<p><b>H</b></p>
<p>halt command</p>
<p>for MULTI Debugger, 29</p>
<p>halt_settle</p>
<p>configuration option, 101</p>
<p>handler_base configuration option, 101, 117, 161</p>
<p>handler_base_physical</p>
<p>configuration options, 102</p>
<p>hardware breakpoints (see breakpoints, hardware)</p>
<p>has_etm configuration option, 102</p>
<p>has_tpiu configuration option, 102</p>
<p>help command, 187</p>
<p>for legacy debug scripts, 220</p>
<p>high-speed serial trace, 28</p>
<p>hostname configuration option, 68</p>
<p>hpserv debug server</p>
<p>registers, reading and writing, 222</p>
<p>HSST (see high-speed serial trace)</p>
<p>hsst_rx_lanes configuration option, 68, 73</p>
<p>humidity, tolerance, 318</p>
<p><b>I</b></p>
<p>I/O interface voltage</p>
<p>setting, 75</p>
<p>I/O pin commands, 179</p>
<p>icache_step configuration option, 135</p>
<p>ICEPick, specifying targets that have, 81</p>
<p>idt_step configuration option, 121</p>
<p>ignore_csyspwrupack configuration option, 102</p>
<p>immr_base configuration option, 135, 154</p>
<p>info command, 188</p>
<p>inst_endianness configuration option, 103</p>
<p>interrupts</p>
<p>disabling sources during target setup, 25</p>
<p>inval_entire_icache configuration option, 135</p>
<p>iop command, 180</p>
<p>IP address</p>
<p>setting, 70</p>
<p>ip configuration option, 68, 70</p>
<p><b>J</b></p>
<p>jd command, 183</p>
<p>ji command, 184</p>
<p>jp command, 185</p>
<p>jr command, 186</p>
<p>jrst_pulse configuration option, 68, 86</p>
<p>jrst_settle configuration option, 68, 87</p>
<p>JTAG clock speed, setting, 82</p>
<p>JTAG commands, 183</p>
<p>JTAG Debug Ports, 236</p>
<p>JTAG TAP</p>
<p>reset pin, interaction with, 87</p>
<p>JTAG TAP reset pulse length</p>
<p>setting, 86</p>
<p>JTAG TAP reset settle length</p>
<p>setting, 87</p>
<p>jtag_drive configuration option, 68, 88</p>
<p><b>L</b></p>
<p>l2_cache_address configuration option, 103</p>
<p><i>455</i></p>
<p><i>Green Hills Software</i></p>
<p><i>Green Hills Probe (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>l2_cache_present configuration option, 103</p>
<p>l2cache_size configuration option, 136</p>
<p>LEDs, status, 2</p>
<p>legacy adapter kit, 75, 385</p>
<p>legacy debug scripts</p>
<p>arrays, 230</p>
<p>assignments, 229</p>
<p>.bss sections, 221, 222</p>
<p>conditionals, 230</p>
<p>.data sections, 221, 222</p>
<p>examples, 232</p>
<p>expressions, 229</p>
<p>loops, 231</p>
<p>registers, reading and writing, 223</p>
<p>running, 228</p>
<p>.text sections, 221, 222</p>
<p>uses for, 228</p>
<p>variables</p>
<p>declaring, 228</p>
<p>expansion, 232</p>
<p>type, 228</p>
<p>writing, 228</p>
<p>linker directives files</p>
<p>editing, 31</p>
<p>-list option, 20</p>
<p>listrange command</p>
<p>for legacy debug scripts, 220</p>
<p>listvars command</p>
<p>for legacy debug scripts, 220</p>
<p>load command</p>
<p>for legacy debug scripts, 221</p>
<p>-log option, 51</p>
<p>logging, 51</p>
<p>logic_high configuration option, 68, 75</p>
<p>loops</p>
<p>for legacy debug scripts, 231</p>
<p><b>M</b></p>
<p>m command</p>
<p>for legacy debug scripts, 221, 232</p>
<p>ma command, 196</p>
<p>mat command, 197</p>
<p>md command, 197</p>
<p>memap_index configuration option, 103</p>
<p>memap_type configuration option, 104</p>
<p>memory commands, 191</p>
<p>memory, target</p>
<p>configuring using a setup script, 26</p>
<p>displaying bytes, 197</p>
<p>filling blocks, 197</p>
<p>testing access through your probe, 33</p>
<p>memory_parity configuration option, 136</p>
<p>memread command</p>
<p>for MULTI Debugger, 29</p>
<p>memwrite command</p>
<p>for MULTI Debugger, 29</p>
<p>mf command, 197</p>
<p>MICTOR connector (SuperTrace Probe), 279</p>
<p>MIPS EJTAG V2.0, 255</p>
<p>MIPS EJTAG V2.x, 257</p>
<p>mmu_support configuration option, 137</p>
<p>monitor_mode configuration option, 104</p>
<p>mpadmin utility</p>
<p>options for, 20</p>
<p>overview, 19</p>
<p>syntax, 19</p>
<p>updating firmware with, 21</p>
<p>mpserv debug server</p>
<p>Connection Editor</p>
<p>advanced settings, 44</p>
<p>connection settings, 42</p>
<p>debug settings, 46</p>
<p>INTEGRITY settings, 43</p>
<p>Probe Config settings, 43</p>
<p>options, 49</p>
<p>setup= option, 48</p>
<p>mr command, 198</p>
<p>multi-core operation, 76</p>
<p>multiple cores</p>
<p>software breakpoints, 343</p>
<p>mw command, 198</p>
<p><b>N</b></p>
<p>netmask</p>
<p>setting, 73</p>
<p>netmask configuration option, 68, 73</p>
<p>new_946_cache_mgmt</p>
<p>configuration option, 105</p>
<p>Nexus trace options, 168</p>
<p>-nexus_trace_coreid, 51</p>
<p>no_boot_rom configuration option, 138</p>
<p>-no_trace_registers option, 52</p>
<p>-noadi option, 52</p>
<p>noadi option, 49</p>
<p>nofail command</p>
<p>for legacy debug scripts, 221</p>
<p>noload command</p>
<p>for legacy debug scripts, 222</p>
<p>NSRST, 161</p>
<p>num_dwt configuration option, 105</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>456</i></p>
<p><i>l2_cache_present configuration option</i></p>
<h1 style="page-break-before:always; "></h1>
<p>numbers</p>
<p>methods for specifying, 215</p>
<p><b>O</b></p>
<p>omap5_variant configuration option, 105</p>
<p>open command</p>
<p>for legacy debug scripts, 222</p>
<p>operating ranges, 318</p>
<p>options, 66, 92</p>
<p>(see also configuration options)</p>
<p>mpserv debug server, 49</p>
<p>saving and restoring, 14</p>
<p>setting with the Probe Administrator, 13</p>
<p>setting, with set, 177</p>
<p>options, debug server</p>
<p>mpserv, 48</p>
<p>other commands, 207</p>
<p>override_mmu configuration option, 106, 162</p>
<p>override_mpu configuration option, 106, 162</p>
<p>override_rcw configuration option, 139</p>
<p><b>P</b></p>
<p>passive attachment mode, 49</p>
<p>pin-out reference</p>
<p>Green Hills Probe connectors, 237</p>
<p>SuperTrace Probe connectors, 279</p>
<p>Power Architecture</p>
<p>special registers, 211</p>
<p>Power Architecture QorIQ Nexus trace options, 169</p>
<p>power_detect configuration option, 69, 83</p>
<p>PowerPC 405, 440, and 460 trace options, 171</p>
<p>PowerPC BDM, 264</p>
<p>PowerPC COP, 266</p>
<p>PowerPC Nexus, 289</p>
<p>PowerPC targets</p>
<p>download speed, 154, 352</p>
<p>preserve_dcache configuration option, 139</p>
<p>print command, 188</p>
<p>for legacy debug scripts, 222</p>
<p>PRM, 59</p>
<p>prm command, 208</p>
<p>prm_ignore_disconnect configuration option, 69, 83</p>
<p>prm_ignore_reset configuration option, 69, 84</p>
<p>Probe Administrator, 66</p>
<p>command line options, 6</p>
<p>firmware, updating, 17</p>
<p>firmware, updating with the, 7</p>
<p>opening, 6</p>
<p>options, saving and restoring, 14</p>
<p>options, setting, 13</p>
<p>Probe Administration window, 12</p>
<p>Probe List window, 7</p>
<p>Probe Run Mode (PRM), 59</p>
<p>pterminal command, 188</p>
<p>ptm_addr</p>
<p>configuration options, 106</p>
<p><b>Q</b></p>
<p>quiesce configuration option, 140</p>
<p><b>R</b></p>
<p>random command</p>
<p>for legacy debug scripts, 222</p>
<p>range types, 216</p>
<p>rcw_high configuration option, 140</p>
<p>rcw_low configuration option, 140</p>
<p>read_after_write_mem configuration option, 162</p>
<p>Real Monitor, configuring, 104, 107</p>
<p>reboot command, 189</p>
<p>reg command</p>
<p>for hpserv, 222</p>
<p>regdcr command, 198</p>
<p>registers, reading and writing</p>
<p>Agilent Probe (hpserv), 222</p>
<p>legacy debug scripts, 223</p>
<p>testing, 33</p>
<p>regnum command</p>
<p>for legacy debug scripts, 223</p>
<p>Renesas H-UDI, 277</p>
<p>reset, 20</p>
<p>JTAG TAP, 87</p>
<p>reset command</p>
<p>for MULTI Debugger, 29</p>
<p>reset pulse length</p>
<p>setting, 86</p>
<p>reset settle length</p>
<p>setting, 86</p>
<p>reset_clears_pst configuration option, 117</p>
<p>reset_detection configuration option, 106</p>
<p>reset_erpn configuration option, 141</p>
<p>reset_fixup configuration option, 107, 141</p>
<p>reset_sequence configuration option, 142</p>
<p>reset_type configuration option, 142</p>
<p>reset_vector configuration option, 143</p>
<p>resetting to factory default, 178</p>
<p>restore command, 177</p>
<p>rg command</p>
<p>for legacy debug scripts, 223</p>
<p>rm_off_on_panic configuration option, 107</p>
<p>rm_use_mem_descriptor configuration option, 107</p>
<p><i>457</i></p>
<p><i>Green Hills Software</i></p>
<p><i>numbers</i></p>
<h1 style="page-break-before:always; "></h1>
<p>rr command, 199</p>
<p>rst_dpll3 configuration option, 108</p>
<p>rst_handshake_timeout configuration option, 121</p>
<p>rst_pulse configuration option, 69, 86</p>
<p>rst_settle configuration option, 69, 86</p>
<p>rst_type configuration option, 108</p>
<p>rsttime1 configuration option, 108</p>
<p>rtck_use_timeout configuration option, 109</p>
<p>run control commands, 202</p>
<p>run-control groups (see groups)</p>
<p>running legacy debug scripts, 228</p>
<p>running_mem_access configuration option, 143</p>
<p>rw command, 199</p>
<p><b>S</b></p>
<p>safe_lsrl configuration option, 144</p>
<p>save command, 177</p>
<p>scratch_addr configuration option, 144, 157</p>
<p>script command</p>
<p>for legacy debug scripts, 223, 228</p>
<p>scripting language</p>
<p>new (.mbs) vs. old (.dbs) style, 55</p>
<p>selftest command, 212</p>
<p>-serial, 19</p>
<p>serial port forwarding, 60, 188</p>
<p>serial_terminal configuration option, 69, 84</p>
<p>service_bus_read32 configuration option, 145</p>
<p>-set option=value, 54</p>
<p>set command, 66, 177</p>
<p>setrange command</p>
<p>for legacy debug scripts, 223</p>
<p>setup, 20</p>
<p>setup command, 178</p>
<p>for legacy debug scripts, 223, 228</p>
<p>setup files, 54</p>
<p>-setup option, 54</p>
<p>for all debug servers, 57, 228</p>
<p>setup scripts, board</p>
<p>created by Project Wizard, 24</p>
<p>creating custom, 24</p>
<p>editing, 24, 25, 29</p>
<p>new (.mbs) vs. old (.dbs) style, 55</p>
<p>running .dbs scripts manually, 57</p>
<p>running .dbs scripts when connecting, 56</p>
<p>running .mbs scripts manually, 57</p>
<p>running .mbs scripts when connecting, 55</p>
<p>specifying and running, 55</p>
<p>testing commands for, 29</p>
<p>setup= debug server option</p>
<p>mpserv, 48</p>
<p>setup= option for connect</p>
<p>general usage, 56</p>
<p>simple_rst_run configuration option, 145</p>
<p>simulate_singlestep configuration option, 110</p>
<p>single mpserv connection</p>
<p>setting, 85</p>
<p>single-core operation, 76</p>
<p>single_mpserv_only configuration option, 69, 85</p>
<p>skip_smm configuration option, 158</p>
<p>sleep command</p>
<p>for legacy debug scripts, 223</p>
<p>slow_memory_read configuration option, 146</p>
<p>soft_stop configuration option, 146</p>
<p>software breakpoints</p>
<p>multiple cores, 343</p>
<p>special registers</p>
<p>target-specific, 209</p>
<p>sram_config_base configuration option, 122</p>
<p>sram_config_enable configuration option, 122</p>
<p>sram_size configuration option, 147</p>
<p>status checking</p>
<p>setting, 82</p>
<p>status command</p>
<p>for legacy debug scripts, 224</p>
<p>Status LEDs, 2</p>
<p>step command</p>
<p>for legacy debug scripts, 224</p>
<p>step configuration option, 147</p>
<p>step_fixup configuration option, 148</p>
<p>step_ints configuration option, 93, 109, 114, 122, 148</p>
<p>step_ints</p>
<p>configuration option, 156</p>
<p>SuperTrace Probe</p>
<p>baud rate, setting, 82</p>
<p>byte order, setting, 88</p>
<p>commands, 174</p>
<p>configuration options, 66, 92</p>
<p>connector specifications, 279</p>
<p>Dynamic Host Configuration Protocol (DHCP), 71</p>
<p>features, xvi</p>
<p>gateway, setting, 73</p>
<p>grounding, 322</p>
<p>I/O interface voltage, setting, 75</p>
<p>IP address, setting, 70</p>
<p>JTAG TAP reset pulse, length, setting, 86</p>
<p>JTAG TAP reset settle length, setting, 87</p>
<p>MICTOR connector specifications, 279</p>
<p>netmask, setting, 73</p>
<p>reset pulse length, setting, 86</p>
<p>reset settle length, setting, 86</p>
<p>single mpserv connection, setting, 85</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>458</i></p>
<p><i>rr command</i></p>
<h1 style="page-break-before:always; "></h1>
<p>status, 225</p>
<p>status checking, setting, 82</p>
<p>target adapter, 215</p>
<p>setting, 74</p>
<p>target power detection, setting, 83</p>
<p>target, specifying, 76</p>
<p>terminal prompts, 224</p>
<p>trace pod, 67</p>
<p>troubleshooting, 318</p>
<p>user string, setting, 85</p>
<p>SuperTrace Probe connector specifications</p>
<p>ARM CoreSight 10-pin, 247</p>
<p>ARM CoreSight 20-pin, 245</p>
<p>PowerPC Nexus, 289</p>
<p>support command, 189</p>
<p>swbp_type configuration option, 149</p>
<p>swcrr_value configuration option, 149</p>
<p>swcrr_write_enable configuration option, 149</p>
<p>SWD clock speed, setting, 82</p>
<p>swd command, 186</p>
<p>SWD commands, 183</p>
<p>SWD Debug Ports, 236</p>
<p>swdread command, 186</p>
<p>swdwrite command, 186</p>
<p>sync_cores configuration option, 150</p>
<p>sync_etpu configuration option, 150</p>
<p>-synccores option, 54</p>
<p>sypcr_value configuration option, 151</p>
<p>sypcr_write_enable configuration option, 151</p>
<p>syscalls command, 209</p>
<p>system calls, enabling and disabling, 209</p>
<p>system commands, 187</p>
<p><b>T</b></p>
<p>t command, 205</p>
<p>tags</p>
<p>cache, 300</p>
<p>TLB, 300</p>
<p>target adapter, 67</p>
<p>setting, 74</p>
<p>testing, 215</p>
<p>target board</p>
<p>commands for, 190, 205</p>
<p>communication, troubleshooting, 318</p>
<p>memory, configuring with a setup script, 26</p>
<p>power detection, setting, 83</p>
<p>setup scripts, 55</p>
<p>status, 82, 205</p>
<p>testing the configuration of, 33</p>
<p>target command</p>
<p>for MULTI Debugger, 30</p>
<p>target communication</p>
<p>change protocol, 323</p>
<p>select protocol, 71</p>
<p>target configuration option, 69, 76, 77</p>
<p>target_reset_pin configuration option, 69, 87</p>
<p>target_rev configuration option, 152</p>
<p>tbtemp command, 189</p>
<p>tc command, 205</p>
<p>tcm_ahb_base configuration option, 110</p>
<p>tcm_cpu_base configuration option, 110</p>
<p>tcm_size configuration option, 110</p>
<p>temperature, tolerance, 318</p>
<p>terminal prompts, 224</p>
<p>test commands, 212</p>
<p>Texas Instruments DSP, 275</p>
<p>.text sections</p>
<p>legacy debug scripting, 221</p>
<p>legacy debug scripts, 222</p>
<p>th command, 205</p>
<p>ti command, 82, 205</p>
<p>time command, 209</p>
<p>timeout configuration option, 123</p>
<p>timestamps, 36</p>
<p>tl command, 45, 205</p>
<p>TLB</p>
<p>tags, 300</p>
<p>TLB commands, 191, 200, 201</p>
<p>tlb_handler_entry</p>
<p>configuration option, 153</p>
<p>tlb_handler_failure</p>
<p>configuration option, 153</p>
<p>tlb_handler_success</p>
<p>configuration option, 153</p>
<p>tlb_miss_error</p>
<p>configuration option, 153</p>
<p>tlbr command, 200</p>
<p>tlbw command, 201</p>
<p>toggle_hwbp</p>
<p>configuration option, 110</p>
<p>tpiu_addr</p>
<p>configuration options, 111</p>
<p>tpiu_type</p>
<p>configuration options, 111</p>
<p>tr command, 161, 206</p>
<p>trace</p>
<p>ARM ETM options, 163</p>
<p>ARM PTM options, 163</p>
<p>ColdFire, 167</p>
<p>Nexus options, 168</p>
<p>Power Architecture QorIQ Nexus, 169</p>
<p><i>459</i></p>
<p><i>Green Hills Software</i></p>
<p><i>SuperTrace Probe (continued)</i></p>
<h1 style="page-break-before:always; "></h1>
<p>PowerPC 405, 440, and 460 options, 171</p>
<p>targets</p>
<p>configuring, 163, 167, 168, 169, 171</p>
<p>trace connectors, 279</p>
<p>trace pod</p>
<p>setting, 67</p>
<p>trace registers enabling and disabling, 209</p>
<p>trace triggers, enabling and disabling, 209</p>
<p>trace triggers, external, 61</p>
<p>trace_clock_delay configuration option, 69, 90</p>
<p>trace_clock_phase configuration option, 70, 89</p>
<p>trace_clock_source configuration option, 70, 88</p>
<p>trace_logic_high configuration option, 70, 75</p>
<p>trace_registers command, 209</p>
<p>trace_state command, 209</p>
<p>trace_term_enable configuration option, 70, 91</p>
<p>trace_triggers command, 209</p>
<p>-trace_triggers option, 54</p>
<p>TraceEverywhere adapter kit, 67, 68, 70, 74, 75, 88, 91, 366, </p>
<p>385</p>
<p>TraceEverywhere adapter kit LEDs, 3</p>
<p>TraceEverywhere trace pod LEDs, 4</p>
<p>tracereg command, 178</p>
<p>troubleshooting, 318</p>
<p>target communication, 318</p>
<p>ts command, 206</p>
<p>tset command, 179</p>
<p>typographical conventions, xii</p>
<p><b>U</b></p>
<p>undef command, 230</p>
<p>for legacy debug scripts, 224</p>
<p>-update option, 20</p>
<p>-usb [serial], 55</p>
<p>-usb option, 19, 48</p>
<p>use_agent configuration option, 123</p>
<p>use_bkpt_inst configuration option, 111</p>
<p>use_cache_scratch configuration option, 154</p>
<p>use_gtl configuration option, 158</p>
<p>use_hw_singlestep configuration option, 111</p>
<p>use_max_reset configuration option, 112</p>
<p>use_new_memwrite configuration option, 162</p>
<p>use_pst configuration option, 118</p>
<p>use_rtck configuration option, 113</p>
<p>use_swd (see debug_type)</p>
<p>User button, 5, 185</p>
<p>user string</p>
<p>setting, 85</p>
<p>user_button configuration option, 70</p>
<p>user_immr configuration option, 154</p>
<p>user_string configuration option, 70, 85</p>
<p><b>V</b></p>
<p>-v option, 20</p>
<p>vb command, 212</p>
<p>vbp command, 212</p>
<p>vbph command, 212</p>
<p>vc command, 213</p>
<p>ve command, 213</p>
<p>verbose mode, 20</p>
<p>verify_download configuration option, 70</p>
<p>vfp_type configuration option, 110</p>
<p>vle command, 214</p>
<p>vm command, 214</p>
<p>vr command, 214</p>
<p>vrh command, 215</p>
<p>vsi command, 215</p>
<p>vta command, 215</p>
<p><b>W</b></p>
<p>w command, 189</p>
<p>wait command</p>
<p>for MULTI Debugger, 30</p>
<p>writing legacy debug scripts, 228</p>
<p><b>X</b></p>
<p>xswitch command, 190</p>
<p><i>Green Hills Debug Probes User's Guide</i></p>
<p><i>460</i></p>
<p><i>trace (continued)</i></p>
</body>
</html>
{% endraw %}