---
layout: default
title: SafetyManual_CBD1601056_D00
nav_order: 54
parent: Component Implementation
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Safety Manual </b></p>
<p>CBD1601056 D00 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>ID </p>
<p>SPECDOC26158 </p>
<p>Status </p>
<p>Draft </p>
<p>Generated on </p>
<p>2017-02-09 09:51 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>2 / 103 </p>
<p>Contents </p>
<p><b>Safety Manual ..................................................................................................................... 11</b></p>
<p><b> </b></p>
<p><b>1 General Part .................................................................................................................... 12</b></p>
<p><b> </b></p>
<p>1.1 Introduction................................................................................................................ 12</p>
<p> </p>
<p>1.1.1 Purpose ............................................................................................................. 12</p>
<p> </p>
<p>1.1.2 Scope ................................................................................................................ 12</p>
<p> </p>
<p>1.1.3 Definitions .......................................................................................................... 12</p>
<p> </p>
<p>1.1.4 References ........................................................................................................ 13</p>
<p> </p>
<p>1.1.5 Overview ............................................................................................................ 13</p>
<p> </p>
<p>1.2 Concept ..................................................................................................................... 13</p>
<p> </p>
<p>1.2.1 Technical Safety Requirements .......................................................................... 14</p>
<p> </p>
<p>1.2.1.1 Initialization................................................................................................. 14</p>
<p> </p>
<p>1.2.1.2 Self-test ...................................................................................................... 14</p>
<p> </p>
<p>1.2.1.3 Reset of ECU ............................................................................................. 14</p>
<p> </p>
<p>1.2.1.4 Data consistency ........................................................................................ 15</p>
<p> </p>
<p>1.2.1.5 Non-volatile memory ................................................................................... 15</p>
<p> </p>
<p>1.2.1.5.1 Saving data ......................................................................................... 15</p>
<p> </p>
<p>1.2.1.5.2 Loading data ....................................................................................... 15</p>
<p> </p>
<p>1.2.1.6 Scheduling.................................................................................................. 16</p>
<p> </p>
<p>1.2.1.6.1 Deterministic, hard real-time scheduling .............................................. 16</p>
<p> </p>
<p>1.2.1.7 Partitioning ................................................................................................. 16</p>
<p> </p>
<p>1.2.1.7.1 Memory partitioning ............................................................................. 16</p>
<p> </p>
<p>1.2.1.7.2 Time partitioning .................................................................................. 16</p>
<p> </p>
<p>1.2.1.8 Communication protection .......................................................................... 17</p>
<p> </p>
<p>1.2.1.8.1 Inter ECU communication ................................................................... 17</p>
<p> </p>
<p>1.2.1.8.2 Intra ECU communication ................................................................... 17</p>
<p> </p>
<p>1.2.1.9 Watchdog services ..................................................................................... 18</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>3 / 103 </p>
<p>1.2.1.9.1 Program flow monitoring ..................................................................... 18</p>
<p> </p>
<p>1.2.1.9.2 Alive monitoring ................................................................................... 18</p>
<p> </p>
<p>1.2.1.9.3 Deadline monitoring ............................................................................ 18</p>
<p> </p>
<p>1.2.1.10 Peripheral in- and output .......................................................................... 18</p>
<p> </p>
<p>1.2.1.10.1 Peripheral input ................................................................................. 18</p>
<p> </p>
<p>1.2.1.10.2 Peripheral output ............................................................................... 18</p>
<p> </p>
<p>1.2.2 Environment ....................................................................................................... 19</p>
<p> </p>
<p>1.2.2.1 Safety Concept ........................................................................................... 19</p>
<p> </p>
<p>1.2.2.2 Use of MICROSAR Safe Components ........................................................ 21</p>
<p> </p>
<p>1.2.2.3 Partitioning ................................................................................................. 22</p>
<p> </p>
<p>1.2.2.4 Resources .................................................................................................. 23</p>
<p> </p>
<p>1.2.3 Process .............................................................................................................. 23</p>
<p> </p>
<p><b>2 Safety Manual BswM ....................................................................................................... 26</b></p>
<p><b> </b></p>
<p>2.1 Safety features .......................................................................................................... 26</p>
<p> </p>
<p>2.2 Configuration constraints ........................................................................................... 26</p>
<p> </p>
<p>2.3 Additional Verification measures ................................................................................ 26</p>
<p> </p>
<p>2.4 Safety features required from other components ....................................................... 26</p>
<p> </p>
<p>2.5 Dependencies to hardware ........................................................................................ 26</p>
<p> </p>
<p><b>3 Safety Manual CanIf ........................................................................................................ 27</b></p>
<p><b> </b></p>
<p>3.1 Safety features .......................................................................................................... 27</p>
<p> </p>
<p>3.2 Configuration constraints ........................................................................................... 27</p>
<p> </p>
<p>3.3 Additional verification measures ................................................................................ 27</p>
<p> </p>
<p>3.4 Safety features required from other components ....................................................... 28</p>
<p> </p>
<p>3.5 Dependencies to hardware ........................................................................................ 28</p>
<p> </p>
<p><b>4 Safety Manual CanNm .................................................................................................... 29</b></p>
<p><b> </b></p>
<p>4.1 Safety features .......................................................................................................... 29</p>
<p> </p>
<p>4.2 Configuration constraints ........................................................................................... 29</p>
<p> </p>
<p>4.3 Additional verification measures ................................................................................ 29</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>4 / 103 </p>
<p>4.4 Safety features required from other components ....................................................... 29</p>
<p> </p>
<p>4.5 Dependencies to hardware ........................................................................................ 29</p>
<p> </p>
<p><b>5 Safety Manual CanSM ..................................................................................................... 30</b></p>
<p><b> </b></p>
<p>5.1 Safety features .......................................................................................................... 30</p>
<p> </p>
<p>5.2 Configuration constraints ........................................................................................... 30</p>
<p> </p>
<p>5.3 Additional verification measures ................................................................................ 30</p>
<p> </p>
<p>5.4 Safety features required from other components ....................................................... 30</p>
<p> </p>
<p>5.5 Dependencies to hardware ........................................................................................ 30</p>
<p> </p>
<p><b>6 Safety Manual CanTp ...................................................................................................... 31</b></p>
<p><b> </b></p>
<p>6.1 Safety features .......................................................................................................... 31</p>
<p> </p>
<p>6.2 Configuration constraints ........................................................................................... 31</p>
<p> </p>
<p>6.3 Additional verification measures ................................................................................ 31</p>
<p> </p>
<p>6.4 Dependencies to other components .......................................................................... 31</p>
<p> </p>
<p>6.4.1 Safety features required from other components ................................................ 31</p>
<p> </p>
<p>6.4.2 Coexistence with other components ................................................................... 31</p>
<p> </p>
<p>6.5 Dependencies to hardware ........................................................................................ 31</p>
<p> </p>
<p><b>7 Safety Manual CanTrcv ................................................................................................... 32</b></p>
<p><b> </b></p>
<p>7.1 Safety features .......................................................................................................... 32</p>
<p> </p>
<p>7.2 Configuration constraints ........................................................................................... 32</p>
<p> </p>
<p>7.3 Additional verification measures ................................................................................ 32</p>
<p> </p>
<p>7.4 Safety features required from other components ....................................................... 32</p>
<p> </p>
<p>7.5 Dependencies to hardware ........................................................................................ 32</p>
<p> </p>
<p><b>8 Safety Manual CanTrcv (Tja1043) .................................................................................. 33</b></p>
<p><b> </b></p>
<p>8.1 Safety features .......................................................................................................... 33</p>
<p> </p>
<p>8.2 Configuration constraints ........................................................................................... 33</p>
<p> </p>
<p>8.3 Additional verification measures ................................................................................ 33</p>
<p> </p>
<p>8.4 Safety features required from other components ....................................................... 33</p>
<p> </p>
<p>8.5 Dependencies to hardware ........................................................................................ 33</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>5 / 103 </p>
<p><b>9 Safety Manual Com ......................................................................................................... 34</b></p>
<p><b> </b></p>
<p>9.1 Safety features .......................................................................................................... 34</p>
<p> </p>
<p>9.2 Configuration constraints ........................................................................................... 34</p>
<p> </p>
<p>9.3 Additional verification measures ................................................................................ 34</p>
<p> </p>
<p>9.4 Safety features required from other components ....................................................... 35</p>
<p> </p>
<p>9.5 Dependencies to hardware ........................................................................................ 35</p>
<p> </p>
<p><b>10 Safety Manual ComM .................................................................................................... 36</b></p>
<p><b> </b></p>
<p>10.1 Safety features ........................................................................................................ 36</p>
<p> </p>
<p>10.2 Configuration constraints ......................................................................................... 36</p>
<p> </p>
<p>10.3 Additional Verification measures .............................................................................. 36</p>
<p> </p>
<p>10.4 Safety features required from other components ..................................................... 37</p>
<p> </p>
<p>10.5 Dependencies to hardware ...................................................................................... 37</p>
<p> </p>
<p><b>11 Safety Manual Crc ......................................................................................................... 38</b></p>
<p><b> </b></p>
<p>11.1 Safety features......................................................................................................... 38</p>
<p> </p>
<p>11.2 Configuration constraints ......................................................................................... 38</p>
<p> </p>
<p>11.3 Additional verification measures ............................................................................... 38</p>
<p> </p>
<p>11.4 Dependencies to other components ......................................................................... 38</p>
<p> </p>
<p>11.4.1 Safety features required from other components .............................................. 38</p>
<p> </p>
<p>11.4.2 Coexistence with other components ................................................................. 38</p>
<p> </p>
<p>11.5 Dependencies to hardware ...................................................................................... 38</p>
<p> </p>
<p><b>12 Safety Manual Csm ....................................................................................................... 39</b></p>
<p><b> </b></p>
<p>12.1 Safety Features ....................................................................................................... 39</p>
<p> </p>
<p>12.2 Configuration constraints ......................................................................................... 39</p>
<p> </p>
<p>12.3 Additional verification measures .............................................................................. 39</p>
<p> </p>
<p>12.4 Dependencies to other components ........................................................................ 39</p>
<p> </p>
<p>12.4.1 Safety features required from other components .............................................. 39</p>
<p> </p>
<p>12.5 Dependencies to hardware ...................................................................................... 40</p>
<p> </p>
<p><b>13 Safety Manual Dcm ....................................................................................................... 41</b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>6 / 103 </p>
<p>13.1 Safety features ........................................................................................................ 41</p>
<p> </p>
<p>13.2 Configuration constraints ......................................................................................... 41</p>
<p> </p>
<p>13.3 Additional verification measures .............................................................................. 41</p>
<p> </p>
<p>13.4 Safety features required from other components ..................................................... 41</p>
<p> </p>
<p>13.5 Dependencies to hardware ...................................................................................... 41</p>
<p> </p>
<p><b>14 Safety Manual Dem ....................................................................................................... 42</b></p>
<p><b> </b></p>
<p>14.1 Safety features ........................................................................................................ 42</p>
<p> </p>
<p>14.2 Configuration constraints ......................................................................................... 42</p>
<p> </p>
<p>14.3 Additional verification measures .............................................................................. 42</p>
<p> </p>
<p>14.4 Safety features required from other components ..................................................... 45</p>
<p> </p>
<p>14.5 Dependencies to hardware ...................................................................................... 45</p>
<p> </p>
<p><b>15 Safety Manual Det ......................................................................................................... 46</b></p>
<p><b> </b></p>
<p>15.1 Safety features ........................................................................................................ 46</p>
<p> </p>
<p>15.2 Configuration constraints ......................................................................................... 46</p>
<p> </p>
<p>15.3 Additional Verification measures .............................................................................. 46</p>
<p> </p>
<p>15.4 Dependencies to other components ........................................................................ 46</p>
<p> </p>
<p>15.4.1 Safety features required from other components .............................................. 46</p>
<p> </p>
<p>15.4.2 Coexistence with other components ................................................................. 46</p>
<p> </p>
<p>15.5 Dependencies to hardware ...................................................................................... 46</p>
<p> </p>
<p><b>16 Safety Manual EcuM ..................................................................................................... 47</b></p>
<p><b> </b></p>
<p>16.1 Safety features ........................................................................................................ 47</p>
<p> </p>
<p>16.2 Configuration constraints ......................................................................................... 48</p>
<p> </p>
<p>16.3 Additional verification measurse .............................................................................. 49</p>
<p> </p>
<p>16.4 Safety features required from other components ..................................................... 50</p>
<p> </p>
<p>16.5 Dependencies to hardware ...................................................................................... 50</p>
<p> </p>
<p><b>17 Safety Manual Fee ......................................................................................................... 51</b></p>
<p><b> </b></p>
<p>17.1 Safety features ........................................................................................................ 51</p>
<p> </p>
<p>17.2 Configuration constraints ......................................................................................... 51</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>7 / 103 </p>
<p>17.3 Additional Verification measures .............................................................................. 51</p>
<p> </p>
<p>17.4 Dependencies to other components ........................................................................ 51</p>
<p> </p>
<p>17.4.1 Safety features required from other components .............................................. 51</p>
<p> </p>
<p>17.4.2 Coexistence with other components ................................................................. 51</p>
<p> </p>
<p>17.5 Dependencies to hardware ...................................................................................... 51</p>
<p> </p>
<p><b>18 Safety Manual MemIf ..................................................................................................... 52</b></p>
<p><b> </b></p>
<p>18.1 Safety features ........................................................................................................ 52</p>
<p> </p>
<p>18.2 Configuration constraints ......................................................................................... 52</p>
<p> </p>
<p>18.3 Additional verification measures .............................................................................. 52</p>
<p> </p>
<p>18.4 Dependencies to other components ........................................................................ 52</p>
<p> </p>
<p>18.4.1 Safety features required from other components .............................................. 52</p>
<p> </p>
<p>18.4.2 Coexistence with other components ................................................................. 52</p>
<p> </p>
<p>18.5 Dependencies to hardware ...................................................................................... 52</p>
<p> </p>
<p><b>19 Safety Manual Nm ......................................................................................................... 53</b></p>
<p><b> </b></p>
<p>19.1 Safety features ........................................................................................................ 53</p>
<p> </p>
<p>19.2 Configuration constraints ......................................................................................... 53</p>
<p> </p>
<p>19.3 Additional Verification measures .............................................................................. 53</p>
<p> </p>
<p>19.4 Dependencies to other components ........................................................................ 53</p>
<p> </p>
<p>19.4.1 Safety features required from other components .............................................. 53</p>
<p> </p>
<p>19.4.2 Coexistence with other components ................................................................. 53</p>
<p> </p>
<p>19.5 Dependencies to hardware ...................................................................................... 53</p>
<p> </p>
<p><b>20 Safety Manual NvM ....................................................................................................... 54</b></p>
<p><b> </b></p>
<p>20.1 Safety features ........................................................................................................ 54</p>
<p> </p>
<p>20.2 Configuration constraints ......................................................................................... 54</p>
<p> </p>
<p>20.3 Additional verification measures .............................................................................. 55</p>
<p> </p>
<p>20.4 Safety features required from other components ..................................................... 55</p>
<p> </p>
<p>20.5 Dependencies to hardware ...................................................................................... 55</p>
<p> </p>
<p><b>21 Safety Manual OS .......................................................................................................... 56</b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>8 / 103 </p>
<p>21.1 Safety features ........................................................................................................ 56</p>
<p> </p>
<p>21.2 Configuration constraints ......................................................................................... 60</p>
<p> </p>
<p>21.3 Additional verification measures .............................................................................. 61</p>
<p> </p>
<p>21.3.1 Interrupt handling ............................................................................................. 62</p>
<p> </p>
<p>21.3.2 Memory mapping and linking ........................................................................... 64</p>
<p> </p>
<p>21.3.3 Stack ................................................................................................................ 65</p>
<p> </p>
<p>21.3.4 Multicore systems with mixed diagnostic coverage capability ........................... 65</p>
<p> </p>
<p>21.3.5 Miscellaneous .................................................................................................. 66</p>
<p> </p>
<p>21.4 Safety features required from other components ..................................................... 67</p>
<p> </p>
<p>21.5 Dependencies to hardware ...................................................................................... 68</p>
<p> </p>
<p><b>22 Safety Manual OS (RH850) ........................................................................................... 69</b></p>
<p><b> </b></p>
<p>22.1 Safety Features ....................................................................................................... 69</p>
<p> </p>
<p>22.2 Configuration Constraints ........................................................................................ 69</p>
<p> </p>
<p>22.3 Additional Verification Measures .............................................................................. 69</p>
<p> </p>
<p>22.4 Safety features required from other components ..................................................... 70</p>
<p> </p>
<p>22.5 Dependencies to Hardware ..................................................................................... 70</p>
<p> </p>
<p><b>23 Safety Manual PduR ...................................................................................................... 71</b></p>
<p><b> </b></p>
<p>23.1 Safety features ........................................................................................................ 71</p>
<p> </p>
<p>23.2 Configuration constraints ......................................................................................... 71</p>
<p> </p>
<p>23.3 Additional verification measures .............................................................................. 71</p>
<p> </p>
<p>23.4 Safety features required from other components ..................................................... 71</p>
<p> </p>
<p>23.5 Dependencies to hardware ...................................................................................... 71</p>
<p> </p>
<p><b>24 Safety Manual Rte ......................................................................................................... 72</b></p>
<p><b> </b></p>
<p>24.1 Safety features ........................................................................................................ 72</p>
<p> </p>
<p>24.2 Configuration constraints ......................................................................................... 74</p>
<p> </p>
<p>24.3 Additional verification measures .............................................................................. 74</p>
<p> </p>
<p>24.3.1 Guided integration testing ................................................................................ 74</p>
<p> </p>
<p>24.3.1.1 BSW configuration .................................................................................... 75</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>9 / 103 </p>
<p>24.3.1.2 Executable Entity Scheduling ................................................................... 76</p>
<p> </p>
<p>24.3.1.3 SWC Communication ............................................................................... 78</p>
<p> </p>
<p>24.3.1.4 Usage of RTE Headers ............................................................................. 79</p>
<p> </p>
<p>24.3.1.5 Usage of RTE APIs ................................................................................... 80</p>
<p> </p>
<p>24.3.1.6 Configuration of RTE APIs ........................................................................ 81</p>
<p> </p>
<p>24.4 Safety features required from other components ..................................................... 83</p>
<p> </p>
<p>24.5 Dependencies to hardware ...................................................................................... 83</p>
<p> </p>
<p><b>25 Safety Manual WdgIf ..................................................................................................... 84</b></p>
<p><b> </b></p>
<p>25.1 Safety features ........................................................................................................ 84</p>
<p> </p>
<p>25.2 Configuration constraints ......................................................................................... 84</p>
<p> </p>
<p>25.3 Additional verification measures .............................................................................. 84</p>
<p> </p>
<p>25.4 Safety features required from other components ..................................................... 88</p>
<p> </p>
<p>25.5 Dependencies to hardware ...................................................................................... 89</p>
<p> </p>
<p><b>26 Safety Manual WdgM .................................................................................................... 90</b></p>
<p><b> </b></p>
<p>26.1 Safety features ........................................................................................................ 90</p>
<p> </p>
<p>26.2 Configuration constraints ......................................................................................... 90</p>
<p> </p>
<p>26.3 Additional verification measures .............................................................................. 91</p>
<p> </p>
<p>26.3.1 Additional verification using WdgM Verifier ....................................................... 92</p>
<p> </p>
<p>26.3.2 Additional verification of generator execution ................................................... 96</p>
<p> </p>
<p>26.4 Safety features required from other components ..................................................... 98</p>
<p> </p>
<p>26.5 Dependencies to hardware ...................................................................................... 98</p>
<p> </p>
<p><b>27 Safety Manual XCP........................................................................................................ 99</b></p>
<p><b> </b></p>
<p>27.1 Safety features ........................................................................................................ 99</p>
<p> </p>
<p>27.2 Configuration constraints ......................................................................................... 99</p>
<p> </p>
<p>27.3 Additional verification measures ............................................................................ 100</p>
<p> </p>
<p>27.4 Safety features required from other components ................................................... 100</p>
<p> </p>
<p>27.5 Dependencies to hardware .................................................................................... 100</p>
<p> </p>
<p><b>28 Glossary and Abbreviations ....................................................................................... 101</b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>10 / 103 </p>
<p>28.1 Glossary ................................................................................................................ 101</p>
<p> </p>
<p>28.2 Abbreviations ......................................................................................................... 101</p>
<p> </p>
<p><b>29 Contact ........................................................................................................................ 103</b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>  </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>11 / 103 </p>
<p><b>Safety Manual</b></p>
<p><b> </b></p>
<p><b>Version</b></p>
<p><b> </b></p>
<p><b>Date</b></p>
<p><b> </b></p>
<p><b>Author</b></p>
<p><b> </b></p>
<p><b>Remarks</b></p>
<p><b> </b></p>
<p>1.00.00</p>
<p> </p>
<p>2015-11-13</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Initial creation</p>
<p> </p>
<p>1.01.00</p>
<p> </p>
<p>2015-12-18</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Information about ASIL added.</p>
<p> </p>
<p>1.02.00</p>
<p> </p>
<p>2016-01-29</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Improvements in formulation.</p>
<p> </p>
<p>1.03.00</p>
<p> </p>
<p>2016-02-25</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Improvements in formulation.</p>
<p> </p>
<p>1.03.01</p>
<p> </p>
<p>2016-03-30</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Review findings incorporated.</p>
<p> </p>
<p>1.03.02</p>
<p> </p>
<p>2016-05-13</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added hint on hardware-software integration (SMI-4).</p>
<p> </p>
<p>1.03.03</p>
<p> </p>
<p>2016-07-20</p>
<p> </p>
<p>Hartmut Hoerner</p>
<p> </p>
<p>Added SMI related to interrupt handling.</p>
<p> </p>
<p>1.04.00</p>
<p> </p>
<p>2016-09-02</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added TSR-101876 for data consistency.</p>
<p> </p>
<p>1.04.01</p>
<p> </p>
<p>2016-09-19</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Clarifications on SMI-100 and SMI-19.</p>
<p> </p>
<p>1.04.02</p>
<p> </p>
<p>2016-12-02</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Version of referenced document fixed.</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>12 / 103 </p>
<p><b>1 General Part</b></p>
<p><b> </b></p>
<p><b>1.1 Introduction</b></p>
<p><b> </b></p>
<p><b>1.1.1 Purpose</b></p>
<p><b> </b></p>
<p>This document describes the assumptions made by Vector during the development of </p>
<p>MICROSAR Safe as Software Safety Element out of Context (SEooC). This document </p>
<p>provides information on how to integrate MICROSAR Safe into your safety-related project. </p>
<p>This document is intended for the user of MICROSAR Safe. It shall be read by project </p>
<p>managers, safety managers, and engineers to allow proper integration of MICROSAR </p>
<p>Safe. </p>
<p><b>1.1.2 Scope</b></p>
<p><b> </b></p>
<p>This document adds additional information to the components that are marked with an </p>
<p>ASIL in the delivery description provided by Vector. Neither QM Vector components, nor </p>
<p>components by other vendors are in the scope of this document. </p>
<p>Vector assumes that hardware and compiler manuals are correct and complete. </p>
<p>Vector uses the hardware reference manuals and compiler manuals for the development </p>
<p>of MICROSAR Safe. Vector has no means to verify correctness or completeness of the </p>
<p>hardware and compiler manuals. </p>
<p>Example information that may be critical from these manuals is the register assignment by </p>
<p>compiler. This information is used to built up the context that is saved and restored by the </p>
<p>operating system. </p>
<p>The compiler manual from the compiler version specified for the project is considered. The </p>
<p>considered hardware manuals are documented in the Technical Reference of the </p>
<p>hardware-specific component. </p>
<p>A general description of Vector's approach to ISO 26262 is described in [2]. This document </p>
<p>is available on request. </p>
<p><b>1.1.3 Definitions</b></p>
<p><b> </b></p>
<p>The words <i>shall</i>, <i>shall not</i>, <i>should</i>, <i>can </i>in this document are to be interpreted as described </p>
<p>here: </p>
<p> </p>
<p><i>Shall </i>means that the definition is an absolute requirement of the specification. </p>
<p> </p>
<p><i>Shall not </i>means that the definition is an absolute prohibition of the specification. </p>
<p> </p>
<p><i>Should </i>means that there may exist valid reasons in particular circumstances to ignore </p>
<p>a particular definition, but the full implications must be understood and carefully </p>
<p>weighed before choosing a different course. </p>
<p> </p>
<p><i>Can </i>means that a definition is truly optional.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>13 / 103 </p>
<p>The user of MICROSAR Safe can deviate from all constraints and requirements in this </p>
<p>Safety Manual in the responsibility of the user of MICROSAR Safe, if equivalent measures </p>
<p>are used. </p>
<p>If a measure is equivalent can be decided in the responsibility of the user of MICROSAR </p>
<p>Safe. </p>
<p><b>1.1.4 References</b></p>
<p><b> </b></p>
<p><b>No.</b></p>
<p><b> </b></p>
<p><b>Source</b></p>
<p><b> </b></p>
<p><b>Title</b></p>
<p><b> </b></p>
<p><b>Version</b></p>
<p><b> </b></p>
<p>[1]</p>
<p> </p>
<p>ISO</p>
<p> </p>
<p>ISO 26262 Road vehicles — Functional safety (all parts)</p>
<p> </p>
<p>2011/2012</p>
<p> </p>
<p>[2]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>ISO 26262 Compliance Document</p>
<p> </p>
<p>1.2.1</p>
<p> </p>
<p>[3]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>MICROSAR Safe Product Information</p>
<p> </p>
<p>1.4.0</p>
<p> </p>
<p>[4]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>MICROSAR Safe Silence Verifier Technical Reference</p>
<p> </p>
<p>1.4</p>
<p> </p>
<p> </p>
<p><b>1.1.5 Overview</b></p>
<p><b> </b></p>
<p>This document is automatically generated. The content of this document depends on the </p>
<p>components and microcontroller of your delivery. This document is thus valid only for the </p>
<p>delivery from Vector that it is included in. </p>
<p>The structure of this document comprises: </p>
<p><b></b></p>
<p><b> </b></p>
<p>a general section that covers all assumptions and constraints that are always </p>
<p>applicable, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>a microcontroller specific section that covers all aspects of the selected microcontroller </p>
<p>(only if microcontroller specific components are part of the delivery), and </p>
<p><b></b></p>
<p><b> </b></p>
<p>a section for each component that covers its constraints and necessary verification </p>
<p>steps. </p>
<p>Vector's assumptions on the environment of the MICROSAR Safe components as well as </p>
<p>the integration process are described. </p>
<p>Vector developed MICROSAR Safe as Safety Element out of Context for projects </p>
<p>demanding ASIL D software. All requirements in this document apply independently from </p>
<p>the actual highest ASIL of the project.  </p>
<p><b>1.2 Concept</b></p>
<p><b> </b></p>
<p>MICROSAR Safe comprises a set of components developed according to ISO 26262. </p>
<p>These components can be combined - together with other measures - to build a safe </p>
<p>system according to ISO 26262. </p>
<p>Please read the Product Information MICROSAR Safe [3] first. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>14 / 103 </p>
<p><b>1.2.1 Technical Safety Requirements</b></p>
<p><b> </b></p>
<p>These are the assumed technical safety requirements on the Safety Element out of </p>
<p>Context MICROSAR Safe. These requirements are expected to match the requirements in </p>
<p>the actual item development. </p>
<p>All technical safety requirements are assigned an ASIL D to service as many projects as </p>
<p>possible. </p>
<p>No fault tolerant time intervals are given. Timing depends on the used hardware and its </p>
<p>configuration. It is assumed that the user configures MICROSAR Safe adequately for the </p>
<p>intended use. </p>
<p>No safe state is defined since MICROSAR Safe allows the user to define the desired </p>
<p>behavior in case of a detected fault. </p>
<p><b>1.2.1.1 Initialization </b></p>
<p><b>TSR-1 The system shall initialize the CPU, MPU, watchdog, and operating system.  </b></p>
<p>Rationale: Initialization of the hardware, e.g. clocks, memory protection, scheduling etc. is </p>
<p>necessary to enable the other safety requirements. </p>
<p>MICROSAR Safe Feature: The ECU State Manager (EcuM) is responsible for performing </p>
<p>the configured driver initialization. After initialization the EcuM starts the operating system. </p>
<p>The EcuM distributes the post-built loadable configuration information within the ECU. </p>
<p>The documentation of the operating system describes which parts of the CPU it initializes. </p>
<p>The startup code and main function is in the responsibility of the user of MICROSAR Safe. </p>
<p><b>1.2.1.2 Self-test </b></p>
<p><b>TSR-2 The system shall perform self-tests based on the requirements of the system.  </b></p>
<p>Rationale: It may be necessary to periodically test individual components of the system to </p>
<p>detect latent faults. </p>
<p>MICROSAR Safe Feature :The operating system provides a function to self-test the </p>
<p>effectiveness of the MPU settings. </p>
<p>The ECU State Manager services callouts to user code that can check RAM consistency </p>
<p>after wakeup. </p>
<p>Other hardware self-tests are usually performed by MCAL components not developed by </p>
<p>Vector. </p>
<p>End-to-end protection of communication provides its own fault detection mechanisms. </p>
<p><b>1.2.1.3 Reset of ECU </b></p>
<p><b>TSR-3 The system shall reset itself in case of a detected fault.  </b></p>
<p>Rationale: Resetting the CPU of the ECU is in most cases an appropriate measure to </p>
<p>achieve a safe state. </p>
<p>It is assumed that the reset state of a microcontroller leads to the safe state of the ECU </p>
<p>and system, since a reset may occur at any time due to e.g. EMC. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe does not reset the ECU on its own (there </p>
<p>may be exceptions for the operating system). </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>15 / 103 </p>
<p>Functionality from ECU State Manager (setting the shutdown target) can be used to reset </p>
<p>the ECU instead, if this is the intended fault reaction. </p>
<p><b>1.2.1.4 Data consistency </b></p>
<p><b>TSR-101876 The system shall provide functions to ensure data consistency.  </b></p>
<p>Rationale: Concurrent access, e.g. from task or interrupt level, must not lead to data </p>
<p>inconsistencies. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe provides functions to enable or disable </p>
<p>interrupts, spin-locks, resources or abstractions (i.e. exclusive areas) to enable the user of </p>
<p>MICROSAR Safe to ensure data consistency. This functionality is also used within </p>
<p>MICROSAR Safe to ensure data consistency. </p>
<p><b>1.2.1.5 Non-volatile memory </b></p>
<p>The system must be designed in a way that in case of the absence of non</p>
<p>&#8209;</p>
<p>volatile data it </p>
<p>is still safe (e.g. safe state or degradation). </p>
<p>It cannot be assured that data is saved completely or at all because a reset or loss of </p>
<p>energy might happen at any time, e.g. brown-out, black-out. </p>
<p>This also implies that it is in general impossible to guarantee that the latest information is </p>
<p>available in the non-volatile memory, e.g. the system is reset before memory stack is even </p>
<p>notified to write data to non-volatile memory. </p>
<p>Thus, safety-related functionality may not rely on the availability of data in non-volatile </p>
<p>memory. </p>
<p>Since the availability of data in non-volatile memory cannot be guaranteed in any case, the </p>
<p>only sensible use-case is reading safety-related calibration data. </p>
<p>Writing of data into non-volatile memory must be verified to assure that the information is </p>
<p>available in non-volatile memory. Verification can only be done manually in a protected </p>
<p>environment, e.g. at end of line, in a workshop, etc.  </p>
<p>ECU software cannot verify if data was written, since at any time a reset could occur and </p>
<p>the information that had to be written is lost immediately. </p>
<p>Reading of data does not modify data stored in non-volatile memory. Thus, reading can be </p>
<p>used by safety-related functionality. The memory stack has to assure that the read data is </p>
<p>identical to the data stored in non-volatile memory. </p>
<p>The absence of data still has to be handled by the application. </p>
<p>The availability may be increased by e.g. redundant storage. </p>
<p><b>1.2.1.5.1 Saving data</b></p>
<p><b> </b></p>
<p><b>TSR-4 The system shall save information in non-volatile memory.  </b></p>
<p>Rationale: see text above. </p>
<p>MICROSAR Safe Feature: The intended block is written with the information provided by </p>
<p>the application. </p>
<p><b>1.2.1.5.2 Loading data</b></p>
<p><b> </b></p>
<p><b>TSR-5 The system shall retrieve the last stored information from non-volatile </b></p>
<p><b>memory.  </b></p>
<p>Rationale: see text in above. </p>
<p>MICROSAR Safe Feature: The intended block is read and the information is provided to </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>16 / 103 </p>
<p>the application. </p>
<p>The last or any previous completely stored block in non-volatile memory is returned by </p>
<p>memory stack. </p>
<p>If CRC or ECC protections do not match block data an error is returned. </p>
<p>If data is stored redundantly, the redundant information is returned. </p>
<p>If no completely stored block is found, an error is returned. </p>
<p><b>1.2.1.6 Scheduling </b></p>
<p><b>1.2.1.6.1 Deterministic, hard real-time scheduling</b></p>
<p><b> </b></p>
<p><b>TSR-6 The system shall execute the specified functions within their respective hard </b></p>
<p><b>timing limits.  </b></p>
<p>Rationale: Hard real-time scheduling may be used for scheduling safety mechanisms </p>
<p>implemented in software. </p>
<p>This requirement is even more important for fail-operational systems, where one function </p>
<p>may have to work, while another blocks the processor. </p>
<p>MICROSAR Safe Feature: The immediate priority ceiling protocol specified by AUTOSAR </p>
<p>is capable of performing this task. The schedule tables specified by AUTOSAR may also </p>
<p>be used on top of the scheduling algorithm. </p>
<p>The operating system of MICROSAR Safe implements the scheduling algorithm according </p>
<p>to the methods for ASIL D required by ISO 26262. </p>
<p><b>1.2.1.7 Partitioning </b></p>
<p><b>1.2.1.7.1 Memory partitioning</b></p>
<p><b> </b></p>
<p><b>TSR-7 The system shall protect software applications from unspecified memory </b></p>
<p><b>access.  </b></p>
<p>Rationale: Partitioning in software is often introduced because of different quality levels of </p>
<p>software and different responsibilities of software development on one ECU. </p>
<p>Memory partitioning relies on the available MPU in hardware for the effectiveness of the </p>
<p>mechanism. </p>
<p>MICROSAR Safe Feature: Memory partitioning and context switching using AUTOSAR </p>
<p>Operating Feature System SC3 mechanisms is implemented according to the methods for </p>
<p>ASIL D required by ISO 26262. </p>
<p>Adequate configuration of the memory partitions is in the responsibility of the user of </p>
<p>MICROSAR Safe. </p>
<p><b>1.2.1.7.2 Time partitioning</b></p>
<p><b> </b></p>
<p><b>1.2.1.7.2.1 Timing protection</b></p>
<p><b> </b></p>
<p><b>TSR-8 The system shall detect timing faults in the software.  </b></p>
<p>Rationale: Relying on a watchdog for timing protection is sometimes not sufficiently robust </p>
<p>or efficient. </p>
<p>MICROSAR Safe Feature: The operating system of MICROSAR Safe implements the </p>
<p>timing protection functionality of SC4 according to the methods for ASIL D required by ISO </p>
<p>26262. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>17 / 103 </p>
<p><b>1.2.1.7.2.2 Killing of applications</b></p>
<p><b> </b></p>
<p><b>TSR-9 The system shall terminate software applications.  </b></p>
<p>Rationale: In combination with the timing protection this allows the software to continue </p>
<p>operation in case of a software fault. </p>
<p>MICROSAR Safe Feature: The operating system of MICROSAR Safe implements the </p>
<p>termination of applications according to the methods for ASIL D required by ISO 26262. </p>
<p><b>1.2.1.8 Communication protection </b></p>
<p><b>1.2.1.8.1 Inter ECU communication</b></p>
<p><b> </b></p>
<p><b>1.2.1.8.1.1 End-to-end protection</b></p>
<p><b> </b></p>
<p><b>TSR-10 The system shall protect communication between its elements.  </b></p>
<p>Rationale: Communication has to be protected against corruption, unintended replay and </p>
<p>masquerading. The loss of a message must be detected. </p>
<p>This can be achieved using the end-to-end (E2E) protection </p>
<p>mechanism defined by AUTOSAR. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe implements the E2E functionality according </p>
<p>to </p>
<p>ISO 26262. This also includes the CRC library functionality. </p>
<p><b>1.2.1.8.1.2 Protection by cryptographic algorithms</b></p>
<p><b> </b></p>
<p><b>TSR-11 The system shall protect communication between its elements using </b></p>
<p><b>cryptographic hash algorithms to detect accidental corruption of the </b></p>
<p><b>communication.  </b></p>
<p>Rationale: Cyclic redundancy codes (CRC) provide a specified hamming distance given a </p>
<p>polynomial and data block size. </p>
<p>Cryptographic hash functions provide a probabilistic statement on data corruption </p>
<p>detection depending on the hash function, data block size and hash value size. </p>
<p>MICROSAR Safe Feature: The Cryptographic Service Manager of MICROSAR Safe is </p>
<p>implemented according to the methods for ASIL D required by ISO 26262. </p>
<p>The Cryptographic Service Manager services the main function and functions to calculate </p>
<p>a cryptographic hash function according to AUTOSAR specification. </p>
<p><b>1.2.1.8.2 Intra ECU communication</b></p>
<p><b> </b></p>
<p><b>1.2.1.8.2.1 Intra OS application communication</b></p>
<p><b> </b></p>
<p><b>TSR-16 The microcontroller software shall communicate within its applications.  </b></p>
<p>Rationale: Software components need to communicate. </p>
<p>Protection of the memory against random hardware faults is expected by the system (e.g. </p>
<p>via ECC RAM and lock-step mode). </p>
<p>MICROSAR Safe Feature: The RTE provides services to allow communication of software </p>
<p>components within OS applications (intra-partition communication). </p>
<p><b>1.2.1.8.2.2 Inter OS application communication</b></p>
<p><b> </b></p>
<p><b>TSR-12 The microcontroller software shall communicate between its applications.  </b></p>
<p>Rationale: Multi-core systems may need to exchange safety-related information between </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>18 / 103 </p>
<p>applications. </p>
<p>Protection of the memory against random hardware faults is expected by the system (e.g. </p>
<p>via ECC RAM and lock-step mode). </p>
<p>MICROSAR Safe Feature: The operating system of MICROSAR Safe implements the </p>
<p>inter-OS application (IOS) functionality according to the methods for ASIL D required by </p>
<p>ISO 26262. </p>
<p>The RTE provides services to allow communication between OS applications (inter-</p>
<p>partition communication). </p>
<p><b>1.2.1.9 Watchdog services </b></p>
<p><b>1.2.1.9.1 Program flow monitoring</b></p>
<p><b> </b></p>
<p><b>TSR-13 The system shall provide a mechanism to detect faults in program flow.  </b></p>
<p>Rationale. Program flow can be corrupted by random hardware faults or software faults. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe watchdog stack implements program flow </p>
<p>monitoring functionality according to the methods for ASIL D required by ISO 26262. </p>
<p><b>1.2.1.9.2 Alive monitoring</b></p>
<p><b> </b></p>
<p><b>TSR-14 The system shall provide a mechanism to detect stuck software.  </b></p>
<p>Rationale: Alive monitoring is used to reset the software or controller in case it is </p>
<p>unresponsive. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe watchdog stack implements alive monitoring </p>
<p>functionality according to the methods for ASIL D required by ISO 26262. </p>
<p><b>1.2.1.9.3 Deadline monitoring</b></p>
<p><b> </b></p>
<p><b>TSR-15 The system shall provide a mechanism to detect deadline violations.  </b></p>
<p>Rationale: Deadline monitoring using the watchdog stack can be used to implement timing </p>
<p>monitoring. </p>
<p>MICROSAR Safe Feature: MICROSAR Safe watchdog stack implements deadline </p>
<p>monitoring functionality according to the methods for ASIL D required by ISO 26262. </p>
<p><b>1.2.1.10 Peripheral in- and output </b></p>
<p><b>1.2.1.10.1 Peripheral input</b></p>
<p><b> </b></p>
<p><b>TSR-17 The system shall read input values from peripheral devices.  </b></p>
<p>Rationale: In- and output is the most common use case for safety mechanisms. </p>
<p>Some MCAL manufacturers call this feature safe acquisition. </p>
<p>MICROSAR Safe Feature: MCAL components used for peripheral access are usually not </p>
<p>developed by Vector. DIO and SPI drivers provided by Vector support the input as safety </p>
<p>feature. </p>
<p><b>1.2.1.10.2 Peripheral output</b></p>
<p><b> </b></p>
<p><b>TSR-18 The system shall write output values to peripheral devices.  </b></p>
<p>Rationale: In- and output is the most common use case for safety mechanisms. </p>
<p>Some MCAL manufacturers call this feature safe actuation. </p>
<p>MICROSAR Safe Feature: MCAL components used for peripheral access are usually not </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>19 / 103 </p>
<p>developed by Vector. DIO and SPI drivers provided by Vector support the output as safety </p>
<p>feature (to trigger external watchdogs or switch actuation paths). </p>
<p><b>1.2.2 Environment</b></p>
<p><b> </b></p>
<p><b>1.2.2.1 Safety Concept </b></p>
<p>SMI-14 </p>
<p><b>The user of MICROSAR Safe shall be responsible for the functional safety concept. </b></p>
<p>The overall functional safety concept is in the responsibility of the user of MICROSAR </p>
<p>Safe. MICROSAR Safe can only provide parts that can be used to implement the </p>
<p>functional safety concept of the item. </p>
<p>It is also the responsibility of the user of MICROSAR Safe to configure MICROSAR Safe </p>
<p>as intended by the user's safety concept.  </p>
<p>The safety concept shall only rely on safety features explicitly described in this safety </p>
<p>manual. If a component from MICROSAR Safe does not explicitly describe safety features </p>
<p>in this safety manual, this component has been developed according to the methods for </p>
<p>ASIL D to provide coexistence with other ASIL components.  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Example: NvM provides safety features for writing and reading of data, the lower </p>
<p>layers, i.e. MemIf, Ea, Fee and drivers, only provide the ASIL for coexistence. </p>
<p>The safety concept shall <b>not </b>rely on functionality that is <b>not </b>explicitly described as safety </p>
<p>feature in this safety manual. This functionality may fail silently in case of a detected fault.  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Example: If a potential out-of-bounds memory access, e.g. due to invalid input or </p>
<p>misconfiguration, is detected the requested function will not be performed. An error via </p>
<p>DET is only reported if error reporting is enabled. </p>
<p>SMI-1 </p>
<p><b>The user of MICROSAR Safe shall adequately address hardware faults. </b></p>
<p>The components of MICROSAR Safe can support in the detection and handling of some </p>
<p>hardware faults (e.g. using watchdog). </p>
<p>MICROSAR Safe does not provide redundant data storage. </p>
<p>The user of MICROSAR Safe especially has to address faults in volatile random access </p>
<p>memory, non-volatile memory, e.g. flash or EEPROM, and the CPU. </p>
<p>MICROSAR Safe relies on the adequate detection of faults in memory and the CPU by </p>
<p>other means, e.g. hardware. Thus, Vector recommends using lock-step CPUs together </p>
<p>with ECC memory. </p>
<p>See also SMI-14. </p>
<p>SMI-10 </p>
<p><b>The user of MICROSAR Safe shall ensure that the reset or powerless state is a safe </b></p>
<p><b>state of the system. </b></p>
<p>This assumption is added to this Safety Manual, because it is used in Vector's safety </p>
<p>analyses and development process. </p>
<p>SMI-20 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>20 / 103 </p>
<p><b>The user of MICROSAR Safe shall implement a timing monitoring using e.g. a </b></p>
<p><b>watchdog. </b></p>
<p>The components of MICROSAR Safe do not provide mechanisms to monitor their own </p>
<p>timing behavior. </p>
<p>The watchdog stack that is part of MICROSAR Safe can be used to fulfill this assumption. </p>
<p>If the functional safety concept also requires a logic monitoring, The watchdog stack that is </p>
<p>part of MICROSAR Safe can be used to implement it. </p>
<p>The watchdog is one way to perform timing monitoring. Today the watchdog is the most </p>
<p>common approach. In future there may be different approaches e.g. by monitoring using a </p>
<p>different ECU. </p>
<p>See also SMI-14. </p>
<p>SMI-98 </p>
<p><b>The user of MICROSAR Safe shall ensure an end-to-end protection for safety-related </b></p>
<p><b>communication between ECUs. </b></p>
<p>The communication components of MICROSAR Safe do not assume sending or receiving </p>
<p>as a safety requirement, because considered faults can only be detected using additional </p>
<p>information like a cycle counter. Vector always assumes that an end-to-end protection or </p>
<p>equivalent mechanism is implemented on application level. </p>
<p>Considered faults in communication are: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Failure of communication peer  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Message masquerading  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Message corruption </p>
<p><b></b></p>
<p><b> </b></p>
<p>Unintended message repetition  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Insertion of messages  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Re-sequencing  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Message loss  </p>
<p><b></b></p>
<p><b> </b></p>
<p>Message delay </p>
<p>This requirement can be fulfilled by e.g. using the end-to-end protection wrapper for safety </p>
<p>related communication. </p>
<p>SMI-11 </p>
<p><b>The user of MICROSAR Safe shall ensure data consistency for its application. </b></p>
<p>Data consistency is not automatically provided when using MICROSAR Safe. MICROSAR </p>
<p>Safe only provides services to support enforcement of data consistency. Their application </p>
<p>is in the responsibility of the user of MICROSAR Safe. </p>
<p>To ensure data consistency in an application, critical sections need to be identified and </p>
<p>protected. </p>
<p>To identify critical sections in the code, e.g. review or static code analysis can be used. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>21 / 103 </p>
<p>To protect critical sections, e.g. the services to disable and enable interrupts provided by </p>
<p>the MICROSAR Safe operating system can be used. </p>
<p>To verify correctly implemented protection, e.g. stress testing or review can be used. </p>
<p>Note the AUTOSAR specification with respect to nesting and sequence of calls to interrupt </p>
<p>enabling and disabling functions. </p>
<p>See also TSR-101876. </p>
<p><b>1.2.2.2 Use of MICROSAR Safe Components </b></p>
<p>SMI-2 </p>
<p><b>The user of MICROSAR Safe shall adequately select the type definitions to reflect </b></p>
<p><b>the hardware platform and compiler environment. </b></p>
<p>The user of MICROSAR Safe is responsible for selecting the correct platform types </p>
<p>(PlatformTypes.h) and compiler abstraction (Compiler.h). Especially the size of the </p>
<p>predefined types must match the target environment. </p>
<p>Example: A uint32 must be mapped to an unsigned integer type with a size of 32 bits. </p>
<p>The user of MICROSAR Safe can use the platform types provided by Vector. Vector has </p>
<p>created and verified the platform types mapping according to the information provided by </p>
<p>the user of MICROSAR Safe. </p>
<p>SMI-12 </p>
<p><b>The user of MICROSAR Safe shall initialize all components of MICROSAR Safe prior </b></p>
<p><b>to using them. </b></p>
<p>This constraint is required by AUTOSAR anyway. It is added to this Safety Manual, </p>
<p>because Vector assumes initialized components in its safety analyses and development </p>
<p>process. </p>
<p>Correct initialization can be verified, e.g. during integration testing. </p>
<p>SMI-16 </p>
<p><b>The user of MICROSAR Safe shall only pass valid pointers at all interfaces to </b></p>
<p><b>MICROSAR Safe components. </b></p>
<p>Plausibility checks on pointers are performed by MICROSAR Safe (see also SMI-18), but </p>
<p>they are limited. MICROSAR Safe components potentially use provided pointers to write to </p>
<p>the location in memory. </p>
<p>Also the length and pointer of a buffer provided to a MICROSAR Safe component need to </p>
<p>be consistent. </p>
<p>This assumption also applies to QM as well as ASIL components. </p>
<p>This can e.g. be verified using static code analysis tools, reviews and integration testing. </p>
<p>SMI-18 </p>
<p><b>The user of MICROSAR Safe shall enable plausibility checks for the MICROSAR </b></p>
<p><b>Safe components. </b></p>
<p>This setting is necessary to introduce defensive programming and increase robustness at </p>
<p>the interfaces as required by ISO 26262. </p>
<p>This setting can be found at /MICROSAR/EcuC/EcucGeneral/EcuCSafeBswChecks in the </p>
<p>DaVinci Configurator. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>22 / 103 </p>
<p>This setting is enforced by an MSSV plug-in. </p>
<p>This setting does not enable error reporting to the DET component. </p>
<p>SMI-1725 </p>
<p><b>The user of MICROSAR Safe shall configure and use the interrupt system correctly. </b></p>
<p>The user of MICROSAR Safe is responsible for a correct and consistent configuration and </p>
<p>usage of the interrupt system. </p>
<p>Especially the following topics shall be verified: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Consistent configuration of interrupt category, level and priority in OS and MCAL </p>
<p>modules </p>
<p><b></b></p>
<p><b> </b></p>
<p>Correct assignment of logical channels/instances to interrupt vectors in case of MCAL </p>
<p>modules with multiple channels/instances </p>
<p><b></b></p>
<p><b> </b></p>
<p>The interrupt controller is configured in a mode which processes interrupts of the same </p>
<p>level sequentially to avoid unbounded interrupt nesting </p>
<p><b>1.2.2.3 Partitioning </b></p>
<p>SMI-9 </p>
<p><b>The user of MICROSAR Safe shall ensure that for one AUTOSAR functional cluster </b></p>
<p><b>(e.g. System Services, Operating System, CAN, COM, etc.) only components from </b></p>
<p><b>Vector are used. </b></p>
<p>This assumption is required because of dependencies within the development process of </p>
<p>Vector. </p>
<p>This assumption does not apply to the MCAL or the EXT cluster. </p>
<p>Vector may have requirements on MCAL or EXT components depending on the upper </p>
<p>layers that are used and provided by Vector. For example, the watchdog driver is </p>
<p>considered to have safety requirements allocated to its initialization and triggering </p>
<p>services. Details are described in the component specific parts of this safety manual. </p>
<p>This assumption does not apply to components that are not provided by Vector. </p>
<p>In case the partitioning solution is used, this assumption only partially applies to the </p>
<p>System Services cluster. Only the Watchdog Manager and Watchdog Interface need to be </p>
<p>used from Vector then, because the Watchdog Manager and Watchdog Interface will be </p>
<p>placed in separate memory partitions apart from the other System Services components. </p>
<p>SMI-32 </p>
<p><b>The user of MICROSAR Safe shall provide an argument for coexistence for software </b></p>
<p><b>that resides in the same partition as components from MICROSAR Safe. </b></p>
<p>Vector considers an ISO 26262-compliant development process for the software as an </p>
<p>argument for coexistence (see [1] Part 9 Clause 6). Vector assumes that especially </p>
<p>freedom from interference with respect to memory is provided by an ISO 26262-compliant </p>
<p>development process. </p>
<p>Redundant data storage as the only measure by the other software is not considered a </p>
<p>sufficient measure. </p>
<p>If ASIL components provided by Vector are used, this requirement is fulfilled. </p>
<p>In general Vector components do not implement methods to interface with other software </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>23 / 103 </p>
<p>(e.g. components, hooks, callouts) in other partitions. They assume that all interfacing </p>
<p>components reside in the same partition. Interfacing components are described in the </p>
<p>respective technical reference. </p>
<p>If an argument for coexistence cannot be provided, other means of separation have to be </p>
<p>implemented (e.g. trusted or non-trusted function calls). </p>
<p>SMI-99 </p>
<p><b>The user of MICROSAR Safe shall verify that the memory mapping is consistent </b></p>
<p><b>with the partitioning concept.  </b></p>
<p>The volatile data of every component shall be placed in the associated memory partition. </p>
<p>This can be verified e.g. by review of the linker map file. </p>
<p>The memory sections for each component placed in RAM can be identified </p>
<p>&lt;MIP&gt;_START_SEC_VAR[_&lt;xxx&gt;], where &lt;MIP&gt; is the Module Implementation Prefix of </p>
<p>the component. </p>
<p><b>1.2.2.4 Resources </b></p>
<p>SMI-33 </p>
<p><b>The user of MICROSAR Safe shall provide sufficient resources in RAM, ROM, stack </b></p>
<p><b>and CPU runtime for MICROSAR Safe. </b></p>
<p>Selection of the microcontroller and memory capacities as well as dimensioning of the </p>
<p>stacks is in the responsibility of the user of MICROSAR Safe. </p>
<p>If MICROSAR Safe components have specific requirements, these are documented in the </p>
<p>respective Technical Reference document. </p>
<p><b>1.2.3 Process</b></p>
<p><b> </b></p>
<p>SMI-15 </p>
<p><b>The user of MICROSAR Safe shall follow the instructions of the corresponding </b></p>
<p><b>Technical Reference of the components. </b></p>
<p>Especially deviations from AUTOSAR specifications are described in the Technical </p>
<p>References. </p>
<p>If there are constraints for the implementation of an exclusive area, these are described in </p>
<p>the Technical References. </p>
<p>SMI-5 </p>
<p><b>The user of MICROSAR Safe shall verify all code that is modified during integration </b></p>
<p><b>of MICROSAR Safe. </b></p>
<p>Code that is typically modified by the user of MICROSAR Safe during integration </p>
<p>comprises generated templates, hooks, callouts, or similar. </p>
<p>This assumption also applies if interfaces between components are looped through user-</p>
<p>defined functions. </p>
<p>Vector assumes that this verification also covers ISO 26262:6-9. Vector assumes that </p>
<p>modified code that belongs to a Vector component, e.g. EcuM callouts or OS trace hooks </p>
<p>can at least coexist with this component, because no separation in memory or time is </p>
<p>implemented. </p>
<p>Example: Callouts of the EcuM are executed in the context of the EcuM. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>24 / 103 </p>
<p>Non-trusted functions provided by the Vector operating system can be used to implement </p>
<p>a separation in memory in code modified by the user of MICROSAR Safe. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>SMI-30 </p>
<p><b>The user of MICROSAR Safe shall only modify source code of MICRSAR Safe that is </b></p>
<p><b>explicitly allowed to be changed. </b></p>
<p>Usually no source code of MICROSAR Safe is allowed to be changed by the user of </p>
<p>MICROSAR Safe. </p>
<p>The user of MICROSAR Safe can check if the source code was modified by e.g, </p>
<p>comparing it to the original delivery.  </p>
<p>SMI-8 </p>
<p><b>The user of MICROSAR Safe shall verify generated functions according to ISO </b></p>
<p><b>26262:6-9. </b></p>
<p>Generated functions can be identified when searching through the generated code. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>An example of generated functions is the configured rules of the Basic Software Manager </p>
<p>(BSWM). Their correctness can only be verified by the user of MICROSAR Safe. Please </p>
<p>note, however, that BSWM does not provide safety features. </p>
<p>This requirement does not apply to MICROSAR SafeRTE. </p>
<p>SMI-19 </p>
<p><b>The user of MICROSAR Safe shall execute the MICROSAR Safe Silence Verifier </b></p>
<p><b>(MSSV). </b></p>
<p>MSSV is used to detect potential out-of-bounds accesses by Vector's basic software based </p>
<p>on inconsistent configuration. </p>
<p>Details on the required command line arguments and integration into the tool chain can be </p>
<p>found in [4]. </p>
<p>If the report shows “Overall Check Result: Fail&quot;, please contact the Safety Manager at </p>
<p>Vector. See the Product Information MICROSAR Safe for contact details. </p>
<p>SMI-4 </p>
<p><b>The user of MICROSAR Safe shall perform the integration (ISO 26262:6-10) and </b></p>
<p><b>verification (ISO 26262:6-11) processes as required by ISO 26262. </b></p>
<p>Especially the safety mechanisms must be verified in the final target ECU. </p>
<p>Vector assumes that by performing the integration and verification processes as required </p>
<p>by ISO 26262 the generated configuration data, e.g. data tables, task priorities or PDU </p>
<p>handles, are sufficiently checked. An additional review of the configuration data is then </p>
<p>considered not necessary. </p>
<p>Integration does not apply to a MICROSAR Safe component that consists of several </p>
<p>subcomponents. This integration is already performed by Vector. The integration of </p>
<p>subcomponents is validated during creation of the safety case by Vector based on the </p>
<p>configuration handed in by the user of MICROSAR Safe. </p>
<p>However, integration of all MICROSAR Safe components in the specific use-case of the </p>
<p>user of MICROSAR Safe is the responsibility of the user of MICROSAR Safe. This also </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>25 / 103 </p>
<p>includes the hardware-software integration in the context of the target ECU. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>SMI-100 </p>
<p><b>The user of MICROSAR Safe shall ensure that a consistent set of generated </b></p>
<p><b>configuration is used for verification and production.  </b></p>
<p>Make sure that the same generated files are used for testing and production code, i.e. be </p>
<p>aware that configuration can be changed without generating the code again. </p>
<p>Make sure that all generated files have the same configuration basis, i.e. always generate </p>
<p>the MICROSAR Safe configuration for all components for a relevant release of the ECU </p>
<p>software. </p>
<p>The use of post build loadable is supported but not recommended by Vector. </p>
<p>SMI-176 </p>
<p><b>The user of MICROSAR Safe shall verify the integrity of the delivery by Vector.  </b></p>
<p>Run the SIPModificationChecker.exe and verify that the source code, BSWMD and safety </p>
<p>manual files are unchanged. </p>
<p>SMI-31 </p>
<p><b>The user of MICROSAR Safe shall verify the consistency of the binary downloaded </b></p>
<p><b>into the ECU's flash memory. </b></p>
<p>This also includes re-programming of flash memory via a diagnostics service. The </p>
<p>consistency of the downloaded binary can be checked by the bootloader or the application. </p>
<p>MICROSAR Safe assumes a correct program image.  </p>
<p>SMI-3 </p>
<p><b>The user of MICROSAR Safe shall evaluate all tools (incl. compiler) that are used by </b></p>
<p><b>the user of MICROSAR Safe according to ISO 26262:8-11. </b></p>
<p>Evaluation especially has to be performed for the compiler, linker, debugging and test </p>
<p>tools. </p>
<p>Vector provides a guideline for the evaluation of the Tool Confidence Level (TCL) for the </p>
<p>tools provided by Vector (e.g. DaVinci Configurator). </p>
<p>Vector has evaluated the tools exclusively used by Vector during the development of </p>
<p>MICROSAR Safe. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>26 / 103 </p>
<p><b>2 Safety Manual BswM</b></p>
<p><b> </b></p>
<p><b>2.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>2.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-3528 </p>
<p>The user of MICROSAR Safe shall configure the following attribute: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set <i>/MICROSAR/BswM/BswMGeneral/BswMEthIfEnabled </i>to <i>FALSE</i>. </p>
<p>This setting is enforced by an MSSV plugin. </p>
<p>SMI-3529 </p>
<p>The user of MICROSAR Safe shall assert the following preprocessor define: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>BSWM_CC_POWER_SOURCES </i>is not defined in <i>BswM_Cfg.h</i>. </p>
<p>This setting is enforced by an MSSV plugin. </p>
<p><b>2.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>2.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>2.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>27 / 103 </p>
<p><b>3 Safety Manual CanIf</b></p>
<p><b> </b></p>
<p><b>3.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>3.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-348 </p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/CanIf/CanIfPrivateCfg/CanIfOptimizeOneController to FALSE. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/CanIf/CanIfPublicCfg/CanIfJ1939DynAddrSupport to DISABLED. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/CanIf/CanIfPrivateCfg/CanIfDataChecksumTxSupport to FALSE </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/CanIf/CanIfPrivateCfg/CanIfDataChecksumRxSupport to FALSE </p>
<p>These settings are enforced by a MSSV plugin. </p>
<p><b>3.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-349 </p>
<p>The user of MICROSAR Safe shall verify for each entry of table </p>
<p>CanIf_RxIndicationFctList</p>
<p> that the signature of the function referred by member </p>
<p>RxIndicationFct</p>
<p> matches the expected signature that is selected the value of the member </p>
<p>RxIndicationLayout</p>
<p>. </p>
<p>The table </p>
<p>CanIf_RxIndicationFctList</p>
<p> can be found in CanIf_Lcfg.c. </p>
<p>The following table lists the expected signatures. The placeholder </p>
<p>&lt;name&gt;</p>
<p> represents the </p>
<p>function's name: </p>
<p><b>Value of RxIndicationLayout</b></p>
<p><b> </b></p>
<p><b>Signature of the function referred by </b></p>
<p><b>RxIndicationFct </b></p>
<p><b> </b></p>
<p>CanIf_SimpleRxIndicationLayout</p>
<p> </p>
<p>void &lt;name&gt;(PduIdType CanRxPduId, const </p>
<p>uint8* CanSduPtr)</p>
<p> </p>
<p>CanIf_AdvancedRxIndicationLayout</p>
<p> </p>
<p>void &lt;name&gt;(PduIdType CanRxPduId, const </p>
<p>PduInfoType* PduInfoPtr)</p>
<p> </p>
<p>CanIf_NmOsekRxIndicationLayout</p>
<p> </p>
<p>void &lt;name&gt;(PduIdType CanRxPduId, const </p>
<p>uint8* CanSduPtr, Can_IdType CanId)</p>
<p> </p>
<p> </p>
<p>SMI-350 </p>
<p>The user of MICROSAR Safe shall verify for each entry of table </p>
<p>CanIf_TxConfirmationFctList</p>
<p> that function referred by member </p>
<p>TxConfirmationFctList</p>
<p> </p>
<p>has the following signature (the placeholder </p>
<p>&lt;name&gt;</p>
<p> represents the function's name): </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>28 / 103 </p>
<p>void &lt;name&gt;(PduIdType CanTxPduId)</p>
<p> </p>
<p>The table </p>
<p>CanIf_TxConfirmationList</p>
<p> can be found in CanIf_Lcfg.c. </p>
<p>SMI-746 </p>
<p>The user of MICROSAR Safe shall verify for each callback function listed in the following </p>
<p>table that the signature of the function matches the expected signature. </p>
<p>All callback functions can be found in file CanIf_Lcfg.c. Please note that depending on </p>
<p>configuration you must verify only the provided ones. </p>
<p><b>Callback function</b></p>
<p><b> </b></p>
<p><b>Expected signature of the function</b></p>
<p><b> </b></p>
<p>CanIf_BusOffNotificationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>ControllerId)</p>
<p> </p>
<p>CanIf_CtrlModeIndicationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>ControllerId, </p>
<p>CanIf_ControllerModeType </p>
<p>ControllerMode)</p>
<p> </p>
<p>CanIf_TrcvModeIndicationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>TransceiverId, </p>
<p>CanTrcv_TrcvModeType </p>
<p>TransceiverMode)</p>
<p> </p>
<p>CanIf_ConfirmPnAvailabilityFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>TransceiverId)</p>
<p> </p>
<p>CanIf_ClearTrcvWufFlagIndicationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>TransceiverId)</p>
<p> </p>
<p>CanIf_CheckTrcvWakeFlagIndicationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>TransceiverId)</p>
<p> </p>
<p>CanIf_WakeUpValidationFctPtr</p>
<p> </p>
<p>void &lt;name&gt; </p>
<p>(EcuM_WakeupSourceType </p>
<p>CanWakeupEvents)</p>
<p> </p>
<p>CanIf_RamCheckCorruptControllerIndFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>ControllerId)</p>
<p> </p>
<p>CanIf_RamCheckCorruptMailboxIndFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (uint8 </p>
<p>ControllerId, </p>
<p>CanIf_HwHandleType HwHandle)</p>
<p> </p>
<p>CanIf_DataChecksumRxErrFctPtr</p>
<p> </p>
<p>void &lt;name&gt; (PduIdType </p>
<p>CanIfRxPduId)</p>
<p> </p>
<p> </p>
<p><b>3.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>3.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>29 / 103 </p>
<p><b>4 Safety Manual CanNm</b></p>
<p><b> </b></p>
<p><b>4.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>4.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>4.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-326 </p>
<p>The user of MICROSAR Safe shall verify that the pointer (<i>nmUserDataPtr</i>) passed to the </p>
<p>function <i>CanNm_GetUserData </i>references a valid memory location and that the size of the </p>
<p>array referenced by parameter <i>nmUserDataPtr </i>is greater or equal to </p>
<p><i>CanNm_GetRxMessageData_UserDataLengthOfPbChannelConfig(channel)</i>. </p>
<p>This function is called by the application via the <i>Nm_GetUserData </i>function of the Nm. This </p>
<p>interface only passes a pointer without a length. The length is statically configured in the </p>
<p>CanNm for each channel. </p>
<p>SMI-327 </p>
<p>The user of MICROSAR Safe shall verify that the pointer (<i>nmPduDataPtr</i>) passed to the </p>
<p>function <i>CanNm_GetPduData </i>references a valid memory location and that the size of the </p>
<p>array referenced by parameter <i>nmPduDataPtr </i>is greater or equal to </p>
<p><i>CanNm_GetRxMessageDataLengthOfPbChannelConfig(channel)</i>. </p>
<p>This function is called by the application via the <i>Nm_GetPduData </i>function of the Nm. This </p>
<p>interface only passes a pointer without a length. The length is statically configured in the </p>
<p>CanNm for each channel. </p>
<p><b>4.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>4.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>30 / 103 </p>
<p><b>5 Safety Manual CanSM</b></p>
<p><b> </b></p>
<p><b>5.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>5.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>5.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-389 </p>
<p>The user of MICROSAR Safe shall verify that only existing functions with the correct </p>
<p>prototype are referred by the following function pointers. </p>
<p><b></b></p>
<p><b> </b></p>
<p>The following function pointer is generated only if the attribute </p>
<p><i>/MICROSAR/CanSM/CanSMGeneral/CanSMBusOffBegin </i>is configured to an non-</p>
<p>empty value: </p>
<p>- CanSM_BusOffBeginIndicationFctPtr </p>
<p><b></b></p>
<p><b> </b></p>
<p>The following function pointer is generated only if </p>
<p><i>/MICROSAR/CanSM/CanSMGeneral/CanSMBusOffEnd </i>is configured to an non-empty </p>
<p>value: </p>
<p>- CanSM_BusOffEndIndicationFctPtr </p>
<p><b></b></p>
<p><b> </b></p>
<p>The following function pointer is generated only if </p>
<p><i>/MICROSAR/CanSM/CanSMGeneral/CanSMTxTimeoutEnd </i>is configured to an non-</p>
<p>empty value: </p>
<p>- CanSM_TxTimeoutExceptionEndIndicationFctPtr </p>
<p>The function pointers shall especially not contain NULL pointers nor numeric values of </p>
<p>memory addresses. </p>
<p>All function pointers can be found in <i>CanSM_Lcfg.c</i>. The function prototypes can be found </p>
<p>in <i>CanSM_Cfg.h</i>. </p>
<p><b>5.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>5.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>31 / 103 </p>
<p><b>6 Safety Manual CanTp</b></p>
<p><b> </b></p>
<p><b>6.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>6.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-2119 </p>
<p>The user of MICROSAR Safe shall configure the following: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/CanTp/CanTpGeneral/CanTpOptimizeSingleRxBuffer to FALSE. </p>
<p><b></b></p>
<p><b> </b></p>
<p>At least one /MICROSAR/CanTp/CanTpConfig/CanTpChannel/CanTpRxNSdu </p>
<p>container </p>
<p><b></b></p>
<p><b> </b></p>
<p>At least one /MICROSAR/CanTp/CanTpConfig/CanTpChannel/CanTpTxNSdu </p>
<p>container </p>
<p>These settings are enforced by an MSSV plugin. </p>
<p><b>6.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>6.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>6.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>6.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>SMI-386 </p>
<p>This component requires coexistence with PduR, EcuM, SchM, CanIf and Det components </p>
<p>if the interface for those components is configured. </p>
<p><b>6.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>32 / 103 </p>
<p><b>7 Safety Manual CanTrcv</b></p>
<p><b> </b></p>
<p><b>7.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>7.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>7.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>7.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>7.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The dependencies of this component to hardware is described in the platform specific part </p>
<p>of the Safety Manual. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>33 / 103 </p>
<p><b>8 Safety Manual CanTrcv (Tja1043)</b></p>
<p><b> </b></p>
<p><b>8.1 Safety features</b></p>
<p><b> </b></p>
<p>No additional safety features are provided. </p>
<p><b>8.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have additional configuration constraints. </p>
<p><b>8.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>No additional verification measures are required. </p>
<p><b>8.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>No additional safety features are required from other components. </p>
<p><b>8.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. A hardware abstraction (Dio </p>
<p>driver) is used to access the transceiver hardware. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>34 / 103 </p>
<p><b>9 Safety Manual Com</b></p>
<p><b> </b></p>
<p><b>9.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>9.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-314 </p>
<p>The user of MICROSAR Safe shall configure the following parameters: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/Com/ComGeneral/ComReceiveSignalMacroAPI to FALSE. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/Com/ComGeneral/ComMetaDataSupport to FALSE. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/Com/ComGeneral/ComDescriptionRoutingCodeGeneration to </p>
<p>FALSE. </p>
<p>This setting is enforced by a MSSV plugin. </p>
<p>SMI-315 </p>
<p>The user of MICROSAR Safe shall configure the following: </p>
<p>A container in /MICROSAR/PduR/PduRBswModules with a reference </p>
<p>(/MICROSAR/PduR/PduRBswModules/PduRBswModuleRef) to /ActiveEcuC/Com and </p>
<p>shall set the following parameters: </p>
<p><b></b></p>
<p><b> </b></p>
<p>/MICROSAR/PduR/PduRBswModules/PduRCommunicationInterface to TRUE </p>
<p><b></b></p>
<p><b> </b></p>
<p>/MICROSAR/PduR/PduRBswModules/PduRTransportProtocol to FALSE  </p>
<p><b></b></p>
<p><b> </b></p>
<p>/MICROSAR/PduR/PduRBswModules/PduRCancelTransmit to FALSE </p>
<p>This setting is enforced by a MSSV plugin. </p>
<p><b>9.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-1104 </p>
<p>The user of MICROSAR Safe shall verify that the </p>
<p>SignalDataPtr</p>
<p> passed to </p>
<p>Com_ReceiveSignal</p>
<p> and </p>
<p>Com_ReceiveShadowSignal</p>
<p> points to a valid buffer which matches </p>
<p>the configured /MICROSAR/Com/ComConfig/ComSignal/ComSignalType or </p>
<p>/MICROSAR/Com/ComConfig/ComGroupSignal/ComSignalType. In case of the </p>
<p>ComSignalType UINT8_N the caller must ensure that the array size matches to the </p>
<p>configured /MICROSAR/Com/ComConfig/ComSignal/ComSignalLength or </p>
<p>/MICROSAR/Com/ComConfig/ComGroupSignal/ComSignalLength. </p>
<p>This can be verified by comparing the type of the pointer passed to </p>
<p>SignalDataPtr</p>
<p> to the </p>
<p>ApplType</p>
<p> returned by </p>
<p>Com_GetApplTypeOfRxAccessInfo(Index)</p>
<p>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>35 / 103 </p>
<p>If the </p>
<p>ApplType</p>
<p> is set to </p>
<p>COM_UINT8_N_APPLTYPEOFRXACCESSINFO</p>
<p> additionally verify that the </p>
<p>value of </p>
<p>Com_GetRxSigBufferArrayBasedBufferLengthOfRxAccessInfo(Index)</p>
<p> is less or </p>
<p>equal to the size (in bytes) of the array passed to </p>
<p>SignalDataPtr</p>
<p>. </p>
<p>The parameter of the macros </p>
<p>Com_GetApplTypeOfRxAccessInfo(Index)</p>
<p> and </p>
<p>Com_GetRxSigBufferArrayBasedBufferLengthOfRxAccessInfo(Index)</p>
<p> is the </p>
<p>SignalId</p>
<p> and </p>
<p>can be found in the generated header files.  </p>
<p><b>9.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>9.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>36 / 103 </p>
<p><b>10 Safety Manual ComM</b></p>
<p><b> </b></p>
<p><b>10.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>10.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>10.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>SMI-94 </p>
<p>The user of MICROSAR Safe shall verify that the array size generated by ComM matches </p>
<p>to the array size in the type definition of RTE. The following procedure shall be applied to </p>
<p>each channel that has activated the ComM parameter 'Full Comm Request Notification </p>
<p>Enabled'. </p>
<p> </p>
<p>ComM_Cfg.h contains array size definition in the format </p>
<p>COMM_MAX_CR_&lt;ShortNameOfChannel&gt; </p>
<p> </p>
<p>rte_type.h contains the definition of the corresponding structure type in the format </p>
<p>ComM_UserHandleArrayType_&lt;ShortNameOfChannel&gt; </p>
<p> </p>
<p>Verify that the structure member 'handleArray' has the same size as the corresponding </p>
<p>define value of ComM in 1). </p>
<p> </p>
<p>Verify the content of the generated functions ComM_CurrentChannelRequestInit and </p>
<p>ComM_CurrentChannelRequestNotification to ensure that the proper define </p>
<p>COMM_MAX_CR_&lt;ShortNameOfChannel&gt; is used to limit the array index when </p>
<p>writing to ComM_UserHandleArrayType_&lt;ShortNameOfChannel&gt;.handleArray[]. </p>
<p>SMI-95 </p>
<p>The user of MICROSAR Safe shall verify that the value of ComSignalLength (byte) in Com </p>
<p>module is smaller or equal to the value of COMM_PNC_SIGNAL_LENGTH (can be found </p>
<p>in ComM_Cfg.h). </p>
<p>This shall be verified for each ComPncSignal referenced by Partial Network Clusters and </p>
<p>having ComMPncComSignalDirection = RX. </p>
<p>SMI-1046 </p>
<p>The user of MICROSAR Safe shall verify that each element of table </p>
<p>ComM_UserModeNotiFunc</p>
<p> refers either a </p>
<p>NULL_PTR</p>
<p> or a function that has the following </p>
<p>signature (the placeholder </p>
<p>&lt;name&gt;</p>
<p> represents the function's name): </p>
<p>Std_ReturnType &lt;name&gt;(uint8 nextMode)</p>
<p> </p>
<p>The table </p>
<p>ComM_UserModeNotiFunc</p>
<p> can be found in ComM_Lcfg.c. This measure is only </p>
<p>needed if at least one ComM user has enabled the parameter 'User Mode Notification'. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>37 / 103 </p>
<p><b>10.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>10.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>38 / 103 </p>
<p><b>11 Safety Manual Crc</b></p>
<p><b> </b></p>
<p><b>11.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-344 </p>
<p>Crc provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-858 </p>
<p> </p>
<p>Crc shall provide a service to calculate 8-bit SAE-J1850 CRC.</p>
<p> </p>
<p>CREQ-859 </p>
<p> </p>
<p>Crc shall provide a service to calculate 8-bit 0x2F CRC.</p>
<p> </p>
<p>CREQ-860 </p>
<p> </p>
<p>Crc shall provide a service to calculate 16-bit CCITT CRC.</p>
<p> </p>
<p>CREQ-861 </p>
<p> </p>
<p>Crc shall provide a service to calculate 32-bit IEEE-802.3 CRC.</p>
<p> </p>
<p>CREQ-862 </p>
<p> </p>
<p>Crc shall provide a service to calculate 32-bit E2E Profile 4 CRC.</p>
<p> </p>
<p> </p>
<p><b>11.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component has no configuration constraints. </p>
<p><b>11.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-49 </p>
<p>The user of MICROSAR Safe shall verify that the CRC is calculated for the intended data. </p>
<p>This includes the intended buffer and its size (see also SMI-16), start value and if it is the </p>
<p>first call to the service. </p>
<p>Verification can be performed by the &quot;magic check&quot; (see AUTOSAR SWS Crc). </p>
<p>If Crc is used by a MICROSAR Safe component (e.g. E2E, NvM), this requirement is </p>
<p>fulfilled for the MICROSAR Safe component. </p>
<p><b>11.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>11.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>11.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>This component does not require coexistence with other components. </p>
<p>It is assumed that the user of Crc has the adequate ASIL. </p>
<p><b>11.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>39 / 103 </p>
<p><b>12 Safety Manual Csm</b></p>
<p><b> </b></p>
<p><b>12.1 Safety Features</b></p>
<p><b> </b></p>
<p>SMI-47 </p>
<p>Csm provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-330 </p>
<p> </p>
<p>Csm shall provide services to compute hash functions.</p>
<p> </p>
<p>CREQ-331 </p>
<p> </p>
<p>Csm shall provide services to compute MAC functions.</p>
<p> </p>
<p>CREQ-1252 </p>
<p> </p>
<p>Csm shall provide services to verify MAC functions.</p>
<p> </p>
<p>Note: It is assumed that cryptographic algorithms yield different results for different input </p>
<p>parameters. </p>
<p><b>12.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>12.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-46 </p>
<p>The user of MICROSAR Safe shall verify that the intended callback functions is called </p>
<p>during integration testing. </p>
<p>This requirement only applies if callback functions are configured. </p>
<p>This requirement only applies if TSR-11 is considered a safety requirement. </p>
<p>SMI-45 </p>
<p>The user of MICROSAR Safe shall verify that the intended Cry service is called during </p>
<p>integration testing. </p>
<p>This requirement only applies if TSR-11 is considered a safety requirement. </p>
<p><b>12.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>12.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-44 </p>
<p>The used Cry shall provide the services to compute hash functions, to compute MAC </p>
<p>functions, to verify MAC functions and to compute checksums over data as safety feature. </p>
<p>This requirement only applies if TSR-11 is considered a safety requirement. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>40 / 103 </p>
<p><b>12.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>41 / 103 </p>
<p><b>13 Safety Manual Dcm</b></p>
<p><b> </b></p>
<p><b>13.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>13.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>13.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>13.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>13.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<p>This component requires exclusive access to the hardware registers of the unit it is </p>
<p>intended to control. See the technical reference for the hardware register names and used </p>
<p>hardware manuals. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>42 / 103 </p>
<p><b>14 Safety Manual Dem</b></p>
<p><b> </b></p>
<p>SMI-2056 </p>
<p>Please note: This version is not fully developed according to ISO 26262 ASIL D. Vector </p>
<p>provides an alternative argument for freedom from interference with respect to memory </p>
<p>though. The Silent methodology developed by Vector has been completely implemented </p>
<p>for this component.  </p>
<p><b>14.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>14.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-2054 </p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set <i>/MICROSAR/Dem/DemGeneral/DemOBDSupport </i>to </p>
<p><i>DEM_OBD_NO_OBD_SUPPORT</i>. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set <i>/MICROSAR/Dem/DemGeneral/DemJ1939Support </i>to <i>FALSE</i>. </p>
<p>These settings are enforced by an MSSV plugin. </p>
<p><b>14.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-2055 </p>
<p>The user of MICROSAR Safe shall verify that tables <i>Dem_Cfg_</i></p>
<p>&lt;CallbackType&gt;</p>
<p> only </p>
<p>contain function pointers matching the signature listed for </p>
<p>&lt;CallbackType&gt;</p>
<p> in the table </p>
<p>below. </p>
<p>If all events use the same callback, some of the tables might be optimized into a constant </p>
<p>access macro <i>Dem_Cfg_Get</i></p>
<p>&lt;CallbackType&gt;</p>
<p>. In that case the respective table does not </p>
<p>exist. Instead, the user of MICROSAR Safe shall verify the validity of the function pointer </p>
<p>returned by the macro <i>Dem_Cfg_Get</i></p>
<p>&lt;CallbackType&gt;</p>
<p>. </p>
<p>The value <i>NULL_PTR </i>is valid for all callback types listed in below table. </p>
<p>The tables are generated into <i>Dem_Lcfg.c</i>. </p>
<p>The macros are generated into <i>Dem_Lcfg.h</i>. </p>
<p>&lt;CallbackType&gt;</p>
<p> represents the entry in column <i>CallbackType </i>from below table. </p>
<p><b>CallbackType</b></p>
<p><b> </b></p>
<p><b>Expected signature of the functions</b></p>
<p><b> </b></p>
<p>CallbackClearEventAllowed</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(boolean *IsAllowed)</p>
<p> </p>
<p>CallbackDtcStatusChanged</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(uint32 DTC, </p>
<p>Dem_DTCStatusMaskType oldStatus, </p>
<p>Dem_DTCStatusMaskType newStatus)</p>
<p> </p>
<p>CallbackGetFdc</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(sint8 *FDC)</p>
<p> </p>
<p>EventDataChanged</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(void)</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>43 / 103 </p>
<p>EventStatusChanged</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dem_EventStatusExtendedType </p>
<p>oldStatus, Dem_EventStatusExtendedType newStatus)</p>
<p> </p>
<p>InitMonitorForEvent</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dem_InitMonitorReasonType  </p>
<p>initReason)</p>
<p> </p>
<p>InitMonitorsForFunc</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(void)</p>
<p> </p>
<p> </p>
<p>SMI-2207 </p>
<p>The user of MICROSAR Safe shall verify that the macro definitions in below table are </p>
<p>defined to function pointers matching the listed signature. </p>
<p>The value <i>NULL_PTR </i>is valid for all callbacks listed in below table. </p>
<p>The macros are generated into <i>Dem_Lcfg.h</i>. </p>
<p><b>Configuration Macro</b></p>
<p><b> </b></p>
<p><b>Expected signature of the function</b></p>
<p><b> </b></p>
<p><i>DEM_CFG_GLOBALCBKDATA_FUNC</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(Dem_EventIdType </p>
<p>EventId)</p>
<p> </p>
<p><i>DEM_CFG_GLOBALCBKSTATUS_FUNC</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(Dem_EventIdType </p>
<p>EventId, </p>
<p>Dem_EventStatusExtendedType </p>
<p>oldStatus, </p>
<p>Dem_EventStatusExtendedType </p>
<p>newStatus)</p>
<p> </p>
<p><i>DEM_CFG_GLOBALCBKCONTROLDTCSETTING_FUNC</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(boolean Status)</p>
<p> </p>
<p> </p>
<p>SMI-2194 </p>
<p>The user of MICROSAR Safe shall verify for all function pointers stored in table </p>
<p><i>Dem_Cfg_DataElementTable[] </i>that the function signature matches the <i>ElementKind </i>value </p>
<p>according to the below table. </p>
<p><i>Dem_Cfg_DataElementTable[] </i>is generated into <i>Dem_Lcfg.c</i>. </p>
<p><b>ElementKind</b></p>
<p><b> </b></p>
<p><b>Expected signature of the </b></p>
<p><b>function</b></p>
<p><b> </b></p>
<p><i>DEM_CFG_DATA_FROM_CBK_STORED</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(uint8 *data)</p>
<p> </p>
<p><i>DEM_CFG_DATA_FROM_CBK_CURRENT</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(uint8 *data)</p>
<p> </p>
<p><i>DEM_CFG_DATA_FROM_CBK_STORED_WITH_EVENTID</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(Dem_EventIdType </p>
<p>EventId, </p>
<p>uint8 *data)</p>
<p> </p>
<p><i>DEM_CFG_DATA_FROM_CBK_CURRENT_WITH_EVENTID</i></p>
<p> </p>
<p>Std_ReturnType </p>
<p>&lt;name&gt;(Dem_EventIdType </p>
<p>EventId, </p>
<p>uint8 *data)</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>44 / 103 </p>
<p>other values</p>
<p> </p>
<p>The function must be <i>NULL_PTR</i></p>
<p> </p>
<p> </p>
<p>SMI-2195 </p>
<p>The user of MICROSAR Safe shall verify that all function callbacks configured in table </p>
<p><i>Dem_Cfg_DataElementTable[] </i>write at most <i>ElementSize </i>bytes. </p>
<p>e.g. for a line { DEM_CFG_DATA_FROM_CBK_STORED, 4U, </p>
<p>(Dem_ReadDataFPtrType)Rte_Call_CBReadData_DemDataElementClass_ReadData } </p>
<p>verify that the application runnable triggered by the Rte when the Dem invokes operation </p>
<p><i>ReadData </i>on PortPrototype <i>DemDataElementClass </i>will at most write 4 bytes. </p>
<p>The table is generated into <i>Dem_Lcfg.c</i>.  </p>
<p>SMI-2196 </p>
<p>The user of MICROSAR Safe shall verify that all NV Block IDs listed in table </p>
<p><i>Dem_Cfg_MemoryBlockId[] </i>are intended to be used exclusively by Dem. This is required </p>
<p>for SMI-22. </p>
<p>The table is generated into <i>Dem_Lcfg.c </i></p>
<p>SMI-2197 </p>
<p>The user of MICROSAR Safe shall verify that the configured NvM block size of the NV </p>
<p>blocks referenced in table <i>Dem_Cfg_MemoryBlockId </i>is equal to the data size in table </p>
<p><i>Dem_Cfg_MemoryDataSize </i>for the same index. </p>
<p>The user of MICROSAR Safe shall verify that the NV block is also configured to use the </p>
<p>RAM buffer referenced in <i>Dem_Cfg_MemoryDataPtr </i>for the same index. This is required </p>
<p>for SMI-23. </p>
<p>Example: Verify that the NvM block descriptor referenced in <i>Dem_Cfg_MemoryBlockId[1] </i></p>
<p>is configured with data length <i>Dem_Cfg_MemoryDataSize[1] </i>and RAM buffer </p>
<p><i>Dem_Cfg_MemoryDataPtr[1] </i></p>
<p>The tables <i>Dem_Cfg_MemoryBlockId</i>, <i>Dem_Cfg_MemoryDataSize </i>and </p>
<p><i>Dem_Cfg_MemoryDataPtr </i>are generated into <i>Dem_Lcfg.c</i>. </p>
<p>Refer to the NvM for the location of the tables generated by the NvM to verify the correct </p>
<p>configuration. </p>
<p>SMI-2198 </p>
<p>The user of MICROSAR Safe shall verify that when calling </p>
<p><i>Dem_GetEventExtendedDataRecord </i>or <i>Dem_GetEventFreezeFrameData</i>, either directly </p>
<p>or by RTE operation <i>GetExtendedDataRecord </i>or <i>GetFreezeFrameData </i>of port interfaces </p>
<p><i>DiagnosticInfo</i>, <i>GeneralDiagnosticInfo </i>or <i>DiagnosticMonitor </i></p>
<p><b></b></p>
<p><b> </b></p>
<p>The <i>DestBuffer </i>parameter shall point to a writeable memory area which can receive at </p>
<p>least <i>sizeof(Dem_MaxDataValueSize) </i>bytes. </p>
<p>If an RTE is used, the type <i>Dem_MaxDataValueSize </i>is defined in <i>Rte_Type.h</i>. </p>
<p>If no RTE is used, the value of <i>DEM_CFG_SIZEOF_MAX_DATA_VALUE_TYPE </i>can be </p>
<p>used to find the expected buffer size. This macro is generated into <i>Dem_Lcfg.h</i>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>45 / 103 </p>
<p>SMI-2199 </p>
<p>The user of MICROSAR Safe shall verify that table <i>Dem_Cfg_MemoryDataPtr[] </i>contains a </p>
<p>pointer of type <i>Dem_Cfg_PrimaryEntryType </i>for the indices </p>
<p><i>DEM_CFG_MEMORY_PRIMARY_INDEX </i>(inclusive) through </p>
<p><i>DEM_CFG_MEMORY_PRIMARY_INDEX </i>+ <i>DEM_CFG_GLOBAL_PRIMARY_SIZE </i>+ </p>
<p><i>DEM_CFG_GLOBAL_SECONDARY_SIZE </i>(exclusive). </p>
<p>The macros <i>DEM_CFG_MEMORY_PRIMARY_INDEX</i>, </p>
<p><i>DEM_CFG_GLOBAL_PRIMARY_SIZE </i>and <i>DEM_CFG_GLOBAL_SECONDARY_SIZE </i></p>
<p>are generated into in <i>Dem_Lcfg.h</i>. </p>
<p>The type <i>Dem_Cfg_PrimaryEntryType </i>is generated into in <i>Dem_Lcfg.h</i>. </p>
<p>The table <i>Dem_Cfg_MemoryDataPtr[] </i>is generated into <i>Dem_Lcfg.c</i>. </p>
<p>SMI-2200 </p>
<p>Only for OEM TMC, if time series snapshots are configured. Time series snapshots are </p>
<p>enabled by creating configuration container <i>DemGeneral/DemTimeSeriesSnapshot</i>. </p>
<p>The user of MICROSAR Safe shall verify that table <i>Dem_Cfg_MemoryDataPtr[] </i>contains a </p>
<p>pointer of type <i>Dem_Cfg_TimeSeriesEntryType </i>for the indices </p>
<p><i>DEM_CFG_MEMORY_TIME_SERIES_INDEX </i>(inclusive) through </p>
<p><i>DEM_CFG_MEMORY_TIME_SERIES_INDEX </i>+ </p>
<p><i>DEM_CFG_GLOBAL_TIMESERIES_SNAPSHOTS_SIZE </i>(exclusive). </p>
<p>The macros <i>DEM_CFG_MEMORY_TIME_SERIES_INDEX </i>and </p>
<p><i>DEM_CFG_GLOBAL_TIMESERIES_SNAPSHOTS_SIZE </i>are generated into <i>Dem_Lcfg.h</i>. </p>
<p>The type <i>Dem_Cfg_TimeSeriesEntryType </i>is generated into <i>Dem_Lcfg.h</i>. </p>
<p>The table <i>Dem_Cfg_MemoryDataPtr[] </i>is generated into <i>Dem_Lcfg.c</i>. </p>
<p>SMI-2201 </p>
<p>The user of MICROSAR Safe shall verify that <i>sizeof(Dem_Cfg_CommitBuffer) </i>is as large </p>
<p>or larger than the entries in table <i>Dem_Cfg_MemoryDataSize[]</i>. </p>
<p><i>Dem_Cfg_CommitBuffer </i>and <i>Dem_Cfg_MemoryDataSize[] </i>are generated into </p>
<p><i>Dem_Lcfg.c</i>. </p>
<p><b>14.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>14.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>46 / 103 </p>
<p><b>15 Safety Manual Det</b></p>
<p><b> </b></p>
<p><b>15.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>15.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p>SMI-60 </p>
<p>The Det should not be used in series production. If it is used in series production the </p>
<p>extended debug features shall be switched off, because they are only relevant if a </p>
<p>debugger is attached.  </p>
<p>The user of MICROSAR Safe shall configure and verify the following attribute: </p>
<p><b></b></p>
<p><b> </b></p>
<p>/MICROSAR/Det/DetGeneral/DetExtDebugSupport = False </p>
<p><b>15.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>15.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>15.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>15.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>SMI-54 </p>
<p>This component requires coexistence with Dlt component if the interface for this </p>
<p>component is configured. Callouts used during series production must also provide an </p>
<p>argument for coexistence.  </p>
<p><b>15.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>47 / 103 </p>
<p><b>16 Safety Manual EcuM</b></p>
<p><b> </b></p>
<p><b>16.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-34 </p>
<p>EcuM Flex provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-470 </p>
<p> </p>
<p>EcuM shall provide a service to initialize the ECU management.</p>
<p> </p>
<p>CREQ-454 </p>
<p> </p>
<p>EcuM shall provide ECU initialization on multiple cores.</p>
<p> </p>
<p>CREQ-543 </p>
<p> </p>
<p>EcuM shall perform validation of all postbuild configurable BSW module configuration </p>
<p>parameters.</p>
<p> </p>
<p>CREQ-375 </p>
<p> </p>
<p>EcuM shall provide a callout to set programmable interrupts during the startup phase.</p>
<p> </p>
<p>CREQ-525 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize driver prior the start of the OS.</p>
<p> </p>
<p>CREQ-488 </p>
<p> </p>
<p>EcuM shall provide a callout to determine the Postbuild configuration data.</p>
<p> </p>
<p>CREQ-505 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize drivers prior Postbuild data is available.</p>
<p> </p>
<p>CREQ-391 </p>
<p> </p>
<p>EcuM shall provide a callout to reset the ECU.</p>
<p> </p>
<p>CREQ-381 </p>
<p> </p>
<p>EcuM shall provide a callout to generate a RAM Hash.</p>
<p> </p>
<p>CREQ-440 </p>
<p> </p>
<p>EcuM shall provide a callout to check the RAM Hash.</p>
<p> </p>
<p>CREQ-509 </p>
<p> </p>
<p>EcuM shall provide a callout to re-initialize drivers during a restart.</p>
<p> </p>
<p>CREQ-445 </p>
<p> </p>
<p>EcuM shall provide a service to set the current shutdown target of the ECU.</p>
<p> </p>
<p>CREQ-372 </p>
<p> </p>
<p>EcuM shall provide a service to initiate the ECU shutdown depending on the </p>
<p>shutdown target.</p>
<p> </p>
<p>CREQ-431 </p>
<p> </p>
<p>EcuM shall provide a callout to notify Errors from the ECU management.</p>
<p> </p>
<p>CREQ-421 </p>
<p> </p>
<p>EcuM shall provide a service to complete the ECU shutdown process.</p>
<p> </p>
<p>CREQ-699 </p>
<p> </p>
<p>EcuM shall indicate mode changes to the RTE.</p>
<p> </p>
<p>CREQ- </p>
<p>691</p>
<p> </p>
<p>EcuM shall provide a service to request the run state.</p>
<p> </p>
<p>CREQ-692 </p>
<p> </p>
<p>EcuM shall provide a service to release the run state.</p>
<p> </p>
<p>CREQ-693 </p>
<p> </p>
<p>EcuM shall provide a service to release the post run state.</p>
<p> </p>
<p>CREQ-690 </p>
<p> </p>
<p>EcuM shall provide a service to request the post run state.</p>
<p> </p>
<p>Note: RAM Hash generation and checking callouts are only available when sleep modes </p>
<p>are configured. </p>
<p>SMI-286 </p>
<p>EcuM Fix provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-470 </p>
<p> </p>
<p>EcuM shall provide a service to initialize the ECU management.</p>
<p> </p>
<p>CREQ-454 </p>
<p> </p>
<p>EcuM shall provide ECU initialization on multiple cores.</p>
<p> </p>
<p>CREQ-543 </p>
<p> </p>
<p>EcuM shall perform validation of all postbuild configurable BSW module configuration </p>
<p>parameters.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>48 / 103 </p>
<p>CREQ-375 </p>
<p> </p>
<p>EcuM shall provide a callout to set programmable interrupts during the startup phase.</p>
<p> </p>
<p>CREQ-525 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize driver prior the start of the OS.</p>
<p> </p>
<p>CREQ-488 </p>
<p> </p>
<p>EcuM shall provide a callout to determine the Postbuild configuration data.</p>
<p> </p>
<p>CREQ-505 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize drivers prior Postbuild data is available.</p>
<p> </p>
<p>CREQ-391 </p>
<p> </p>
<p>EcuM shall provide a callout to reset the ECU.</p>
<p> </p>
<p>CREQ-381 </p>
<p> </p>
<p>EcuM shall provide a callout to generate a RAM Hash.</p>
<p> </p>
<p>CREQ-440 </p>
<p> </p>
<p>EcuM shall provide a callout to check the RAM Hash.</p>
<p> </p>
<p>CREQ-509 </p>
<p> </p>
<p>EcuM shall provide a callout to re-initialize drivers during a restart.</p>
<p> </p>
<p>CREQ-445 </p>
<p> </p>
<p>EcuM shall provide a service to set the current shutdown target of the ECU.</p>
<p> </p>
<p>CREQ-372 </p>
<p> </p>
<p>EcuM shall provide a service to initiate the ECU shutdown depending on the </p>
<p>shutdown target.</p>
<p> </p>
<p>CREQ-431 </p>
<p> </p>
<p>EcuM shall provide a callout to notify Errors from the ECU management.</p>
<p> </p>
<p>CREQ-421 </p>
<p> </p>
<p>EcuM shall provide a service to complete the ECU shutdown process.</p>
<p> </p>
<p>CREQ-699 </p>
<p> </p>
<p>EcuM shall indicate mode changes to the RTE.</p>
<p> </p>
<p>CREQ-703 </p>
<p> </p>
<p>EcuM shall provide the ECU state machine.</p>
<p> </p>
<p>CREQ-707 </p>
<p> </p>
<p>EcuM shall trigger the NvM write job in shutdown path.</p>
<p> </p>
<p>CREQ-668 </p>
<p> </p>
<p>EcuM shall provide a callback which is called by the NvM to notify the end of the write </p>
<p>all job.</p>
<p> </p>
<p>CREQ- </p>
<p>691</p>
<p> </p>
<p>EcuM shall provide a service to request the run state.</p>
<p> </p>
<p>CREQ-692 </p>
<p> </p>
<p>EcuM shall provide a service to release the run state.</p>
<p> </p>
<p>CREQ-693 </p>
<p> </p>
<p>EcuM shall provide a service to release the post run state.</p>
<p> </p>
<p>CREQ-690 </p>
<p> </p>
<p>EcuM shall provide a service to request the post run state.</p>
<p> </p>
<p>CREQ-694 </p>
<p> </p>
<p>EcuM shall provide a service to kill all post run requests.</p>
<p> </p>
<p>CREQ-695 </p>
<p> </p>
<p>EcuM shall provide a service to kill all run requests.</p>
<p> </p>
<p>CREQ-707 </p>
<p> </p>
<p>EcuM shall trigger the NvM write job in shutdown path.</p>
<p> </p>
<p>CREQ-668 </p>
<p> </p>
<p>EcuM shall provide a callback which is called by the NvM to notify the end of the write </p>
<p>all job.</p>
<p> </p>
<p>Note: RAM Hash generation and checking callouts are only available when sleep modes </p>
<p>are configured. </p>
<p>SMI-38 </p>
<p>If EcuM service to complete the shutdown process is called prior to initiate the shutdown </p>
<p>process, no shutdown will be performed. </p>
<p><b>16.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-36 </p>
<p>The user of MICROSAR Safe shall configure the following attribute: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/EcuM/EcuMFlexGeneral/EcuMEnableDefBehaviour to FALSE. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>49 / 103 </p>
<p><b></b></p>
<p><b> </b></p>
<p>Do not configure any reference in </p>
<p>/MICROSAR/EcuM/EcuMConfiguration/EcuMCommonConfiguration/EcuMWakeupSou</p>
<p>rce/EcuMComMPNCRef to a PNC for a wakeup source  </p>
<p>These settings are enforced by MSSV plugins. </p>
<p><b>16.3 Additional verification measurse</b></p>
<p><b> </b></p>
<p>SMI-39 </p>
<p><b>The user of MICROSAR Safe shall verify the intended initialization procedure during </b></p>
<p><b>integration testing. </b></p>
<p>The user of MICROSAR Safe can verify the intended initialization procedure by performing </p>
<p>the following tests: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Start the ECU and verify that the intended initalization routines are called. This needs </p>
<p>to be verified for each Postbuild-selectable configuration. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Corrupt the Postbuild data (but not corresponding CRC) in non-volatile memory and </p>
<p>start the ECU. Then verify that the corruption is detected by EcuM. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Start the ECU and verify that the intended Postbuild-selectable configuration is used </p>
<p>by the EcuM. This needs to be verified for each Postbuild-selectable configuration. </p>
<p>A start of the ECU includes a &quot;cold-start&quot;, reset as well as wake-up from sleep if </p>
<p>applicable. </p>
<p>This requirement only applies if TSR-1 is considered a safety requirement. </p>
<p>SMI-35 </p>
<p><b>The user of MICROSAR Safe shall verify the intended shutdown procedure during </b></p>
<p><b>integration testing. </b></p>
<p>The user of MICROSAR Safe can verify the intended shutdown procedure by shutting </p>
<p>down the ECU with all configured shutdown paths. A shutdown path is a call to the service </p>
<p>that sets the current shutdown target with a relevant (e.g. combination used to achieve </p>
<p>safe state) combination of its parameters. For each shutdown path the intended final state </p>
<p>of the ECU (e.g. sleep, shutdown, reset) and the method of reset (e.g. using MCU or </p>
<p>Watchdog) is used. </p>
<p>The user of MICROSAR Safe shall also consider the service to initiate the ECU shutdown </p>
<p>depending on the shutdown target as a possible shutdown path. </p>
<p>The user of MICROSAR Safe shall also verify the default shutdown target. </p>
<p>This requirement only applies if TSR-3 is considered as a safety requirement. </p>
<p>SMI-40 </p>
<p><b>The user of MICROSAR Safe shall verify that the memory region used for RAM hash </b></p>
<p><b>generation and verification is as intended. </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>50 / 103 </p>
<p>Verification can be e.g. performed by review. </p>
<p><b>16.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-42 </p>
<p>The used operating system shall provide the service to get the core ID as safety feature. </p>
<p>If the operating system from MICROSAR Safe is used, this dependency is fulfilled. </p>
<p>This requirement only applies if TSR-1 is considered a safety requirement. </p>
<p><b>16.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>51 / 103 </p>
<p><b>17 Safety Manual Fee</b></p>
<p><b> </b></p>
<p><b>17.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>17.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>17.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>SMI-1292 </p>
<p>The user of MICROSAR Safe shall verify that valid notification routines are provided to </p>
<p>FEE via configuration. </p>
<p>'FeeNvmJobEndNotification' and 'FeeNvmJobErrorNotification' callbacks are called by </p>
<p>FEE using a function pointer. </p>
<p><b>17.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>17.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>17.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>SMI-1643 </p>
<p>This component requires coexistence with MemIf, NvM, FlsDrv and Det components if the </p>
<p>interface for those components is configured. </p>
<p><b>17.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>52 / 103 </p>
<p><b>18 Safety Manual MemIf</b></p>
<p><b> </b></p>
<p><b>18.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>18.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>18.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>18.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>18.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>18.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>SMI-311 </p>
<p>This component requires coexistence with NvM, Det, Fee, and Ea components if the </p>
<p>interface for those components is configured. </p>
<p><b>18.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>53 / 103 </p>
<p><b>19 Safety Manual Nm</b></p>
<p><b> </b></p>
<p><b>19.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>19.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>19.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>19.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>19.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>19.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>SMI-149 </p>
<p>This component requires coexistence with ComM, Com, BswM, Det, SchM/Rte, Rtm and </p>
<p>bus network manager components if the interface for those components is configured. </p>
<p><b>19.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>54 / 103 </p>
<p><b>20 Safety Manual NvM</b></p>
<p><b> </b></p>
<p><b>20.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-21 </p>
<p>This component provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-724 </p>
<p> </p>
<p>NvM shall provide a service to read a single NvM block from NVRAM.</p>
<p> </p>
<p>CREQ-725 </p>
<p> </p>
<p>NvM shall provide a service to write a single NvM block to NVRAM.</p>
<p> </p>
<p>CREQ-730 </p>
<p> </p>
<p>NvM shall provide a service to read all possbile NvM blocks from NVRAM.</p>
<p> </p>
<p>CREQ-731 </p>
<p> </p>
<p>NvM shall provide a service to write all possible NvM blocks to NVRAM.</p>
<p> </p>
<p>CREQ-746 </p>
<p> </p>
<p>NvM shall provide configurable callbacks to synchronize block data.</p>
<p> </p>
<p>NvM can detect missing, corruption and masquerading (lower layers provide the wrong </p>
<p>block) of NvM blocks. </p>
<p>SMI-29 </p>
<p>The user of MICROSAR Safe must design the system in a way that in case of the absence </p>
<p>of non</p>
<p>&#8209;</p>
<p>volatile data it is still safe (e.g. safe state or degradation). It cannot be assured by </p>
<p>the memory stack that data is saved completely or at all because a reset or loss of energy </p>
<p>might happen at any time, e.g. brown-out, black-out. </p>
<p>This also implies that it is in general impossible to guarantee that the latest information is </p>
<p>available in the non-volatile memory, e.g. the system is reset before memory stack is even </p>
<p>notified to write data to non-volatile memory. </p>
<p>Thus, safety-related functionality may not rely on the availability of data in non-volatile </p>
<p>memory. </p>
<p>Since the availability of data in non-volatile memory cannot be guaranteed in any case, the </p>
<p>only sensible use-case is reading safety-related calibration data. </p>
<p>Writing of data into non-volatile memory must be verified to assure that the information is </p>
<p>available in non-volatile memory. Verification can only be done manually in a protected </p>
<p>environment, e.g. at end of line, in a workshop, etc. </p>
<p>ECU software cannot verify if data was written, since at any time a reset could occur and </p>
<p>the information that had to be written is lost immediately. </p>
<p>Reading of data does not modify data stored in non-volatile memory. Thus, reading can be </p>
<p>used by safety-related functionality. The memory stack assures that the read data is </p>
<p>identical to the data stored in non-volatile memory. </p>
<p>The availability may be increased by e.g. redundant storage. </p>
<p><b>20.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-25 </p>
<p>The user of MICROSAR Safe shall configure and verify the following attributes for <b>each </b></p>
<p><b>NvM block that contains safety-related data</b>: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/NvM/NvMBlockDescriptor/NvMBlockUseCrc to TRUE. </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/NvM/NvMBlockDescriptor/NvMBlockCrcType to NVM_CRC32. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>55 / 103 </p>
<p>SMI-26 </p>
<p>The user of MICROSAR Safe shall configure and verify the following attribute: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set /MICROSAR/NvM/NvMCommon/NvMUseBlockIdCheck to TRUE. </p>
<p><b>20.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-22 </p>
<p>The user of MICROSAR Safe shall pass the intended block ID for reading and writing of a </p>
<p>single NvM block. NvM cannot detect if an unintended block that is configured is provided </p>
<p>by the user.  </p>
<p>Verification can be performed during integration testing. </p>
<p>SMI-23 </p>
<p>The user of MICROSAR Safe shall verify that the buffer passed for reading and writing of a </p>
<p>single NvM block is valid and sufficiently large for the passed block ID. </p>
<p>Verification can be performed by a review of the generated configuration and the code </p>
<p>passing the pointer and block ID to the NvM. </p>
<p>SMI-48 </p>
<p>The user of MICROSAR Safe shall verify the size of the internal NvM buffer. </p>
<p>The buffer has the symbol name NvM_InternalBuffer_au8. </p>
<p>The buffer is generated when at least one of the following features is used: </p>
<p><b></b></p>
<p><b> </b></p>
<p>at least one block with explicit synchronization is configured </p>
<p><b></b></p>
<p><b> </b></p>
<p>repair of redundant blocks is enabled </p>
<p><b></b></p>
<p><b> </b></p>
<p>NvM internal CRC buffer is enabled </p>
<p>The buffer size shall be at least the size of the largest NVM block plus the size of the </p>
<p>configured CRC value. </p>
<p>Verification can be performed e.g. by review. </p>
<p><b>20.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-28 </p>
<p>The used Crc library shall provide the CRC calculation routines as safety feature. </p>
<p>If the Crc library from MICROSAR Safe is used, this dependency is fulfilled. </p>
<p><b>20.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>56 / 103 </p>
<p><b>21 Safety Manual OS</b></p>
<p><b> </b></p>
<p><b>21.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-1259 </p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-63 </p>
<p> </p>
<p>OS shall provide a service to start the OS. </p>
<p> </p>
<p>CREQ-162 </p>
<p> </p>
<p>OS shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-117 </p>
<p> </p>
<p>OS shall provide a service to get the current application mode. </p>
<p> </p>
<p>CREQ-45 </p>
<p> </p>
<p>OS shall provide a global callback during OS startup. </p>
<p> </p>
<p>CREQ-299 </p>
<p> </p>
<p>Os shall synchronize the startup in multicore systems. </p>
<p> </p>
<p>CREQ-153 </p>
<p> </p>
<p>OS shall provide a service to shutdown the OS. </p>
<p> </p>
<p>CREQ-95 </p>
<p> </p>
<p>OS shall provide a service to shutdown all cores synchronously. </p>
<p> </p>
<p>CREQ-161 </p>
<p> </p>
<p>OS shall provide a global callback upon shutdown. </p>
<p> </p>
<p>CREQ-71 </p>
<p> </p>
<p>OS shall provide a global callback directly before a task starts its execution. </p>
<p> </p>
<p>CREQ-165 </p>
<p> </p>
<p>OS shall provide a global callback directly before a task finishes its execution. </p>
<p> </p>
<p>CREQ-42 </p>
<p> </p>
<p>OS shall provide a service to activate a task. </p>
<p> </p>
<p>CREQ-101 </p>
<p> </p>
<p>OS shall provide a service to terminate the calling task. </p>
<p> </p>
<p>CREQ-121 </p>
<p> </p>
<p>OS shall provide a service to define the next activated task. </p>
<p> </p>
<p>CREQ-126 </p>
<p> </p>
<p>OS shall provide a service to explicitly invoke the scheduler. </p>
<p> </p>
<p>CREQ-80 </p>
<p> </p>
<p>OS shall provide a service to get the ID of the current task </p>
<p> </p>
<p>CREQ-74 </p>
<p> </p>
<p>OS shall provide a service to get the state of a given task. </p>
<p> </p>
<p>CREQ-135 </p>
<p> </p>
<p>OS shall provide a service to declare a task. </p>
<p> </p>
<p>CREQ-115 </p>
<p> </p>
<p>OS shall provide a service to execute a callback in category 2 ISRs. </p>
<p> </p>
<p>CREQ-16 </p>
<p> </p>
<p>OS shall provide a service to get the ID of the currently executing category 2 ISR. </p>
<p> </p>
<p>CREQ-78 </p>
<p> </p>
<p>OS shall provide a service to determine the interrupt source of a non-configured </p>
<p>interrupt upon handling of such interrupt. </p>
<p> </p>
<p>CREQ-154 </p>
<p> </p>
<p>OS shall provide a nestable service to disable all interrupts. </p>
<p> </p>
<p>CREQ-98 </p>
<p> </p>
<p>OS shall provide a nestable service to enable all interrupts. </p>
<p> </p>
<p>CREQ-151 </p>
<p> </p>
<p>OS shall provide a nestable service to disable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-82 </p>
<p> </p>
<p>OS shall provide a nestable service to enable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-111 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts. </p>
<p> </p>
<p>CREQ-</p>
<p>1256 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from user </p>
<p>mode </p>
<p> </p>
<p>CREQ-</p>
<p>1257 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from kernel </p>
<p>mode </p>
<p> </p>
<p>CREQ-43 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts. </p>
<p> </p>
<p>CREQ-</p>
<p>1258 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from user </p>
<p>mode </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>57 / 103 </p>
<p>CREQ-</p>
<p>1259 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from kernel </p>
<p>mode </p>
<p> </p>
<p>CREQ-353 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-352 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-68 </p>
<p> </p>
<p>OS shall provide a service to wait for the occurrence of events. </p>
<p> </p>
<p>CREQ-155 </p>
<p> </p>
<p>OS shall provide a service to signal the occurrence of events to a task. </p>
<p> </p>
<p>CREQ-53 </p>
<p> </p>
<p>OS shall provide a service to acknowledge the occurrence of events. </p>
<p> </p>
<p>CREQ-129 </p>
<p> </p>
<p>OS shall provide a service to get the event states of a given task. </p>
<p> </p>
<p>CREQ-133 </p>
<p> </p>
<p>OS shall provide a service to declare an event. </p>
<p> </p>
<p>CREQ-22 </p>
<p> </p>
<p>OS shall provide a service to increment a counter. </p>
<p> </p>
<p>CREQ-156 </p>
<p> </p>
<p>OS shall provide a service to get the current value of a counter. </p>
<p> </p>
<p>CREQ-39 </p>
<p> </p>
<p>OS shall provide a service to get the difference between a given and the current </p>
<p>counter value. </p>
<p> </p>
<p>CREQ-44 </p>
<p> </p>
<p>OS shall provide a service for each hardware counter to translate a given period of </p>
<p>time into number of ticks. </p>
<p> </p>
<p>CREQ-297 </p>
<p> </p>
<p>OS shall provide a service for each hardware counter to translate number of counter </p>
<p>ticks into a period of time. </p>
<p> </p>
<p>CREQ-</p>
<p>1260 </p>
<p> </p>
<p>OS shall provide a service to get the maximum possible value of a counter </p>
<p> </p>
<p>CREQ-</p>
<p>1261 </p>
<p> </p>
<p>OS shall provide a service to get the number of underlying driver ticks required to </p>
<p>reach a specific unit </p>
<p> </p>
<p>CREQ-</p>
<p>1262 </p>
<p> </p>
<p>OS shall provide a service to get the minumum allowed number of ticks for a cyclic </p>
<p>alarm of a counter </p>
<p> </p>
<p>CREQ-116 </p>
<p> </p>
<p>OS shall provide a service to set a relative alarm. </p>
<p> </p>
<p>CREQ-29 </p>
<p> </p>
<p>OS shall provide a service to set an absolute alarm. </p>
<p> </p>
<p>CREQ-93 </p>
<p> </p>
<p>OS shall provide a service to get an alarm. </p>
<p> </p>
<p>CREQ-164 </p>
<p> </p>
<p>OS shall provide a service to cancel an alarm. </p>
<p> </p>
<p>CREQ-19 </p>
<p> </p>
<p>OS shall provide a service to get the alarm base. </p>
<p> </p>
<p>CREQ-32 </p>
<p> </p>
<p>OS shall provide a service to declare an alarm. </p>
<p> </p>
<p>CREQ-61 </p>
<p> </p>
<p>OS shall provide a service to start a schedule table at a relative value. </p>
<p> </p>
<p>CREQ-136 </p>
<p> </p>
<p>OS shall provide a service to start a schedule table at an absolute value. </p>
<p> </p>
<p>CREQ-96 </p>
<p> </p>
<p>OS shall provide a service to stop the processing of a schedule table. </p>
<p> </p>
<p>CREQ-112 </p>
<p> </p>
<p>OS shall provide a service to switch the processing between different schedule </p>
<p>tables. </p>
<p> </p>
<p>CREQ-100 </p>
<p> </p>
<p>OS shall provide a service to start an explicitly synchronized schedule table </p>
<p>synchronously. </p>
<p> </p>
<p>CREQ-152 </p>
<p> </p>
<p>OS shall provide a service to synchronize a schedule table with a synchronization </p>
<p>counter. </p>
<p> </p>
<p>CREQ-25 </p>
<p> </p>
<p>OS shall provide a service to stop synchronization of a schedule table. </p>
<p> </p>
<p>CREQ-108 </p>
<p> </p>
<p>OS shall provide a service to query the state of a schedule table. </p>
<p> </p>
<p>CREQ-36 </p>
<p> </p>
<p>OS shall provide a mechanism to coordinate concurrent access to shared resources. </p>
<p> </p>
<p>CREQ-56 </p>
<p> </p>
<p>OS shall provide a service to acquire a resource. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>58 / 103 </p>
<p>CREQ-107 </p>
<p> </p>
<p>OS shall provide a service to release a resource. </p>
<p> </p>
<p>CREQ-163 </p>
<p> </p>
<p>OS shall provide a service to declare a resource. </p>
<p> </p>
<p>CREQ-17 </p>
<p> </p>
<p>OS shall provide a service to acquire a spinlock. </p>
<p> </p>
<p>CREQ-139 </p>
<p> </p>
<p>OS shall provide a service to asynchronously acquire a spinlock. </p>
<p> </p>
<p>CREQ-167 </p>
<p> </p>
<p>OS shall provide a service to release a spinlock. </p>
<p> </p>
<p>CREQ-172 </p>
<p> </p>
<p>OS shall provide a service to determine the application ID to which the current </p>
<p>execution context was configured. </p>
<p> </p>
<p>CREQ-60 </p>
<p> </p>
<p>OS shall provide a service to determine the application ID in which the current </p>
<p>execution context is executed. </p>
<p> </p>
<p>CREQ-114 </p>
<p> </p>
<p>OS shall provide a service to make an application accessible. </p>
<p> </p>
<p>CREQ-109 </p>
<p> </p>
<p>OS shall provide a service to identify accessibility of OS objects . </p>
<p> </p>
<p>CREQ-18 </p>
<p> </p>
<p>OS shall provide a service to identify object ownership. </p>
<p> </p>
<p>CREQ-110 </p>
<p> </p>
<p>OS shall provide a service to terminate an application. </p>
<p> </p>
<p>CREQ-104 </p>
<p> </p>
<p>OS shall provide a service to get the state of a given application. </p>
<p> </p>
<p>CREQ-34 </p>
<p> </p>
<p>OS shall provide a service to call exported services from trusted applications. </p>
<p> </p>
<p>CREQ-</p>
<p>105586 </p>
<p> </p>
<p>OS shall provide a service to call exported services from non-trusted applications. </p>
<p> </p>
<p>CREQ-48 </p>
<p> </p>
<p>OS shall provide an application specific callback during OS startup. </p>
<p> </p>
<p>CREQ-76 </p>
<p> </p>
<p>OS shall provide an application specific callback during OS shutdown. </p>
<p> </p>
<p>CREQ-54 </p>
<p> </p>
<p>OS shall provide an application specific callback if an error occurs. </p>
<p> </p>
<p>CREQ-73 </p>
<p> </p>
<p>OS shall provide a service to return the access rights of a memory access of a task. </p>
<p> </p>
<p>CREQ-13 </p>
<p> </p>
<p>OS shall provide a service to return the access rights of a memory access of a </p>
<p>category 2 ISR. </p>
<p> </p>
<p>CREQ-35 </p>
<p> </p>
<p>OS shall provide a service to modify a value in a peripheral region. </p>
<p> </p>
<p>CREQ-79 </p>
<p> </p>
<p>OS shall provide a service to read a value from a peripheral region. </p>
<p> </p>
<p>CREQ-145 </p>
<p> </p>
<p>OS shall provide a service to write a value in a peripheral region. </p>
<p> </p>
<p>CREQ-26 </p>
<p> </p>
<p>OS shall be able to call a global callback function if an error occurs. </p>
<p> </p>
<p>CREQ-38 </p>
<p> </p>
<p>OS shall be able to call a global callback function if a fatal error occurs </p>
<p> </p>
<p>CREQ-97 </p>
<p> </p>
<p>OS shall provide a service to all configured error callbacks, which return the </p>
<p>parameters of the system service which triggered error handling. </p>
<p> </p>
<p>CREQ-23 </p>
<p> </p>
<p>OS shall provide a service to all configured error callbacks, which returns the service </p>
<p>identifier where the error has been risen. </p>
<p> </p>
<p>CREQ-102 </p>
<p> </p>
<p>OS shall provide information to determine the service and the cause of a reported </p>
<p>error. </p>
<p> </p>
<p>CREQ-70 </p>
<p> </p>
<p>OS shall provide a service to forcibly terminate a task. </p>
<p> </p>
<p>CREQ-21 </p>
<p> </p>
<p>OS shall provide a service to forcibly terminate a category 2 ISR. </p>
<p> </p>
<p>CREQ-168 </p>
<p> </p>
<p>OS shall provide a service to select the idle mode action. </p>
<p> </p>
<p>CREQ-150 </p>
<p> </p>
<p>OS shall provide a service to write data to an unqueued IOC channel. </p>
<p> </p>
<p>CREQ-55 </p>
<p> </p>
<p>OS shall provide a service to read data from a unqueued IOC channel. </p>
<p> </p>
<p>CREQ-91 </p>
<p> </p>
<p>OS shall provide a service to send data to a queued IOC channel. </p>
<p> </p>
<p>CREQ-160 </p>
<p> </p>
<p>OS shall provide a service to receive data from a queued IOC channel. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>59 / 103 </p>
<p>CREQ-90 </p>
<p> </p>
<p>OS shall provide a service to write multiple data to an unqueued IOC channel. </p>
<p> </p>
<p>CREQ-147 </p>
<p> </p>
<p>OS shall provide a service to read multiple data from an unqueued IOC channel. </p>
<p> </p>
<p>CREQ-119 </p>
<p> </p>
<p>OS shall provide a service to send multiple data to a queued IOC channel. </p>
<p> </p>
<p>CREQ-113 </p>
<p> </p>
<p>OS shall service a method to receive multiple data from a queued IOC channel. </p>
<p> </p>
<p>CREQ-128 </p>
<p> </p>
<p>OS shall provide a service to clear all data from a queued IOC channel. </p>
<p> </p>
<p>CREQ-141 </p>
<p> </p>
<p>OS shall be able to call a callback function upon IOC data reception. </p>
<p> </p>
<p>CREQ-149 </p>
<p> </p>
<p>OS shall provide a service to identify the local core. </p>
<p> </p>
<p>CREQ-148 </p>
<p> </p>
<p>OS shall provide a service to get the number of cores controlled by OS. </p>
<p> </p>
<p>CREQ-37 </p>
<p> </p>
<p>OS shall provide a service to start a core for usage of AUTOSAR OS software. </p>
<p> </p>
<p>CREQ-120 </p>
<p> </p>
<p>OS shall provide a service to start a core for usage of non AUTOSAR OS software. </p>
<p> </p>
<p>CREQ-65 </p>
<p> </p>
<p>OS shall provide a service to acquire a semaphore. </p>
<p> </p>
<p>CREQ-171 </p>
<p> </p>
<p>OS shall provide a service to release a semaphore. </p>
<p> </p>
<p>CREQ-123 </p>
<p> </p>
<p>OS shall provide a service to wait at a barrier. </p>
<p> </p>
<p>CREQ-</p>
<p>102315 </p>
<p> </p>
<p>OS shall provide a callback for signalling a task activation. </p>
<p> </p>
<p>CREQ-</p>
<p>102325 </p>
<p> </p>
<p>OS shall provide a callback for signalling the setting of an event. </p>
<p> </p>
<p>CREQ-</p>
<p>102319 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of a sempahore. </p>
<p> </p>
<p>CREQ-</p>
<p>102324 </p>
<p> </p>
<p>OS shall provide a callback for signalling the change of a semaphore owner. </p>
<p> </p>
<p>CREQ-</p>
<p>102327 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of a semaphore. </p>
<p> </p>
<p>CREQ-</p>
<p>102320 </p>
<p> </p>
<p>OS shall provide a callback for signalling a thread switch. </p>
<p> </p>
<p>CREQ-</p>
<p>105671 </p>
<p> </p>
<p>OS shall provide a callback for signalling forcible termination of a thread. </p>
<p> </p>
<p>CREQ-</p>
<p>102326 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of a resource. </p>
<p> </p>
<p>CREQ-</p>
<p>102321 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of a resource. </p>
<p> </p>
<p>CREQ-</p>
<p>102318 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of an occupied spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>102322 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of a spinlock </p>
<p> </p>
<p>CREQ-</p>
<p>102316 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of a spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>105672 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal acquirement of an occupied </p>
<p>spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>105673 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal acquirement of a spinlock </p>
<p> </p>
<p>CREQ-</p>
<p>105674 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal release of a spinlock. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>60 / 103 </p>
<p>CREQ-</p>
<p>102317 </p>
<p> </p>
<p>OS shall provide a callback for signalling the locking of interrupts. </p>
<p> </p>
<p>CREQ-</p>
<p>102323 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of an interrupt lock. </p>
<p> </p>
<p>CREQ-</p>
<p>105675 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal locking of interrupts. </p>
<p> </p>
<p>CREQ-</p>
<p>105676 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal release of an interrupt lock. </p>
<p> </p>
<p>CREQ-</p>
<p>108741 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from any </p>
<p>mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108742 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from any </p>
<p>mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108743 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from user mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108744 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from kernel mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108745 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from any mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108746 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from any mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108747 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from kernel mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108748 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from user mode. </p>
<p> </p>
<p> </p>
<p><b>21.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-378 </p>
<p>The user of MICROSAR Safe shall configure and verify the extended OS status of APIs. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsStatus </i>shall equal to <i>EXTENDED</i>. </p>
<p>The OS safety measures rely on the validity checks defined for EXTENDED status of OS </p>
<p>API calls. Without these checks invalid calls might destroy the system integrity and violate </p>
<p>safety requirements. Ensuring the validity of API calls and arguments in STANDARD </p>
<p>status for any caller (which e.g. might be QM software) is considered to be infeasible. </p>
<p>SMI-377 </p>
<p>The user of MICROSAR Safe shall configure and verify the service protection. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsServiceProtection </i>shall equal to <i>TRUE</i>. </p>
<p>The OS safety measures rely on the validity checks defined for OsServiceProtection </p>
<p>enabled. Without these checks API invalid calls might destroy the system integrity and </p>
<p>violate safety requirements. Ensuring the validity of API calls with </p>
<p>OsServiceProtectiondisabled for any caller (which e.g. might be QM software) is </p>
<p>considered to be infeasible. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>61 / 103 </p>
<p>SMI-379 </p>
<p>The user of MICROSAR Safe shall configure and verify the scalability class 3 or 4. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsScalabilityClass </i>shall equal to <i>SC3 </i>or </p>
<p><i>SC4</i>. </p>
<p>The OS safety measures rely on memory protection and service protection provided by the </p>
<p>scalability classes SC3 and SC4. Without memory protection, all software parts (even QM </p>
<p>parts) would have to ensure freedom from interference regarding memory (including </p>
<p>absence of stack overflow). Without service protection, all software parts (even QM parts) </p>
<p>would have to ensure only calls with valid access rights. </p>
<p>SMI-385 </p>
<p>The user of MICROSAR Safe shall not use ISRs of category 1 if timing protection is </p>
<p>configured. </p>
<p>If a thread is killed because of timing protection, ISRs of category 1 might be aborted. </p>
<p>A possible workaround is using ISRs of category 2 instead of category 1. </p>
<p><b>21.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-380 </p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding program </p>
<p>flow. The correct program flow is ensured only if all OS API functions are correctly used </p>
<p>according to the AUTOSAR OS specification, according to the technical reference and </p>
<p>according to the requirements of the user application. </p>
<p>SMI-3732 </p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the hardware. </p>
<p>It is assumed that user software uses the microcontroller exactly as specified in the </p>
<p>vendors hardware documentation. </p>
<p>SMI-383 </p>
<p>The user of MICROSAR Safe shall not call OS hook functions. The OS hook functions </p>
<p>shall be called by the OS only. This applies to the following hook functions: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>StartupHook </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>ShutdownHook </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>ProtectionHook </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>PreTaskHook </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>PostTaskHook </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>ErrorHook </i></p>
<p>The OS makes assumptions which are valid if these hook functions are called by the OS </p>
<p>(e.g. set a hook context). These assumptions might be violated if the hook functions are </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>62 / 103 </p>
<p>called directly by the user. As a hook may expect, that it is called within a specific context, </p>
<p>hooks shall not be called from directly from user code. </p>
<p>SMI-1047 </p>
<p>The user of MICROSAR Safe shall ensure that the context definition as described in the </p>
<p>Technical Reference is complete for his application. Only this context is preserved on </p>
<p>context switches. </p>
<p><b>21.3.1 Interrupt handling</b></p>
<p><b> </b></p>
<p>SMI-381 </p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding interrupt </p>
<p>disabling. Unintended disabling of interrupts may lead to timing inconsistency because </p>
<p>pending interrupts might be delayed.  </p>
<p>The following interrupt disabling API functions shall be used correct according to the </p>
<p>AUTOSAR OS specification and according to the requirements of the user application, </p>
<p>otherwise the correct functionality is not ensured: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>DisableAllInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>SuspendAllInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>SuspendOSInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>DisableLevel </i></p>
<p>SMI-382 </p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding interrupt </p>
<p>enabling. Unintended enabling of interrupts may lead to timing inconsistency (because </p>
<p>interrupts might occur which should be disabled) and data inconsistency (see also SMI-</p>
<p>11). The user shall ensure that timing inconsistencies are detected or avoided.  </p>
<p>The following interrupt enabling API functions shall be used correct according to the </p>
<p>AUTOSAR OS specification and according to the requirements of the user application, </p>
<p>otherwise the correct functionality is not ensured: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>EnableAllInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>ResumeAllInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>ResumeOSInterrupts </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>EnableLevel </i></p>
<p>SMI-482 </p>
<p>The user of MICROSAR Safe shall verify that API functions <i>DisableLevel</i>, <i>EnableLevel</i>, </p>
<p><i>DisableGlobal </i>and <i>EnableGlobal </i>are never called in the following cases: </p>
<p><b></b></p>
<p><b> </b></p>
<p>if interrupts are disabled </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>63 / 103 </p>
<p><b></b></p>
<p><b> </b></p>
<p>within critical sections </p>
<p><b></b></p>
<p><b> </b></p>
<p>nested within other interrupt APIs </p>
<p><b></b></p>
<p><b> </b></p>
<p>within interrupt resources </p>
<p><b></b></p>
<p><b> </b></p>
<p>within interrupt locking spinlocks </p>
<p><b></b></p>
<p><b> </b></p>
<p>within ISRs, Hook functions, non-trusted functions, trusted functions and alarm </p>
<p>callbacks </p>
<p>SMI-488 </p>
<p>The user of MICROSAR Safe shall verify that the following API functions are called from </p>
<p>privileged mode only: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>DisableLevelKM </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>EnableLevelKM </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>DisableGlobalKM </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>EnableGlobalKM </i></p>
<p>SMI-489 </p>
<p>The user of MICROSAR Safe shall verify that the API function <i>EnableGlobal </i>is called only </p>
<p>if interrupts are disabled before by call of <i>DisableGlobal</i>. </p>
<p>SMI-490 </p>
<p>The user of MICROSAR Safe shall verify that the API function <i>EnableLevel </i>is called only if </p>
<p>interrupts are disabled before by call of <i>DisableLevel</i>.  </p>
<p>SMI-590 </p>
<p>The user of MICROSAR Safe shall verify that all APIs called in ISRs of category 1 are </p>
<p>allowed to be called in this context by the AUTOSAR specification or technical reference. </p>
<p>ISRs of category 1 are transparent to the OS. Therefore the call context „inside category 1 </p>
<p>ISR“ cannot be checked by the API functions. Erroneous calls are not detected. </p>
<p>SMI-541 </p>
<p>The user of MICROSAR Safe shall verify that all ISRs of category 1 are implemented </p>
<p>transparent with respect to the processor state for the interrupted code. This includes core </p>
<p>registers, MPU settings and the current interrupt priority. </p>
<p>SMI-491 </p>
<p>The user of MICROSAR Safe shall verify the functionality of each configured ISR.  </p>
<p>This includes the correct call of the ISR handler as well as enabling, disabling, reading the </p>
<p>enable state, reading the pending state and clearing of the pending information of the </p>
<p>corresponding ISR sources. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>64 / 103 </p>
<p><b>21.3.2 Memory mapping and linking</b></p>
<p><b> </b></p>
<p>SMI-340 </p>
<p>The user of MICROSAR Safe shall verify that the complete range specified by each </p>
<p><i>Os_PeripheralConfigType </i>object in <i>Os_Peripheral_Lcfg.c </i>is either part of the writable </p>
<p>address space or that there are no write accesses to that region via the Peripheral API. </p>
<p>The first writable address is denoted as <i>AddressStart </i>and the last writable address is </p>
<p>denoted as <i>AddressEnd</i>. </p>
<p>If the addresses do not fit the intended/configured addresses, illegal write accesses would </p>
<p>be possible. </p>
<p>SMI-494 </p>
<p>The user of MICROSAR Safe shall verify for IOC functions that the configured access </p>
<p>rights and linker configuration allow only valid callers to write the corresponding IOC data. </p>
<p>SMI-495 </p>
<p>The user of MICROSAR Safe shall ensure by linkage for each optimized spinlock that only </p>
<p>intended tasks and ISRs have write access to the corresponding spinlock data (or at least </p>
<p>only tasks and ISRs of partitions with the same ASIL levels). </p>
<p>The user of MICROSAR Safe shall verify that no unintended task or ISR has access to </p>
<p>data of optimized spinlocks. </p>
<p>SMI-539 </p>
<p>The user of MICROSAR Safe shall verify that none of the configured MPU regions allows </p>
<p>write access to OS variables from non-trusted software. </p>
<p>SMI-549 </p>
<p>The user of MICROSAR Safe shall verify the linkage of stack sections and MPU </p>
<p>configuration that none of the configured MPU regions grants write access to any OS </p>
<p>stack. </p>
<p>The MPU setting for stacks is internally done by the OS and granting write access might </p>
<p>prevent from memory protection of stacks. </p>
<p>SMI-1044 </p>
<p>The user of MICROSAR Safe shall verify that additional configured MPU regions shall </p>
<p>never overlap with any OS stack sections. </p>
<p>Overlapping MPU regions might provide illegal write access to OS stack sections. By using </p>
<p>an OS generated linker command file (see technical reference) it is assured that the OS </p>
<p>stacks are linked consecutively into the RAM. </p>
<p>SMI-1045 </p>
<p>The user of MICROSAR Safe shall verify that the linkage scheme includes a stack safety </p>
<p>gap linked adjacent to the stack section (in dependency of the stack growth direction, see </p>
<p>technical reference). No software parts shall have write access to the stack safety gap. </p>
<p>This measure enables to detect stack overflows by MPU even if the owner of the stack has </p>
<p>also write access to data linked adjacent to the stack section. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>65 / 103 </p>
<p>SMI-562 </p>
<p>The user of MICROSAR Safe shall verify that all user data are linked into the intended </p>
<p>sections. </p>
<p>SMI-564 </p>
<p>The user of MICROSAR Safe shall verify the configuration of access rights to sections. </p>
<p>Software with lower diagnostic coverage shall not be able to destroy data of software with </p>
<p>higher diagnostic coverage. This applies to memory access within one core as well as </p>
<p>memory access across cores. </p>
<p>See Technical Reference, chapter &quot;Memory Protection&quot; for details. </p>
<p>Note that OSApplications do not need access to other OS Applications memory. </p>
<p><b>21.3.3 Stack</b></p>
<p><b> </b></p>
<p>SMI-565 </p>
<p>The user of MICROSAR Safe shall ensure that sufficient stack is available for </p>
<p>call/execution of StartOS. </p>
<p>StartOS performs some initializations before switching to an internal stack and enabling </p>
<p>the memory protection. The active stack at call of StartOS shall provide sufficient space to </p>
<p>execute this code. Because the stack consumtion is depending on compiler and compiler </p>
<p>options it is recommended to switch to a stack provided by the OS before calling StartOS </p>
<p>and to use the stack usage measurement API of the OS to determine the necessary stack </p>
<p>size. </p>
<p>SMI-4452 </p>
<p>If the attribute <i>/MICROSAR/Os/OsOS/OsGenerateMemMap </i>is equal to </p>
<p><i>USERCODE_AND_STACKS_GROUPED_PER_CORE</i>, the user of MICROSAR Safe shall </p>
<p>ensure that all configured stack sizes match the MPU granularity and alignment. Otherwise </p>
<p>stack protection cannot be ensured. </p>
<p><b>21.3.4 Multicore systems with mixed diagnostic coverage capability</b></p>
<p><b> </b></p>
<p>SMI-592 </p>
<p>The user of MICROSAR Safe shall verify that software with higher diagnostic coverage </p>
<p>does not rely on the results of APIs with lower diagnostic coverage. </p>
<p>Note that only APIs listed in section &quot;Safety Features&quot; provide functionality on ASIL level.  </p>
<p>SMI-483 </p>
<p>The user of MICROSAR Safe shall ensure that cross core API calls with high frequency </p>
<p>from cores with lower diagnostic coverage to cores with higher diagnostic coverage do not </p>
<p>interfere with the requirements. Excessive runtime consumption of cores with lower </p>
<p>diagnostic coverage shall not prevent cores with higher diagnostic coverage form keeping </p>
<p>the timing constraints.  </p>
<p>One possible measure is using timing protection. </p>
<p>SMI-484 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>66 / 103 </p>
<p>The user of MICROSAR Safe shall ensure that synchronous cross core API calls from a </p>
<p>core with higher diagnostic coverage to a core with lower diagnostic coverage do not </p>
<p>violate the safety goals if the API calls never return. </p>
<p>Synchronous calls block the caller until the return result is received. If for any reason a </p>
<p>core with lower diagnostic coverage does not return the result or does not return the result </p>
<p>in time, the caller has to deal with this situation. </p>
<p>SMI-485 </p>
<p>The user of MICROSAR Safe shall call <i>ShutdownAllCores </i>only on cores with the highest </p>
<p>diagnostic coverage. </p>
<p>SMI-486 </p>
<p>The user of MICROSAR Safe shall note that the <i>ShutdownHook </i>might not be called on </p>
<p>Shutdown for multicore systems with mixed diagnostic coverage capability. </p>
<p>Errors caused by cores of lower diagnostic coverage (data overwrite) might prevent the </p>
<p>call of ShutdownHook by cores with higher diagnostic coverage. </p>
<p>SMI-487 </p>
<p>The user of MICROSAR Safe shall ensure that if a core with lower diagnostic coverage </p>
<p>initializes peripherals or hardware components (like e.g. a system MPU), the core with </p>
<p>higher diagnostic coverage do not rely on this initialization. </p>
<p>SMI-493 </p>
<p>The user of MICROSAR Safe shall verify that the configuration of cross core API calls </p>
<p>prevents cores with lower diagnostic coverage from shutdown of cores with higher </p>
<p>diagnostic coverage. </p>
<p><b>21.3.5 Miscellaneous</b></p>
<p><b> </b></p>
<p>SMI-480 </p>
<p>The user of MICROSAR Safe shall not rely on the error parameter macros (starting with </p>
<p><i>Os_ErrorGetParameter_</i>...). </p>
<p>They are not assumed as safety features by Vector. </p>
<p>SMI-481 </p>
<p>The user of MICROSAR Safe shall notify that the <i>PanicHook </i>might not be called if the </p>
<p>active thread is not allowed to modify the interrupt enable/disable state.  </p>
<p>Before calling the <i>PanicHook </i>the OS disables all interrupts. If this fails, the <i>ProtectionHook </i></p>
<p>might be called, caused by the illegal access (depending on hardware platform). </p>
<p>SMI-492 </p>
<p>The user of MICROSAR Safe shall verify for cross core API calls that for each pair of </p>
<p>sender/receiver cores at least one API call is tested and verified across these cores. </p>
<p>SMI-496 </p>
<p>The user of MICROSAR Safe shall verify that calls of the optimized spinlock API don’t </p>
<p>violate any of the spinlock API constraints (e.g. the order of locking). The optimized </p>
<p>spinlock API skips any checks and therefore does not prevent from wrong calls. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>67 / 103 </p>
<p>SMI-497 </p>
<p>The user of MICROSAR Safe shall verify that if a trusted or non-trusted function uses the </p>
<p>passed argument, the trusted function validates these data before usage to prevent from </p>
<p>any violation of safety goals. The caller of CallTrustedFunction or </p>
<p>Os_CallNonTrustedFunction and therefore the passed data might be non-trusted. </p>
<p>SMI-542 </p>
<p>The user of MICROSAR Safe shall verify that each caller of a trusted or non-trusted </p>
<p>function is allowed to call the function, or the function validates the caller before performing </p>
<p>its functionality to prevent from any violation of safety goals. </p>
<p>SMI-538 </p>
<p>The user of MICROSAR Safe shall verify that the context described in the Hardware </p>
<p>Software Interface (HSI) of the used platform is sufficient for the requirements his </p>
<p>application. </p>
<p>SMI-591 </p>
<p>The user of MICROSAR Safe shall verify the correct usage of IOC API functions. Some of </p>
<p>these functions don’t call the ErrorHook if the called function does not return a valid result. </p>
<p>It is recommended to check the return code of these functions:  </p>
<p><b></b></p>
<p><b> </b></p>
<p>IocSend/IocWrite </p>
<p><b></b></p>
<p><b> </b></p>
<p>IocSendGroup/IocWriteGroup </p>
<p><b></b></p>
<p><b> </b></p>
<p>IocReceive/IocRead </p>
<p><b></b></p>
<p><b> </b></p>
<p>IocReceiveGroup/IocReadGroup </p>
<p>SMI-540 </p>
<p>The user of MICROSAR Safe shall verify that the user software does not contain system </p>
<p>call instructions. </p>
<p>Any system call instruction will result in an OS API or in an OS Error. If the user code </p>
<p>directly uses a system call instruction it is likely that the triggered OS API does not work as </p>
<p>expected. Instead, system calls shall only be used by using calls to OS APIs. </p>
<p>A possible verification method might be reviewing the code for (inline) assembler </p>
<p>statements, pragmas or intrinsic functions containing system call instructions. </p>
<p>SMI-2900 </p>
<p>The user of MICROSAR Safe shall verify that the array OsCfg_CorePhysicalRefs contains </p>
<p>all physical cores. </p>
<p>For each existing physical hardware core identifier there shall be one corresponding entry </p>
<p>inside the array which is indexed by the physical hardware core identifier provided directly </p>
<p>by the hardware registers. </p>
<p><b>21.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>68 / 103 </p>
<p><b>21.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The dependencies of this component to hardware is described in the platform specific part </p>
<p>of the Safety Manual. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>69 / 103 </p>
<p><b>22 Safety Manual OS (RH850)</b></p>
<p><b> </b></p>
<p><b>22.1 Safety Features</b></p>
<p><b> </b></p>
<p>No additional safety features are provided. </p>
<p><b>22.2 Configuration Constraints</b></p>
<p><b> </b></p>
<p>SMI-3167 </p>
<p>The software stack check must be switched on when configuring an OS for a RH850 </p>
<p>derivative with a G3K Core. Set &quot;/MICROSAR/Os/OsOS/OsStackMonitoring&quot; to TRUE. </p>
<p><b>22.3 Additional Verification Measures</b></p>
<p><b> </b></p>
<p>SMI-3310 </p>
<p>The user of MICROSAR Safe shall verify the PIT timer configuration of type </p>
<p><i>Os_Hal_TimerPitConfigType </i>in <i>Os_Hal_Timer_Lcfg.c </i>for its correctness. </p>
<p>If the OSTM module &lt;X&gt; (0,1,2,5) channel &lt;0,1,2,3&gt; is configured, the following attributes </p>
<p>must be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_OSTM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_OSTM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<p>If the TAUJ module &lt;X&gt; (0,1,2) channel &lt;Y&gt; (0,1,2,3) is configured, the following attributes </p>
<p>must be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_TAUJ&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_TAUJ </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<p>SMI-3311 </p>
<p>The user of MICROSAR Safe shall verify the FRT timer configuration of type </p>
<p><i>Os_Hal_TimerFrtConfigType </i>in <i>Os_Hal_Timer_Lcfg.c </i>for its correctness. </p>
<p>If the OSTM module &lt;X&gt; (0,1,2,5) channel &lt;Y&gt; (0,1,2,3) is configured, the following </p>
<p>attributes must be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_OSTM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_OSTM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<p>If the STM module &lt;X&gt; (0,1) channel &lt;Y&gt; (1,2,3) is configured, the following attributes </p>
<p>must be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_STM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_STM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>70 / 103 </p>
<p><b>22.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>No additional safety features are required from other components. </p>
<p><b>22.5 Dependencies to Hardware</b></p>
<p><b> </b></p>
<p>The following safety manual have been taken into consideration: </p>
<p><b></b></p>
<p><b> </b></p>
<p>RH850/P1M Safety Application Note / R01AN2118EJ0200 Rev.2.00 Release May 19, </p>
<p>2016 </p>
<p>This OS does not implement any recommended usage from the safety manual (except for </p>
<p>the memory protection SAN-P1x-0405). </p>
<p>It is assumed that the recommended usage related to OS functionality are related to latent </p>
<p>faults only and ASIL D is still achievable without implementation of the recommended </p>
<p>usage by the OS. </p>
<p>Such implementation would cause significant runtime overhead. </p>
<p>SMI-3168 </p>
<p>The user of MICROSAR Safe has to consider DMA controller usage if the used RH850 </p>
<p>derivative incorporates a DMA controller (DMAC). </p>
<p>The DMA controller has direct access to the data bus. Therefore DMA access to memory </p>
<p>is not controlled by MPU protection. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>71 / 103 </p>
<p><b>23 Safety Manual PduR</b></p>
<p><b> </b></p>
<p><b>23.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>23.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>23.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>23.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>23.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>72 / 103 </p>
<p><b>24 Safety Manual Rte</b></p>
<p><b> </b></p>
<p><b>24.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-323 </p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>1024 </p>
<p> </p>
<p>Rte shall provide a service to initiate the transmission of data elements with last-is-best </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1021 </p>
<p> </p>
<p>Rte shall provide a service to copy the received data element to a buffer with last-is-</p>
<p>best semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1022 </p>
<p> </p>
<p>Rte shall provide a service to get the value of the received data element with last-is-</p>
<p>best semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1031 </p>
<p> </p>
<p>Rte shall provide a service to read a data element for implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1029 </p>
<p> </p>
<p>Rte shall provide a service to write a data element for implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1041 </p>
<p> </p>
<p>Rte shall provide a service to get the reference of a data element to be written for </p>
<p>implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1037 </p>
<p> </p>
<p>Rte shall provide a service to get the status of a data element for implicit S/R </p>
<p>communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1033 </p>
<p> </p>
<p>Rte shall provide a service to access the update flag for a data element for explicit S/R </p>
<p>communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1036 </p>
<p> </p>
<p>Rte shall provide a &quot;Never-received&quot; status of a data element for S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1023 </p>
<p> </p>
<p>Rte shall provide a service to initiate the transmission of a data element with queued </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1025 </p>
<p> </p>
<p>Rte shall provide a service to initiate the reception of a data element with queued </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1042 </p>
<p> </p>
<p>Rte shall provide a service to initiate a client-server communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1043 </p>
<p> </p>
<p>Rte shall provide a service to get the result of an asynchronous client-server call. </p>
<p> </p>
<p>CREQ-</p>
<p>1109 </p>
<p> </p>
<p>Rte shall provide mode management. </p>
<p> </p>
<p>CREQ-</p>
<p>1055 </p>
<p> </p>
<p>Rte shall provide a service to get the currently active mode. </p>
<p> </p>
<p>CREQ-</p>
<p>1052 </p>
<p> </p>
<p>Rte shall provide a service to get the currently active, previous and next mode. </p>
<p> </p>
<p>CREQ-</p>
<p>1053 </p>
<p> </p>
<p>Rte shall provide a service to initiate a mode switch. </p>
<p> </p>
<p>CREQ-</p>
<p>1299 </p>
<p> </p>
<p>Rte shall provide Nv data communication. </p>
<p> </p>
<p>CREQ-</p>
<p>Rte shall provide a callback to copy data from a NVM buffer to RTE. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>73 / 103 </p>
<p>1150 </p>
<p> </p>
<p>CREQ-</p>
<p>1148 </p>
<p> </p>
<p>Rte shall provide a callback to copy data from RTE to a NVM buffer. </p>
<p> </p>
<p>CREQ-</p>
<p>1144 </p>
<p> </p>
<p>Rte shall provide a callback to get notified about a finished NVM job. </p>
<p> </p>
<p>CREQ-</p>
<p>1147 </p>
<p> </p>
<p>Rte shall provide a callback to get notified about a requested mirror initialization. </p>
<p> </p>
<p>CREQ-</p>
<p>1046 </p>
<p> </p>
<p>Rte shall provide a service to read Inter-Runnable Variables with explicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1048 </p>
<p> </p>
<p>Rte shall provide a service to write Inter-Runnable Variables with explicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1047 </p>
<p> </p>
<p>Rte shall provide a service to read Inter-Runnable Variables with implicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1044 </p>
<p> </p>
<p>Rte shall provide a service to write Inter-Runnable Variables with implicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1045 </p>
<p> </p>
<p>Rte shall provide a service to access per-instance memory. </p>
<p> </p>
<p>CREQ-</p>
<p>1051 </p>
<p> </p>
<p>Rte shall provide a service to enter an exclusive area. </p>
<p> </p>
<p>CREQ-</p>
<p>1050 </p>
<p> </p>
<p>Rte shall provide a service to leave an exclusive area. </p>
<p> </p>
<p>CREQ-</p>
<p>1056 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to enter an exclusive area of a </p>
<p>BSW Module. </p>
<p> </p>
<p>CREQ-</p>
<p>1049 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to leave an exclusive area of a </p>
<p>BSW Module. </p>
<p> </p>
<p>CREQ-</p>
<p>1068 </p>
<p> </p>
<p>Rte shall provide a service to access internal calibration parameters. </p>
<p> </p>
<p>CREQ-</p>
<p>1075 </p>
<p> </p>
<p>Rte shall provide a service to access calibration parameters accessible via ports. </p>
<p> </p>
<p>CREQ-</p>
<p>1059 </p>
<p> </p>
<p>Rte shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-</p>
<p>1073 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-</p>
<p>1161 </p>
<p> </p>
<p>Rte shall provide a service to trigger executable entities. </p>
<p> </p>
<p>CREQ-</p>
<p>1165 </p>
<p> </p>
<p>Rte shall use schedule points to invoke the scheduler of the OS. </p>
<p> </p>
<p>CREQ-</p>
<p>1129 </p>
<p> </p>
<p>Rte shall provide the event handling of TimingEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1112 </p>
<p> </p>
<p>Rte shall provide the event handling of SwcModeSwitchEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1124 </p>
<p> </p>
<p>Rte shall provide the event handling of AsynchronousServerCallReturnsEvents to </p>
<p>trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1126 </p>
<p> </p>
<p>Rte shall provide the event handling of OperationInvokedEvents to trigger a runnable. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>74 / 103 </p>
<p>CREQ-</p>
<p>1118 </p>
<p> </p>
<p>Rte shall provide the event handling of DataReceivedEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1132 </p>
<p> </p>
<p>Rte shall provide the event handling of ModeSwitchedAckEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1114 </p>
<p> </p>
<p>Rte shall provide the event handling of the InitEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1295 </p>
<p> </p>
<p>Rte shall provide the event handling of TimingEvents to trigger a schedulable entity. </p>
<p> </p>
<p>CREQ-</p>
<p>1152 </p>
<p> </p>
<p>Rte shall provide a &quot;RTE_AND_SCHM_UNINIT&quot; state. </p>
<p> </p>
<p>CREQ-</p>
<p>1164 </p>
<p> </p>
<p>Rte shall provide a &quot;RTE_UNINT_SCHM_INIT&quot; state. </p>
<p> </p>
<p>CREQ-</p>
<p>1166 </p>
<p> </p>
<p>Rte shall provide a &quot;INIT&quot; state. </p>
<p> </p>
<p> </p>
<p><b>24.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-2066 </p>
<p>The user of MICROSAR Safe shall disable online calibration and measurement during </p>
<p>series production. </p>
<p>The RTE can be generated with online calibration and measurement enabled for series </p>
<p>production, but they shall be made inoperable for normal operation. Vector's XCP can e.g. </p>
<p>be disabled safely during runtime by ASIL software. </p>
<p><b>24.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>Please note that the RTE Generator and RTE Analyzer only implement measures to detect </p>
<p>systematic faults by the software. No measures are implemented to detect or mitigate </p>
<p>random faults on the computer used for generation. </p>
<p>SMI-322 </p>
<p>The user of MICROSAR Safe shall execute the RTE Analyzer. </p>
<p>The RTE Analyzer performs checks to identify faults in the generated RTE. Especially out-</p>
<p>of-bounds accesses within the RTE are detected. If RTE Analyzer reports a fault, the </p>
<p>generated RTE cannot be used. Moreover it provides the user of MICROSAR Safe with </p>
<p>feedback what was generated. This feedback shall be reviewed during integration testing. </p>
<p>Please see the Technical Reference of the RTE Analyzer how to execute it. </p>
<p>The RTE Analyzer lists RTE APIs that read or write end-to-end protected data (see SMI-</p>
<p>98). </p>
<p><b>24.3.1 Guided integration testing</b></p>
<p><b> </b></p>
<p>Residual faults in the RTE Generator can only be found during integration testing. Vector </p>
<p>assumes that the user of MICROSAR Safe performs an integration testing and verification </p>
<p>of software safety requirements according to ISO 26262 Part 6 Clauses 10 and 11 (see </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>75 / 103 </p>
<p>also SMI-4). To support this integration testing the RTE Analyzer produces a configuration </p>
<p>feedback report.  </p>
<p>Please refer to the Technical Reference of the RTE Analyzer for a description of the </p>
<p>configuration feedback report. </p>
<p>This section describes the requirements that must be fulfilled during integration testing and </p>
<p>verification of software safety requirements. </p>
<p><b>24.3.1.1 BSW configuration </b></p>
<p>SMI-2124 </p>
<p>The user of MICROSAR Safe shall ensure that the RTE and the operating system assume </p>
<p>the same scheduling properties. </p>
<p>The scheduling properties of the RTE tasks depend on the configuration of the operating </p>
<p>system. The scheduling properties are e.g. preemptability, core assignment or task priority. </p>
<p>The RTE Analyzer lists the scheduling properties in the configuration feedback report to </p>
<p>assist in this integration step. </p>
<p>SMI-2129 </p>
<p>The user of MICROSAR Safe shall ensure that the assumptions of the operating system </p>
<p>and the RTE are the same with regards to the locking behavior of the spinlocks.  </p>
<p>The RTE generator uses spinlocks from the operating system to protect inter-core </p>
<p>communication. Spinlocks must not be called concurrently on the same core. The </p>
<p>operating system optionally provides spinlocks that can prevent these concurrent </p>
<p>accesses on the same core. If this protection by the operating system is not used, the RTE </p>
<p>generator has to prevent concurrent calls to the spinlock APIs on the same core.  </p>
<p>Verification can e.g. be performed by review of the configuration feedback report. </p>
<p>The RTE Analyzer lists spinlocks that are not protected by the RTE to assist in this </p>
<p>integration step. </p>
<p>SMI-684 </p>
<p>The user of MICROSAR Safe shall ensure that the configuration of COM and RTE are </p>
<p>consistent. </p>
<p>The interfaces to the COM that are used for signal reception use <i>void </i>pointers as </p>
<p>parameter. Inconsistencies between the configuration of the COM and the RTE might lead </p>
<p>to memory corruption by the COM. During integration the size assumptions between the </p>
<p>COM and the RTE shall be compared.  </p>
<p>Verification can be performed by review of the generated configuration and/or static code </p>
<p>analysis. </p>
<p>The RTE Analyzer lists relevant calls to assist in this integration step. </p>
<p>SMI-685 </p>
<p>The user of MICROSAR Safe shall ensure that the configuration of NVM and RTE are </p>
<p>consistent. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>76 / 103 </p>
<p>The interfaces to the NVM that are used to handle NV Block SWCs use <i>void </i>pointers as </p>
<p>parameters. Inconsistencies between the configuration of the NVM and the RTE might </p>
<p>lead to memory corruption by the RTE. During integration the size assumptions between </p>
<p>the NVM and the RTE shall be compared.  </p>
<p>Verification can be performed by review of the generated configuration and/or static code </p>
<p>analysis. </p>
<p>The RTE Analyzer lists relevant calls to assist in this integration step. </p>
<p><b>24.3.1.2 Executable Entity Scheduling </b></p>
<p>SMI-2063 </p>
<p>The user of MICROSAR Safe shall ensure that all safety-related executable entities are </p>
<p>triggered with their correct conditions. </p>
<p>These conditions are: </p>
<p><b></b></p>
<p><b> </b></p>
<p>cylic triggers with cycle time and offset </p>
<p><b></b></p>
<p><b> </b></p>
<p>init triggers </p>
<p><b></b></p>
<p><b> </b></p>
<p>background triggers </p>
<p><b></b></p>
<p><b> </b></p>
<p>triggers fired by RTE APIs </p>
<p>If triggers have a dependency on modes, the scheduling has to be verified for all modes. </p>
<p>Modes can be switched with the <i>Rte_Switch </i>API. </p>
<p>Triggers can be decoupled by the minimum start interval functionality and the data </p>
<p>reception filter functionality. </p>
<p>The scheduling of the executable entities also depends on the configuration of the </p>
<p>operating system, the used controller, other running tasks and interrupt service routines </p>
<p>and the resource usage of the entities that are implemented by the user. </p>
<p>Vector recommends not using the minimum start interval and the data reception filter </p>
<p>functionality for safety-related runnables. </p>
<p>Vector recommends not using background triggers for safety-related functionality. </p>
<p>Vector recommends using cyclic scheduling without mode dependencies and using of a </p>
<p>watchdog as safety mechanism for safety-related entities where possible. </p>
<p>Cyclic triggers are e.g. scheduled deterministically. Thus, an integration test verifying that </p>
<p>safety-related functionality is scheduled at the expected times may be sufficient. </p>
<p>The RTE Analyzer lists the executable entities of SWCs and the tasks in which they are </p>
<p>executed to assist in this integration step.  </p>
<p>SMI-2128 </p>
<p>The user of MICROSAR Safe shall ensure that reentrant runnables are reentrant. </p>
<p>Runnables can be called reentrantly from multiple tasks. Their implementation needs to </p>
<p>support this use case.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>77 / 103 </p>
<p>Verification can e.g. be performed by review, static code analysis and/or integration </p>
<p>testing. </p>
<p>The RTE Analyzer lists all runnables of SWCs that are called from concurrent tasks to </p>
<p>assist in this integration step. </p>
<p>SMI-2064 </p>
<p>The user of MICROSAR Safe shall ensure that the timeouts configured for blocking APIs </p>
<p>that are used in safety-related executable entities are adequately addressed. If a timeout </p>
<p>for a blocking API is used as a safety mechanism (i.e. e.g. no checkpoint with deadline </p>
<p>monitoring in the task), the user of MICROSAR Safe shall also ensure that the timeout </p>
<p>value is adequate. </p>
<p>Relevant timeouts are: </p>
<p><b></b></p>
<p><b> </b></p>
<p>timeouts of <i>Rte_Call </i>APIs </p>
<p><b></b></p>
<p><b> </b></p>
<p>timeouts of <i>Rte_Result </i>APIs </p>
<p><b></b></p>
<p><b> </b></p>
<p>timeouts of <i>Rte_Receive </i>APIs </p>
<p><b></b></p>
<p><b> </b></p>
<p>timeouts of <i>Rte_Feedback </i>APIs </p>
<p><b></b></p>
<p><b> </b></p>
<p>timeouts of <i>Rte_SwitchAck </i>APIs </p>
<p>The timeouts also depend on the configuration of the operating system, the used </p>
<p>controller, other running tasks and interrupt service routines and the resource usage of </p>
<p>entities that are implemented by the user. </p>
<p>Vector recommends not using blocking APIs in safety-related entities except for cross </p>
<p>partition client-/server communication. </p>
<p>Vector strongly recommends not using blocking APIs without timeout. </p>
<p>A review may be sufficient to verify that timeout handling is implemented properly by the </p>
<p>SWC. </p>
<p>If no other safety mechanism is in place, a test that the timeout is notified at the expected </p>
<p>time by the RTE can be used as means of verification. </p>
<p>The RTE Analyzer lists the blocking APIs of SWCs to assist in this integration step. </p>
<p>SMI-2122 </p>
<p>The user of MICROSAR Safe shall ensure that the correct implementation method has </p>
<p>been chosen for every exclusive area. </p>
<p>Exclusive areas can be used to ensure data consistency (see SMI-11). </p>
<p>The implementation depends on the requirements of the application and on other factors </p>
<p>like the expected duration of the exclusive area. Interrupt locks are typically faster than </p>
<p>resources but can only be used for short sequences due to the blocking of interrupts. </p>
<p>Operating system interrupts only block the interrupts of the operating system whereas <b>all </b></p>
<p>interrupts blocks all interrupts. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>78 / 103 </p>
<p>Verification can e.g. be performed by review, static code analysis and/or integration </p>
<p>testing. </p>
<p>The RTE Analyzer lists the exclusive areas and their implementation method to assist in </p>
<p>this integration step. </p>
<p><b>24.3.1.3 SWC Communication </b></p>
<p>SMI-324 </p>
<p>The user of MICROSAR Safe shall ensure that the connections between SWCs are as </p>
<p>intended. </p>
<p>Many types of faults can lead to a mix of connections between SWCs. These are unlikely </p>
<p>and usually already addressed by straight forward integration testing. </p>
<p>The list of senders needs to be correct for every receiver and the subset of the received </p>
<p>data needs to be correct. </p>
<p>Vector recommends the following RTE subset for safety-related SWCs: </p>
<p><b></b></p>
<p><b> </b></p>
<p>use only 1:1 or 1:N connections. </p>
<p><b></b></p>
<p><b> </b></p>
<p>use the same datatype on both sides of a connection </p>
<p><b></b></p>
<p><b> </b></p>
<p>avoid data conversion </p>
<p>Information that is used from non-safety-related SWCs has to be checked for plausibility. If </p>
<p>such a data path is found during integration this is an indicator that your safety analysis </p>
<p>has to be reconsidered. Please note that also other code in the same partition as the non-</p>
<p>safety-related SWCs can corrupt the communication if freedom from interference with </p>
<p>regards to memory is not ensured. </p>
<p>Verification can be performed by review and/or an integration test testing the normal </p>
<p>operation. </p>
<p>The RTE Analyzer list the connections between SWCs to assist in this integration step. </p>
<p>SMI-2065 </p>
<p>The user of MICROSAR Safe shall ensure that inter-ECU sender-/receiver and inter-ECU </p>
<p>client-/server communication work as expected. </p>
<p>This requires verification of: </p>
<p><b></b></p>
<p><b> </b></p>
<p>data needs to be routed to the correct ECU by the underlying communication stack. </p>
<p>This includes 1:1, 1:N, N:1 and reception of partial signal data. </p>
<p><b></b></p>
<p><b> </b></p>
<p>both ECUs need to use the same data representation (datatypes, endianess, </p>
<p>serialization) </p>
<p>Vector requires using E2E protection for safety-related signals. </p>
<p>Vector recommends using 1:1 connections. </p>
<p>Vector recommends always sending and receiving complete data elements. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>79 / 103 </p>
<p>Integration testing on vehicle network level using fault-injection can be used. Vector </p>
<p>assumes that this is normally done to verify the effectiveness of the E2E protection. </p>
<p>The RTE Analyzer lists the APIs of SWCs with inter-ECU communication to assist in this </p>
<p>integration step. </p>
<p>SMI-2123 </p>
<p>The user of MICROSAR Safe shall ensure that all connected SWCs expect the same </p>
<p>converted data. </p>
<p>The RTE offers conversions that can be applied to specific connections. </p>
<p>Vector recommends not using data conversion for safety-related connections. </p>
<p>Verification can e.g. be performed by review or integration testing of all data conversions. </p>
<p>The RTE Analyzer lists all APIs of SWCs that perform data conversion to assist in this </p>
<p>integration step. </p>
<p><b>24.3.1.4 Usage of RTE Headers </b></p>
<p>SMI-2067 </p>
<p>The user of MICROSAR Safe shall ensure that the <i>defines </i>and <i>typedefs </i>that are </p>
<p>generated by the RTE match the expectations of the SWCs that use them. </p>
<p>Inconsistencies may lead to e.g, memory corruption when a runnable uses an RTE array </p>
<p>datatype within its implementation and writes beyond the bounds of this array. </p>
<p>Moreover, different SWCs may have different assumptions with regards to the meaning of </p>
<p>communicated values, e.g. if one SWC uses the symbolic name, another SWC the integral </p>
<p>value of an enumerated type. </p>
<p>The following code is provided: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Application Error Defines for Client-/Server Communication </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured AUTOSAR Datatypes </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Upper and Lower Limit Defines for Primitive Application Data Types </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Init Value Defines for Sender-/Receiver Communication </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured InvalidValue Defines for Sender-/Receiver Communication </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Enumeration Defines for CompuMethods </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Mask Defines for CompuMethods </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured Mode Defines for Mode Communication </p>
<p><b></b></p>
<p><b> </b></p>
<p>Configured ActivationReasons </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>80 / 103 </p>
<p>The defines and typedefs are part of the <i>Rte_Type</i>.<i>h</i>, <i>Rte_</i>&lt;SWC&gt;.<i>h </i>and </p>
<p><i>Rte_</i>&lt;SWC&gt;_Type.<i>h </i>headers. </p>
<p>Vector recommends using the headers generated by the RTE when a static code analysis </p>
<p>is performed on the application code. </p>
<p>Vector recommends only using the <i>defines </i>instead of the defined values in the code. </p>
<p>Vector recommends using the <i>defines </i>only when needed (Mode, Application Error </p>
<p>Defines). </p>
<p>Vector recommends reviewing the used <i>defines </i>for safety-related SWCs. </p>
<p>Vector recommends not using union types in the SWCs. </p>
<p>Verification for correct usage of datatypes may be performed by review and/or static code </p>
<p>analysis. Consistent usage of <i>defines </i>can be verified by review and/or integration testing </p>
<p>with all used values. </p>
<p>The RTE Analyzer verifies that all accesses within the RTE do not lead to memory </p>
<p>corruption. </p>
<p>SMI-2071 </p>
<p>The user of MICROSAR Safe shall ensure that the indirect API is used consistently.  </p>
<p>Indirect API functionality consists of the APIs: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>Rte_Port </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>Rte_Ports </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>Rte_NPorts </i></p>
<p>The indirect API makes it possible to call different APIs through an array access. The </p>
<p>indirect API functionality can be enabled individually per port. </p>
<p>A wrong configuration switch can easily lead to a call outside of the array returned by the </p>
<p>Rte_Ports API. </p>
<p>Vector recommends not using the indirect API. </p>
<p>Verification can e.g. be performed by review that the intended APIs are returned. </p>
<p>The RTE Analyzer does not assist in this integration step. </p>
<p><b>24.3.1.5 Usage of RTE APIs </b></p>
<p>SMI-2072 </p>
<p>The user of MICROSAR Safe shall ensure that the RTE and all of its users have the same </p>
<p>assumptions with regards to the sizes of the datatypes. </p>
<p>The RTE supports the configuration of custom datatypes for its APIs. The RTE </p>
<p>specification mandates that arrays are passed as pointer to the array base type. </p>
<p>The RTE does not enforce that both sides of a connection use arrays of the same size. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>81 / 103 </p>
<p>No NULL pointers or invalid pointers shall be passed to RTE APIs. </p>
<p>The object to which the pointer points needs to have at least the size of the pointer base </p>
<p>type. </p>
<p>Vector recommends using the headers generated by the RTE when static code analysis is </p>
<p>performed on the application code. </p>
<p>Vector recommends using the same datatypes on both sides of a connection. </p>
<p>Arrays and void pointers on interfaces where the called function writes to them are </p>
<p>considered especially relevant. </p>
<p>Verification can e.g. be performed by review and/or static code analysis. </p>
<p>The RTE Analyzer lists APIs and runnables that use such parameters to assist in this </p>
<p>integration step. </p>
<p>SMI-2073 </p>
<p>The user of MICROSAR Safe shall ensure that RTE APIs are only called from their </p>
<p>configured contexts. </p>
<p>Fast response times are crucial in embedded systems. Therefore, the RTE generator </p>
<p>analyzes the call contexts of all APIs in order to optimize away unneeded interrupt locks. </p>
<p>When the application calls the APIs from a different context than the RTE assumes, data </p>
<p>consistency problems may arise. </p>
<p>In systems with ASIL partitions, the RTE generator uses a conservative locking strategy. </p>
<p>Locks are only optimized away if all accesses are done within the same task. </p>
<p>Verification can e.g. be performed by review and/or static code analysis. </p>
<p>The RTE Analyzer lists the optimized APIs of SWCs to assist in this integration step. </p>
<p>The RTE Analyzer lists APIs that must not be called by the application because they are </p>
<p>considered unreachable due to the RTE configuration. </p>
<p><b>24.3.1.6 Configuration of RTE APIs </b></p>
<p>SMI-2074 </p>
<p>The user of MICROSAR Safe shall ensure that the receivers can handle the initial value </p>
<p>provided by the RTE if no write or calibration occurred. For implicit accesses it has to be </p>
<p>assured that the correct initial value is sent when <i>Rte_IWrite </i>or <i>Rte_IWriteRef </i>were not </p>
<p>called in the runnable. </p>
<p>Initial values can be configured for: </p>
<p><b></b></p>
<p><b> </b></p>
<p>non-queued sender-/receiver communication </p>
<p><b></b></p>
<p><b> </b></p>
<p>inter-runnable variables </p>
<p><b></b></p>
<p><b> </b></p>
<p>mode ports  </p>
<p><b></b></p>
<p><b> </b></p>
<p>calibration parameters  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>82 / 103 </p>
<p>The initial value is returned when no sending API was called before the first read or no </p>
<p>calibration was performed before the first read. The initial values depend on the connected </p>
<p>components. </p>
<p>Vector recommends using the same initial value on all port data elements that are </p>
<p>connected with each other. </p>
<p>The RTE Analyzer lists all APIs of SWCs that may provide an initial value to assist in this </p>
<p>integration step. If possible, the RTE Analyzer reports the initial value generated by the </p>
<p>RTE into the configuration feedback report. </p>
<p>SMI-2075 </p>
<p>The user of MICROSAR Safe shall ensure that the alive timeout by the COM is not used </p>
<p>for safety-related inter-ECU sender/receiver communication. </p>
<p>Safety-related communication must be protected by E2E protection. The decision if new </p>
<p>data is available (alive) can only be made by the E2E mechanism. Data is not interpreted </p>
<p>by the COM. For example the sending ECU might repeat old data. This is only detected by </p>
<p>the cycle counter that is part of the E2E protection. </p>
<p>The RTE Analyzer lists the reading APIs that provide the alive timeout status to assist in </p>
<p>this integration step. </p>
<p>SMI-2126 </p>
<p>The user of MICROSAR Safe shall ensure that SWCs handle the <i>RTE_E_INVALID </i>return </p>
<p>code properly. </p>
<p>The RTE offers a functionality to invalidate signals. </p>
<p>Vector requires using end-to-end protection for safety-related signals. Relying on the </p>
<p>invalidation mechanism for safety-related signals is not an option. The user of MICROSAR </p>
<p>Safe shall not use invalidation for inter-ECU communication. </p>
<p>Verification can e.g. be performed by review and/or integration testing. </p>
<p>The RTE Analyzer lists RTE APIs that return the <i>RTE_E_INVALID </i>return code to assist in </p>
<p>this integration step. </p>
<p>SMI-2127 </p>
<p>The user of MICROSAR Safe shall ensure that SWCs handle the </p>
<p><i>RTE_E_NEVER_RECEIVED </i>return code properly. </p>
<p>The RTE offers a functionality to report if a signals was received after the ECU was </p>
<p>started. </p>
<p>Vector requires using end-to-end protection for safety-related signals. Relying on the never </p>
<p>received mechanism for safety-related signals is not an option. Especially, when using the </p>
<p>E2E transformer, its return value shall be evaluated. </p>
<p>Verification can e.g. be performed by review or integration testing. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>83 / 103 </p>
<p>The RTE Analyzer lists RTE APIs that return the <i>RTE_E_NEVER_RECEIVED </i>return code </p>
<p>to assist in this integration step. </p>
<p>SMI-2125 </p>
<p>The user of MICROSAR Safe shall ensure that the queue sizes that were chosen during </p>
<p>the configuration are sufficient for the integrated system. </p>
<p>The RTE uses queues for mode communication, sender-/receiver communication and </p>
<p>mapped client-/server communication. The queue sizes depend on the scheduling of </p>
<p>entities and the call sequences of the APIs. </p>
<p>Vector recommends not using APIs with queues for safety-related functionality. </p>
<p>Verification can e.g. be performed by stress testing. </p>
<p>The RTE Analyzer lists the queue sizes to assist in this integration step. </p>
<p><b>24.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-2121 </p>
<p>RTE requires the following functionality as safety feature from the operating system: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Interrupt enabling/disabling </p>
<p><b></b></p>
<p><b> </b></p>
<p>Resource handling </p>
<p><b></b></p>
<p><b> </b></p>
<p>Inter OS Application Communicator (IOC) sending and receiving functionality </p>
<p><b></b></p>
<p><b> </b></p>
<p>Spin-lock functionality </p>
<p><b></b></p>
<p><b> </b></p>
<p>Alarm handling </p>
<p><b></b></p>
<p><b> </b></p>
<p>Schedule table handling </p>
<p><b></b></p>
<p><b> </b></p>
<p>Activation of tasks </p>
<p><b></b></p>
<p><b> </b></p>
<p>Event handling </p>
<p>This requirement is fulfilled if an ASIL operating system by Vector is used. </p>
<p>SMI-2978 </p>
<p>RTE requires the following functionality as safety feature from the NvM: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Reading blocks </p>
<p><b></b></p>
<p><b> </b></p>
<p>Writing blocks </p>
<p>This requirement is fulfilled if an ASIL NvM by Vector is used. </p>
<p><b>24.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>84 / 103 </p>
<p><b>25 Safety Manual WdgIf</b></p>
<p><b> </b></p>
<p><b>25.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-519 </p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>107414 </p>
<p> </p>
<p>WdgIf shall provide a service to set the mode of a watchdog device</p>
<p> </p>
<p>CREQ-</p>
<p>107415 </p>
<p> </p>
<p>WdgIf shall provide a service to set the trigger condition for a watchdog device</p>
<p> </p>
<p>CREQ-</p>
<p>107416 </p>
<p> </p>
<p>WdgIf shall support a mechanism to combine statuses of different cores and handle </p>
<p>one watchdog for different cores</p>
<p> </p>
<p> </p>
<p><b>25.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-522 </p>
<p>If a state combiner is used, the user of MICROSAR Safe shall configure  </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgIfStateCombinerSpinlockID </i>and </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgIfStateCombinerStartUpSyncCycles </i></p>
<p>for each core that is used by the state combiner. </p>
<p>SMI-523 </p>
<p>If a state combiner is used and <i>WdgIfStateCombinerStartUpSyncCycles </i>is set to a value s, </p>
<p>the user of MICROSAR Safe shall consider that for the first s SupervisionCycles of the </p>
<p>master, the master does not monitor the slave triggers. </p>
<p>However, reset requests from a slave within the first s SupervisionCycles, are escalated by </p>
<p>the master with the next call of the master’s <i>WdgM_MainFunction()</i>. </p>
<p><b>25.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-525 </p>
<p>The user of MICROSAR Safe shall verify that the output path of the generator is empty </p>
<p>before the generator is started. </p>
<p>The output path can be defined by the command line argument <i>OUTPUT-DIRECTORY</i>. </p>
<p>SMI-526 </p>
<p>The user of MICROSAR Safe shall inspect the messages of the generator execution. </p>
<p>If the generator aborts the generation process with an error message, the (partially) </p>
<p>generated output files shall not be used in the system. </p>
<p>If the generator detects an error, a message starting with &quot;ERROR&quot; is displayed on the </p>
<p>standard output. </p>
<p>If the generator shows a warning message starting with &quot;WARNING&quot;, the user of </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>85 / 103 </p>
<p>MICROSAR Safe shall ensure that the cause of the warning does not invalidate the </p>
<p>generated output files. </p>
<p>SMI-527 </p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value independent from whether a state combiner is configured or </p>
<p>not: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_VERSION_INFO_API</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfVersionInfoApi </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_USE_AUTOSAR_DRV_API</i></p>
<p> </p>
<p><i>STD_ON</i></p>
<p> </p>
<p><i>WDGIF_DEV_ERROR_DETECT</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfDevErrorDetect </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_INTERNAL_TICK_COUNTER</i></p>
<p> </p>
<p><i>STD_OFF</i></p>
<p> </p>
<p><i>WDGIF_USE_STATECOMBINER</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfUseStateCombiner </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p>The defines can be found in <i>WdgIf_Cfg_Features.h</i>. </p>
<p>SMI-528 </p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value only if a state combiner is configured: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_STATECOMBINER_USE_OS_SPIN_LOCK</i></p>
<p> </p>
<p><i>STD_ON </i>if </p>
<p><i>WdgIfStateCombinerUseOsSpinlock </i>is </p>
<p><i>TRUE</i>, otherwise <i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_STATECOMBINER_MANUAL_MODE</i></p>
<p> </p>
<p><i>STD_ON </i>if </p>
<p><i>WdgIfStateCombinerUseManualMode </i>is </p>
<p><i>TRUE</i>, otherwise <i>STD_OFF</i>.</p>
<p> </p>
<p>The defines can be found in <i>WdgIf_Cfg_Features.h</i>. </p>
<p>SMI-529 </p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value independent from whether a state combiner is configured or </p>
<p>not: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_NUMBER_OF_WDGIFDEVICES</i></p>
<p> </p>
<p>The number of configured WD Interface Devices.</p>
<p> </p>
<p>The define can be found in <i>WdgIf_LCfg.h</i>. </p>
<p>SMI-530 </p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value only if a state combiner is configured: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_NUMBER_OF_SLAVES</i></p>
<p> </p>
<p>The configured number of slave cores. Cores that are not </p>
<p>attached to a State Combiner (i.e. they run independent from </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>86 / 103 </p>
<p>other cores) do not count as slave.</p>
<p> </p>
<p>The define can be found in <i>WdgIf_LCfg.h</i>. </p>
<p>SMI-531 </p>
<p>The user of MICROSAR Safe shall verify that the C-struct <i>const WdgIf_InterfaceType </i></p>
<p><i>WdgIf_Interface </i>is defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>WdgIf_Interface </i>shall contain the following fields: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WDGIF_NUMBER_OF_WDGIFDEVICES</i></p>
<p> </p>
<p>The number of WD Interface Devices.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIf_FunctionsPerWdg</i></p>
<p> </p>
<p>A reference to the list of WD Interface Devices.</p>
<p> </p>
<p>If a state combiner is configured, <i>WdgIf_Interface </i>shall also contain the following fields:  </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>3rd </p>
<p> </p>
<p><i>&amp;wdgif_statecombiner_common_config</i></p>
<p> </p>
<p>A reference to the state combiner data structure.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>wdgif_statecombiner_manual_config</i></p>
<p> </p>
<p>In case of manual mode.</p>
<p> </p>
<p> </p>
<p>SMI-532 </p>
<p>The user of MICROSAR Safe shall verify that the array <i>static const </i></p>
<p><i>WdgIf_InterfaceFunctionsPerWdgDeviceType WdgIf_FunctionsPerWdg </i></p>
<p>[WDGIF_NUMBER_OF_WDGIFDEVICES] is defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>WdgIf_FunctionsPerWdg </i>shall refer all – and only - the WD Interface Devices that are </p>
<p>configured in the EDF. </p>
<p><i>WdgIf_FunctionsPerWdg[i] </i>shall refer the underlying WD Interface Device in the EDF with </p>
<p><i>WdgIfDeviceIndex </i>= <i>i</i>. </p>
<p>The fields in an array element in <i>WdgIf_FunctionsPerWdg </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>&amp;device_functions</i></p>
<p> </p>
<p>If the underlying WD Interface Device is directly linked to a WD driver </p>
<p>for device, then the field refers to the C-struct device_functions.</p>
<p> </p>
<p>1st </p>
<p> </p>
<p>NULL_PTR </p>
<p> </p>
<p>If the underlying WD Interface Device shares the WD driver with other </p>
<p>WD Interface Devices using a state combiner, then the linked WD </p>
<p>device is referred in <i>wdgif_statecombiner_common_config</i>.</p>
<p> </p>
<p>If a state combiner is configured, an array element in <i>WdgIf_FunctionsPerWdg </i>shall also </p>
<p>contain the following field:  </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>2nd </p>
<p> </p>
<p><i>WdgInstance</i></p>
<p> </p>
<p>A number that uniquely identifies the WD Interface Device instance for the </p>
<p>underlying platform. All instances on the same platform are numbered </p>
<p>consecutively starting with 0. Example: One platform has instances A and B, </p>
<p>another platform has instances C and D. Then A, B, C, and D have </p>
<p><i>WdgInstance </i>set (in this order) as: 0,1,0,1.</p>
<p> </p>
<p> </p>
<p>SMI-533 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>87 / 103 </p>
<p>If a state combiner is configured, the user of MICROSAR Safe shall verify that the array </p>
<p><i>static const WdgIf_StateCombinerCommonConfigType </i></p>
<p><i>wdgif_statecombiner_common_config </i>is defined in <i>WdgIf_LCfg.c</i>. </p>
<p>The fields in <i>wdgif_statecombiner_common_config </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WDGIF_NUMBER_OF_SLAVES</i></p>
<p> </p>
<p>The number of configured slaves.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIfStateCombinerSpinlockID</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSpinlockID </i>in the EDF.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>WdgIfStateCombinerStartUpSyncCycles</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerStartUpSyncCycles </i>in the </p>
<p>EDF.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>&amp;device_functions</i></p>
<p> </p>
<p>A reference to the WD driver API functions for </p>
<p>device.</p>
<p> </p>
<p>5th </p>
<p> </p>
<p><i>wdgif_statecombiner_shared_memory</i></p>
<p> </p>
<p>A reference to the shared memory for the state </p>
<p>combiners of the Watchdog Interfaces.</p>
<p> </p>
<p> </p>
<p>SMI-534 </p>
<p>If a state combiner is configured, the user of MICROSAR Safe shall verify that the array </p>
<p><i>WdgIf_StateCombinerSharedMemory wdgif_statecombiner_shared_memory </i></p>
<p>[WDGIF_NUMBER_OF_SLAVES] is defined in <i>WdgIf_LCfg.c</i>. </p>
<p>The WdgIf writes to this array, hence it is not <i>const</i>. </p>
<p><i>wdgif_statecombiner_shared_memory </i>shall contain one array element for each configured </p>
<p>slave and the fields in the element shall be set as shown in the following table: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s WindowStart.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s WindowStart.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s Timeout.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s Timeout.</p>
<p> </p>
<p>5th </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s counter.</p>
<p> </p>
<p>6th </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s counter.</p>
<p> </p>
<p> </p>
<p>SMI-535 </p>
<p>If the state combiner is configured in manual mode, the user of MICROSAR Safe shall </p>
<p>verify that the array <i>static const WdgIf_StateCombinerManualConfigType* </i></p>
<p><i>wdgif_statecombiner_manual_config </i>[WDGIF_NUMBER_OF_SLAVES] is defined in </p>
<p><i>WdgIf_LCfg.c</i>. </p>
<p><i>wdgif_statecombiner_manual_config </i>shall list the references to all configured slaves. </p>
<p><i>wdgif_statecombiner_manual_config[i] </i>= <i>&amp;wdgif_statecombiner_config_slave&lt;ID&gt;</i>, where </p>
<p>ID is the slave’s consecutive number starting with 1. </p>
<p>SMI-536 </p>
<p>If the state combiner is configured in manual mode, the user of MICROSAR Safe shall </p>
<p>verify that for a configured slave with ID the C-struct <i>static const </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>88 / 103 </p>
<p><i>WdgIf_StateCombinerManualConfigType wdgif_statecombiner_config_slave&lt;ID&gt; </i>is </p>
<p>defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>wdgif_statecombiner_config_slave&lt;ID&gt; </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WdgIfStateCombinerReferenceCycle</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerReferenceCycle </i>in the </p>
<p>EDF.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMin</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMin </i>in </p>
<p>the EDF.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMax</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMax </i>in </p>
<p>the EDF.</p>
<p> </p>
<p> </p>
<p>SMI-537 </p>
<p>The user of MICROSAR Safe shall verify that for each configured platform the C-struct </p>
<p><i>static const WdgIf_InterfaceFunctionsType &lt;platform&gt;_functions </i>is defined in </p>
<p>WdgIf_LCfg.c. </p>
<p>The fields for each C-struct &lt;platform&gt;_functions shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetMode_ </p>
<p> </p>
<p>A reference to the WD driver’s API </p>
<p>function to set the mode of the device </p>
<p>referred to by infix.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetTriggerWindow_ and </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetTriggerCondition_ </p>
<p> </p>
<p>A reference to the WD driver’s API </p>
<p>function to set the trigger window of the </p>
<p>device referred to by infix.</p>
<p> </p>
<p> </p>
<p><b>25.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-520 </p>
<p>This component requires the triggering of the watchdog and setting the triggering mode as </p>
<p>a safety feature from the watchdog driver. </p>
<p>This requirement is fulfilled if a watchdog driver by Vector is used. </p>
<p>SMI-3085 </p>
<p>The WdgIf shall be used in order to call the services of underlying Watchdog driver(/s) to </p>
<p>set the mode and the trigger condition as expected by the drivers. </p>
<p>The user of MICROSAR Safe shall verify that the WdgIf services are only called by the </p>
<p>WdgM. </p>
<p>This requirement is fulfilled for all components of MICROSAR (if Vector's WdgM is used). </p>
<p>If e.g. the trigger condition is called by another component, this may lead to unintended </p>
<p>triggering of the watchdog. </p>
<p>If the watchdog stack is not properly set up, it may not provide the expected protection. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>89 / 103 </p>
<p><b>25.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>90 / 103 </p>
<p><b>26 Safety Manual WdgM</b></p>
<p><b> </b></p>
<p><b>26.1 Safety features</b></p>
<p><b> </b></p>
<p>SMI-373 </p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>102746 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Alive Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102745 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Deadline Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102744 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Logical Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102749 </p>
<p> </p>
<p>WdgM shall provide a service to trigger a checkpoint.</p>
<p> </p>
<p>CREQ-</p>
<p>102752 </p>
<p> </p>
<p>WdgM shall provide a service to initiate a reset triggered by the hardware </p>
<p>watchdog.</p>
<p> </p>
<p>CREQ-</p>
<p>102754 </p>
<p> </p>
<p>WdgM shall provide a service to activate the supervision of a Supervised Entity.</p>
<p> </p>
<p>CREQ-</p>
<p>102755 </p>
<p> </p>
<p>WdgM shall provide a service to deactivate the supervision of a Supervised Entity.</p>
<p> </p>
<p>CREQ-</p>
<p>102763 </p>
<p> </p>
<p>WdgM shall provide a service to cyclically update the global supervision status.</p>
<p> </p>
<p>CREQ-</p>
<p>102758 </p>
<p> </p>
<p>WdgM shall provide a service to set a new trigger mode.</p>
<p> </p>
<p> </p>
<p>The watchdog manager is able to detect program flow violations, alive counter violations </p>
<p>and deadline violations. </p>
<p>The following types of faults can be detected: </p>
<p><b></b></p>
<p><b> </b></p>
<p>omission of an operation (program flow, alive counter), </p>
<p><b></b></p>
<p><b> </b></p>
<p>unrequested execution of an operation (program flow, alive counter), </p>
<p><b></b></p>
<p><b> </b></p>
<p>operation executed too early (alive counter, deadline), </p>
<p><b></b></p>
<p><b> </b></p>
<p>operation executed too late (alive counter, deadline), and </p>
<p><b></b></p>
<p><b> </b></p>
<p>operations executed in the wrong sequence (program flow). </p>
<p><b>26.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-501 </p>
<p>The user of MICROSAR Safe shall use the WdgM only on 32-bit microcontroller platforms. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>91 / 103 </p>
<p>SMI-499 </p>
<p>The user of MICROSAR Safe shall configure and verify alive supervision for a supervised </p>
<p>entity. </p>
<p>If no alive supervision is configured for a supervised entity, WdgM cannot detect if the </p>
<p>corresponding checkpoint is reached at least once. </p>
<p>Please note that for non-periodic supervised entities alive supervision is not possible. </p>
<p>A value of a pre-compile configuration parameter is valid for every core. A different value </p>
<p>cannot be set for the same pre-compile parameter and different cores. </p>
<p>SMI-498 </p>
<p>The user of MICROSAR Safe shall set the value of <i>WdgMTimebaseSource </i>according to </p>
<p>the required source of time ticks: </p>
<p><b>WdgMTimebaseSource </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>WDGM_INTERNAL_SOFTWARE_TICK </p>
<p> </p>
<p>An internal time source for Deadline Monitoring is </p>
<p>selected. The tick counter is incremented each time the </p>
<p><i>WdgM_MainFunction() </i>is invoked.</p>
<p> </p>
<p>WDGM_EXTERNAL_TICK </p>
<p> </p>
<p>An external time source for Deadline Monitoring is </p>
<p>selected. The tick counter is incremented each time the </p>
<p><i>WdgM_UpdateTickCount() </i>function is invoked. The </p>
<p>function is implemented in the WdgM. The user of </p>
<p>MICROSAR Safe is responsible for calling </p>
<p>WdgM_UpdateTickCount() accurately.</p>
<p> </p>
<p> </p>
<p>SMI-560 </p>
<p>The user of MICROSAR Safe shall use the functions <i>WdgM_ActivateSupervisionEntity() </i></p>
<p>and <i>WdgM_DeactivateSupervisionEntity() </i>to activate and deactivate the supervision of </p>
<p>supervised entities.  </p>
<p>Activation and deactivation shall only be performed by a software component that is </p>
<p>developed according to the highest ASIL that is allocated to the ECU. </p>
<p>The functions are only available if <i>WdgMEntityDeactivationEnabled </i>is set to <i>TRUE</i>. </p>
<p>Vector recommends setting <i>WdgMEntityDeactivationEnabled </i>to <i>FALSE </i>to prevent that </p>
<p>faults are not detected. </p>
<p>SMI-3413 </p>
<p>The user of MICROSAR Safe shall verify the following generated preprocessor switches: </p>
<p><b></b></p>
<p><b> </b></p>
<p>WDGM_AUTOSAR_3_1_X_COMPATIBILITY must be defined to STD_OFF </p>
<p><b></b></p>
<p><b> </b></p>
<p>WDGM_AUTOSAR_4_x must be defined to STD_ON. </p>
<p><b>26.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-3072 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>92 / 103 </p>
<p>The user of MICROSAR Safe shall verify that the WdgM is initialized only at intended </p>
<p>points in time, e.g. during initialization. </p>
<p>Unintended re-initialization may lead to a incorrect monitoring. </p>
<p>SMI-502 </p>
<p>The user of MICROSAR Safe shall verify that the output path of the generator is empty </p>
<p>before the generator is started. </p>
<p>The output path can be defined by the command line argument <i>OUTPUT-DIRECTORY</i>. </p>
<p>SMI-524 </p>
<p>The user of MICROSAR Safe shall inspect the messages of the generator execution. </p>
<p>If the generator aborts the generation process with an error message, the (partially) </p>
<p>generated output files shall not be used in the system. </p>
<p>If the generator detects an error, a message starting with &quot;ERROR&quot; is displayed on the </p>
<p>standard output. </p>
<p>If the generator shows a warning message starting with &quot;WARNING&quot;, the user of </p>
<p>MICROSAR Safe shall ensure that the cause of the warning does not invalidate the </p>
<p>generated output files. </p>
<p><b>26.3.1 Additional verification using WdgM Verifier</b></p>
<p><b> </b></p>
<p>SMI-503 </p>
<p>The user of MICROSAR Safe shall execute the supplied WdgM Verifier. </p>
<p>Instructions can be found in the technical reference of WdgM on how to run the WdgM </p>
<p>Verifier. </p>
<p>SMI-504 </p>
<p>The user of MICROSAR Safe shall verify that the report of the WdgM Verifier </p>
<p><b></b></p>
<p><b> </b></p>
<p>comprises &quot;All tests passed&quot; in the last line. and </p>
<p><b></b></p>
<p><b> </b></p>
<p>that all tests in the <i>Summary </i>of the report are marked with <i>PASSED</i>. </p>
<p>SMI-1578 </p>
<p>If an AUTOSAR OS with a version higher than 4.0 is used the verification test with id '109' </p>
<p>is marked as &quot;NOT PASSED&quot;. </p>
<p>The user of MICROSAR Safe shall verify whether the assigned core id to a WdgMMode is </p>
<p>generated correctly if an AUTOSAR OS with a version higher than 4.0 is used. The WdgM </p>
<p>Verifier cannot not verify this step due to an incompatible change of the Os's description </p>
<p>file. </p>
<p>SMI-512 </p>
<p>The user of MICROSAR Safe shall verify the generated local transitions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Generated local transitions are defined by the C-struct array with the name </p>
<p><i>local_transitions</i>. </p>
<p>The array holds all local transitions of all supervised entities. </p>
<p>Each local transition lt contains the names of: </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>93 / 103 </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source entity (SE) of lt, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source checkpoint of lt, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination entity (SE) of lt and </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination checkpoint of lt. </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each local transition is defined as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no local transition in the System Specification is missing. </p>
<p>SMI-513 </p>
<p>The user of MICROSAR Safe shall verify the generated global transitions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Generated global transitions are defined by the C-struct array with the name </p>
<p><i>global_transitions</i>. </p>
<p>The array holds all global transitions of all supervised entities. </p>
<p>Each global transition gt contains the names of: </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source entity (SE) of gt, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source checkpoint of gt, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination entity (SE) of gt, and  </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination checkpoint of gt. </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each global transition is defined as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no global transition in the System Specification is missing. </p>
<p>SMI-514 </p>
<p>The user of MICROSAR Safe shall verify the checkpoints in <i>wdgm_verifier_info.c</i>. </p>
<p>Supervised entities named se are defined by a C-struct array with the name </p>
<p><i>se_</i>&lt;se&gt;_cp_list_. </p>
<p>The array <i>se_</i>&lt;se&gt;_cp_list_ holds information about all checkpoints configured for se. </p>
<p>Each array item contains information about one checkpoint cp of the supervised entity se: </p>
<p><b></b></p>
<p><b> </b></p>
<p>the supervised entity's ID (for this cp of se), </p>
<p><b></b></p>
<p><b> </b></p>
<p>the checkpoint's ID (for this cp of se), </p>
<p><b></b></p>
<p><b> </b></p>
<p>the supervised entity name (for this cp of se), and </p>
<p><b></b></p>
<p><b> </b></p>
<p>the checkpoint name (for this cp of se). </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>94 / 103 </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each checkpoint is configured as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no checkpoint for the actual supervised entity is missing. </p>
<p>SMI-515 </p>
<p>The user of MICROSAR Safe shall verify the supervised entities in <i>wdgm_verifier_info.c</i>. </p>
<p>Supervised entities named se are defined by a C-struct array with the name <i>entities</i>. </p>
<p>The array <i>entities </i>holds information about a onfigured supervised entity. </p>
<p>The fields in an array item for a supervised entity se shall have the following values (in this </p>
<p>order): </p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Source Line Comment </b></p>
<p><b> </b></p>
<p>The entity ID (of se). </p>
<p> </p>
<p>enitity id </p>
<p> </p>
<p>The entity name (of se). </p>
<p> </p>
<p>entity name</p>
<p> </p>
<p>The number of checkpoints configured for se. </p>
<p> </p>
<p>number of checkpoints</p>
<p> </p>
<p>A reference <i>se_</i>&lt;se&gt;_cp_list_, which refers to the list of CPs for se </p>
<p> </p>
<p>this entity's checkpoints</p>
<p> </p>
<p>A reference to the callback function for se as configured in </p>
<p><i>WdgMLocalStateChangeCbk </i>(or NULL_PTR if no callback function </p>
<p>is configured). </p>
<p> </p>
<p><i>WdgMLocalStateChangeCbk</i></p>
<p> </p>
<p><i>false</i></p>
<p> </p>
<p>autosar_3_1_x_compatibility</p>
<p> </p>
<p>The application task for se as configured in field <i>WdgMAppTaskRef</i></p>
<p> </p>
<p><i>WdgMAppTaskRef</i></p>
<p> </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each supervised entity is configured as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no supervised entity is missing. </p>
<p>SMI-516 </p>
<p>The user of MICROSAR Safe shall verify the deadline supervisions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Deadline supervisions are defined by a C-struct array with the name </p>
<p><i>deadline_supervisions</i>. </p>
<p>The array <i>deadline_supervisions </i>holds information about all transitions with deadline </p>
<p>supervision. </p>
<p>Each deadline supervision dl contains the following values: </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source entity name (SE) of dl, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the source checkpoint name of dl, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination entity name (SE) of dl, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the destination checkpoint name of dl, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the minimum deadline for dl (in seconds), and </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>95 / 103 </p>
<p><b></b></p>
<p><b> </b></p>
<p>the maximum deadline of dl (in seconds). </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each deadline supervision is configured as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no deadline supervision is missing. </p>
<p>SMI-517 </p>
<p>The user of MICROSAR Safe shall verify the alive supervisions in <i>wdgm_verifier_info.c</i>. </p>
<p>Alive supervisions are defined by a C-struct array with the name <i>alive_supervisions</i>. </p>
<p>The array <i>alive_supervisions </i>holds information about all transitions with alive supervision. </p>
<p>Each alive supervision al contains the following values: </p>
<p><b></b></p>
<p><b> </b></p>
<p>the supervised entity name (SE) of al, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the checkpoint name of that se of al, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the number of expected alive indications per reference cycle of al, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the minimum margin for alive indications of al, </p>
<p><b></b></p>
<p><b> </b></p>
<p>the maximum margin for alive indications of al, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>the number of supervision reference cycle of al. </p>
<p>Verification shall include that </p>
<p><b></b></p>
<p><b> </b></p>
<p>each alive supervision is configured as stated in the System Specification, and </p>
<p><b></b></p>
<p><b> </b></p>
<p>no alive supervision is missing. </p>
<p>SMI-518 </p>
<p>The user of MICROSAR Safe shall verify the configured cores in <i>wdgm_verifier_info.c</i>. </p>
<p>The configured cores are defined in the <i>main() </i>function. </p>
<p>For each configured core with ID, the following line shall be present: </p>
<p> </p>
<p> </p>
<p>result += verify (&amp;WdgMConfig_Modem_core&lt;ID&gt;, &amp;verifier_info); </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>where ID is the core ID and m is the ID of the WdgM mode. </p>
<p>Verification shall include that for each core there is a corresponding line in the file. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>96 / 103 </p>
<p><b>26.3.2 Additional verification of generator execution</b></p>
<p><b> </b></p>
<p>SMI-506 </p>
<p>The user of MICROSAR Safe shall verify that for the following arrays in <i>WdgM_PBcfg.c</i>, </p>
<p>the array length matches the number of items in the array: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMTransition </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMGlobalTransition </i></p>
<p><b></b></p>
<p><b> </b></p>
<p>all arrays named <i>StartsGlobalTransition</i>&lt;se&gt;_&lt;cp&gt;_&lt;i&gt;_ (for a supervised entity se, a </p>
<p>checkpoint cp and an integer i) </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMCheckPoint </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMSupervisedEntity </i></p>
<p><b></b></p>
<p><b> </b></p>
<p>all arrays named <i>WdgMTriggerMode_core&lt;ID&gt; </i>(for each core with ID) </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMWatchdogDevice&lt;ID&gt; </i>(for each core with ID) </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>WdgMAllowedCallers </i></p>
<p>Some of these arrays have preprocessor defines for their size, e.g. <i>WdgMCheckPoint </i></p>
<p><i>[WDGM_NR_OF_CHECKPOINTS]</i>. These defines can be found in <i>WdgM_PBcfg.h</i>. </p>
<p>SMI-507 </p>
<p>The user of MICROSAR Safe shall verify that each item in the array </p>
<p><i>WdgMSupervisedEntity </i>follows this rules: </p>
<p>1. <i>WdgMCheckpointRef </i>has a value of the form <i>&amp;WdgMCheckPoint[i] with i &lt; </i></p>
<p><i>_WDGM_NR_OF_CHECKPOINTS</i>, and </p>
<p>2. _WdgMCheckpointLocInitialId has a value of 0. </p>
<p>The array can be found in <i>WdgM_PBcfg.c</i>. </p>
<p>SMI-508 </p>
<p>The user of MICROSAR Safe shall verify that for each core with ID </p>
<p><i>WDGM_NR_OF_WATCHDOGS_CORE&lt;ID&gt; </i>matches the actual number of configured </p>
<p>WD devices. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<p>SMI-509 </p>
<p>The user of MICROSAR Safe shall verify that for each core with ID </p>
<p><i>WDGM_NR_OF_TRIGGER_MODES_CORE&lt;ID&gt; </i>matches the actual number of </p>
<p>configured Watchdog Manager Trigger Modes. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<p>SMI-510 </p>
<p>The user of MICROSAR Safe shall verify that <i>WDGM_NR_OF_ALLOWED_CALLERS </i></p>
<p>matches the number of modules that call function <i>WdgM_SetMode()</i>. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>97 / 103 </p>
<p>SMI-511 </p>
<p>The user of MICROSAR Safe shall verify that in <i>WdgMConfig_Mode&lt;m&gt;_core&lt;ID&gt; </i>(for </p>
<p>each core with ID and every mode m), the field <i>WdgMCallersRef </i>points to </p>
<p><i>WdgMAllowedCallers </i>and <i>WdgMAllowedCallers </i>is an array of type <i>WdgM_CallersType </i></p>
<p>with a length of <i>WDGM_NR_OF_ALLOWED_CALLERS</i>. </p>
<p>The variable can be found in <i>WdgM_PBCfg.h</i>. </p>
<p>SMI-550 </p>
<p>The user of MICROSAR Safe shall verify the types used by WdgM. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_ON</i>, the types from </p>
<p><i>Rte_WdgM_Type.h </i>are used: </p>
<p><b>Type </b></p>
<p><b> </b></p>
<p><b>Allowed Value </b></p>
<p><b> </b></p>
<p><i>WdgM_SupervisedEntityIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_CheckpointIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_ModeType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_LocalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_GlobalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p>The WdgM includes <i>Rte_WdgM_Type.h </i>if and only if <i>WDGM_USE_RTE </i>is set to </p>
<p><i>STD_ON</i>. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_OFF</i>, the types from </p>
<p>WdgM are used: </p>
<p><b>Type </b></p>
<p><b> </b></p>
<p><b>Allowed Value </b></p>
<p><b> </b></p>
<p><i>WdgM_SupervisedEntityIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_CheckpointIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_ModeType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_LocalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_GlobalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p> </p>
<p>SMI-551 </p>
<p>The user of MICROSAR Safe shall verify the definitions used by WdgM. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_ON</i>, the definitions from </p>
<p><i>Rte_WdgM_Type.h </i>are used. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_OFF</i>, the definitions from </p>
<p>WdgM are used. </p>
<p><b>Definition </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGM_LOCAL_STATUS_OK</i></p>
<p> </p>
<p>0 </p>
<p> </p>
<p><i>WDGM_LOCAL_STATUS_FAILED</i></p>
<p> </p>
<p>1 </p>
<p> </p>
<p><i>WDGM_LOCAL_STATUS_EXPIRED</i></p>
<p> </p>
<p>2 </p>
<p> </p>
<p><i>WDGM_LOCAL_STATUS_DEACTIVATED</i></p>
<p> </p>
<p>4 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>98 / 103 </p>
<p><i>WDGM_GLOBAL_STATUS_OK</i></p>
<p> </p>
<p>0 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_FAILED</i></p>
<p> </p>
<p>1 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_EXPIRED</i></p>
<p> </p>
<p>2 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_STOPPED</i></p>
<p> </p>
<p>3 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_DEACTIVATED</i></p>
<p> </p>
<p>4 </p>
<p> </p>
<p>The WdgM includes <i>Rte_WdgM_Type.h </i>if and only if <i>WDGM_USE_RTE </i>is set to </p>
<p><i>STD_ON</i>. </p>
<p><b>26.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-372 </p>
<p>This component requires setting a trigger condition and setting the triggering mode as </p>
<p>safety features from WdgIf. </p>
<p>This requirement is fulfilled if the WdgIf by Vector is used. </p>
<p>SMI-3414 </p>
<p>The user of MICROSAR Safe shall call the service to set the mode as expected by the </p>
<p>Wdg stack. </p>
<p>If the watchdog is not properly set up, it may not provide the expected protection. </p>
<p><b>26.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>99 / 103 </p>
<p><b>27 Safety Manual XCP</b></p>
<p><b> </b></p>
<p><b>27.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p>SMI-178 </p>
<p>This component is only partly developed according to ASIL development process. This part </p>
<p>includes the disabling of the Xcp. </p>
<p>The main part of this component is developed according to a QM development process.  </p>
<p>Thus, this component shall only be enabled in an operating mode that do not impose risk </p>
<p>for the health of persons. </p>
<p><b>27.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>SMI-3412 </p>
<p>The user of MICROSAR Safe shall configure the following: </p>
<p><b></b></p>
<p><b> </b></p>
<p>Set </p>
<p>/MICROSAR/Xcp/XcpGeneral/XcpControl</p>
<p> to TRUE. </p>
<p>The user of MICROSAR Safe shall verify that the corresponding configuration switch is set </p>
<p>in the Xcp protocol layer and all used transport layers: </p>
<p><b>File </b></p>
<p><b> </b></p>
<p><b>Define </b></p>
<p><b> </b></p>
<p><b>STD_ON/STD_OFF </b></p>
<p><b> </b></p>
<p>Xcp_Cfg.h </p>
<p> </p>
<p>XCP_ENABLE_CONTROL </p>
<p> </p>
<p>- </p>
<p> </p>
<p>CanXcp_Cfg.h </p>
<p> </p>
<p>CANXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p>FrXcp_Cfg.h </p>
<p> </p>
<p>FRXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p>TcpIpXcp_Cfg.h </p>
<p> </p>
<p>TCPIPXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p> </p>
<p>SMI-179 </p>
<p>The user of MICROSAR Safe shall use the macros <i>XCP_ACTIVATE() </i>and </p>
<p><i>XCP_DEACTIVATE() </i>to activate and deactivate XCP protocol layer and transport layer </p>
<p>components.  </p>
<p>Activation and deactivation shall only be performed by a software component that is </p>
<p>developed according to the highest ASIL that is allocated to the ECU. </p>
<p>XCP shall only be activated in an operating mode that does not impose risk for the health </p>
<p>of persons.  </p>
<p>Note: XCP is active by default. </p>
<p>SMI-183 </p>
<p>The user of MICROSAR Safe shall make the following memory sections <b>read-only </b>for the </p>
<p>XCP protocol layer and transport layer components as well as all other software with an </p>
<p>ASIL lower than the highest ASIL allocated to the ECU: </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>XCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>100 / 103 </p>
<p><b></b></p>
<p><b> </b></p>
<p><i>CANXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>FRXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p><b></b></p>
<p><b> </b></p>
<p><i>TCPIPXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p><b>27.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>SMI-184 </p>
<p>The user of MICROSAR Safe shall verify during integration testing that XCP is disabled </p>
<p>during normal operation. </p>
<p><b>27.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>SMI-177 </p>
<p>This component requires an operating system with enabled memory partitioning. </p>
<p><b>27.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>101 / 103 </p>
<p><b>28 Glossary and Abbreviations</b></p>
<p><b> </b></p>
<p><b>28.1 Glossary</b></p>
<p><b> </b></p>
<p><b>Term</b></p>
<p><b> </b></p>
<p><b>Definition</b></p>
<p><b> </b></p>
<p>User of </p>
<p>MICROSAR </p>
<p>Safe</p>
<p> </p>
<p>Integrator and user of components from MICROSAR Safe provided by Vector.</p>
<p> </p>
<p>MICROSAR </p>
<p>Safe</p>
<p> </p>
<p>MICROSAR Safe comprises MICROSAR SafeBSW and MICROSAR SafeRTE </p>
<p>as Safety Element out of Context. MICROSAR SafeBSW is a set of components, </p>
<p>that are developed according to ISO 26262 [1], and are provided by Vector in the </p>
<p>context of this delivery. The list of MICROSAR Safe components in this delivery </p>
<p>can be taken from the documentation of the delivery.</p>
<p> </p>
<p>Critical section</p>
<p> </p>
<p>A section of code that needs to be protected from concurrent access. A critical </p>
<p>section may be protected by using the AUTOSAR exclusive area concept.</p>
<p> </p>
<p>Configuration </p>
<p>data</p>
<p> </p>
<p>Data that is used to adapt the MICROSAR Safe component to the specific use-</p>
<p>case of the user of MICROSAR Safe. Configuration data typically comprises </p>
<p>among others: feature selection, routing tables, channel tables, task priorities, </p>
<p>memory block descriptions.</p>
<p> </p>
<p>Generated </p>
<p>code</p>
<p> </p>
<p>Source code that is generated as a result of the configuration in DaVinci </p>
<p>Configurator Pro</p>
<p> </p>
<p>Partition</p>
<p> </p>
<p>A set of memory regions that is accessible by tasks and ISRs. Synonym to </p>
<p>OSApplication. </p>
<p> </p>
<p> </p>
<p><b>28.2 Abbreviations</b></p>
<p><b> </b></p>
<p><b>Abbreviation</b></p>
<p><b> </b></p>
<p><b>Description</b></p>
<p><b> </b></p>
<p>ASIL</p>
<p> </p>
<p>Automotive Safety Integrity Level</p>
<p> </p>
<p>BSWMD</p>
<p> </p>
<p>Basic Software Module Description</p>
<p> </p>
<p>CPU</p>
<p> </p>
<p>Central Processing Unit</p>
<p> </p>
<p>CREQ</p>
<p> </p>
<p>Component Requirement</p>
<p> </p>
<p>EEPROM</p>
<p> </p>
<p>Eletronically Ereasable and Programmable Read-only Memory</p>
<p> </p>
<p>ECC</p>
<p> </p>
<p>Error Correcting Code</p>
<p> </p>
<p>ECU</p>
<p> </p>
<p>Electronic Control Unit</p>
<p> </p>
<p>EXT</p>
<p> </p>
<p>Driver for an external hardware unit</p>
<p> </p>
<p>ISO</p>
<p> </p>
<p>International Standardization Organization</p>
<p> </p>
<p>MCAL</p>
<p> </p>
<p>Microcontroller Abstraction</p>
<p> </p>
<p>MIP</p>
<p> </p>
<p>Module Implementation Prefix</p>
<p> </p>
<p>MSSV</p>
<p> </p>
<p>MICROSAR Safe Silence Verifier</p>
<p> </p>
<p>OS</p>
<p> </p>
<p>Operating System</p>
<p> </p>
<p>PDU</p>
<p> </p>
<p>Protocol Data Unit</p>
<p> </p>
<p>QM</p>
<p> </p>
<p>Quality Management</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>102 / 103 </p>
<p>RAM</p>
<p> </p>
<p>Random Access Memory</p>
<p> </p>
<p>SMI</p>
<p> </p>
<p>Safety Manual Item</p>
<p> </p>
<p>TCL</p>
<p> </p>
<p>Tool Confidence Level</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1601056 D00</p>
<p> </p>
<p></p>
<p>2017 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>103 / 103 </p>
<p><b>29 Contact</b></p>
<p><b> </b></p>
<p>Visit our website for more information on </p>
<p><b></b></p>
<p><b> </b></p>
<p>News </p>
<p><b></b></p>
<p><b> </b></p>
<p>Products </p>
<p><b></b></p>
<p><b> </b></p>
<p>Demo software </p>
<p><b></b></p>
<p><b> </b></p>
<p>Support </p>
<p><b></b></p>
<p><b> </b></p>
<p>Training data </p>
<p><b></b></p>
<p><b> </b></p>
<p>Addresses </p>
<p>www.vector.com  </p>
</body>
</html>
{% endraw %}